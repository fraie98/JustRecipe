Index: .idea/shelf/Uncommitted_changes_before_Update_at_18_12_20,_22_22_[Default_Changelist]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20,_22_22_[Default_Changelist]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20,_22_22_[Default_Changelist]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20,_22_22_[Default_Changelist]/shelved.patch	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,452 +0,0 @@
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipeSnapshotController.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.controller;\n\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Session;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.text.Text;\n\nimport java.util.Date;\n\npublic class RecipeSnapshotController {\n\n    @FXML private Pane snapPane;\n    @FXML private Label snapTitle;\n    @FXML private Label snapUser;\n    @FXML private Label snapCarbs;\n    @FXML private Label snapCal;\n    @FXML private Label snapFat;\n    @FXML private Label snapProtein;\n    @FXML private ImageView snapImg;\n    @FXML private Label snapCategories;\n\n    private Recipe recipe; // recipe shows in this snapshot\n    private Neo4jDriver neo4jDriver;\n    private Session appSession;\n\n    public void initialize ()\n    {\n        appSession = Session.getInstance();\n        neo4jDriver = Neo4jDriver.getInstance();\n        snapPane.setOnMouseClicked(mouseEvent -> showMoreInformation(mouseEvent));\n    }\n\n    /**\n     * This function is used to show the complete information of the recipe in a new page\n     * @param mouseEvent    The event that leads to show the recipe completely (click of the mouse in the pane)\n     */\n    private void showMoreInformation(MouseEvent mouseEvent) {\n        RecipePageController recipePageController =\n                (RecipePageController) Utils.changeScene(\"/recipePage.fxml\", mouseEvent);\n        recipePageController.setRecipe(recipe);\n    }\n\n\n    public void setRecipe (Recipe recipe)\n    {\n        this.recipe = recipe;\n        snapTitle.setText(recipe.getTitle());\n        snapUser.setText(recipe.getAuthorUsername());\n        snapCarbs.setText(String.valueOf(recipe.getCarbs()));\n        snapProtein.setText(String.valueOf(recipe.getProtein()));\n        snapFat.setText(String.valueOf(recipe.getFat()));\n        snapCal.setText(String.valueOf(recipe.getCalories()));\n        snapCategories.setText(Utils.fromListToString(recipe.getCategories()));\n        if (recipe.getPicture() != null)\n        {\n            snapImg.setImage(new Image(recipe.getPicture()));\n        }\n        else\n        {\n            snapImg.setImage(new Image(\"img/genericRecipe.png\"));\n        }\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipeSnapshotController.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipeSnapshotController.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipeSnapshotController.java	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipeSnapshotController.java	(date 1608318622166)
-@@ -2,6 +2,7 @@
- 
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Session;
-+import it.unipi.dii.inginf.lsdb.justrecipe.persistence.MongoDBDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
- import javafx.fxml.FXML;
-@@ -12,6 +13,7 @@
- import javafx.scene.layout.Pane;
- import javafx.scene.text.Text;
- 
-+import javax.lang.model.type.NullType;
- import java.util.Date;
- 
- public class RecipeSnapshotController {
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.model;\n\nimport com.google.gson.annotations.SerializedName;\nimport org.bson.types.ObjectId;\n\nimport java.beans.Transient;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Recipe {\n    private String title;\n    private String instructions;\n    private List<String> ingredients;\n    private List<String> categories;\n    private int calories;\n    private int fat;\n    private int protein;\n    private int carbs;\n    private Date creationTime;\n    private String picture;\n    private String authorUsername;\n    private List<Comment> comments;\n\n    //Blank constructor\n    public Recipe(){}\n\n    //Constructor\n    public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,\n                  int calories, int fat, int protein, int carbs, Date creationTime, String picture, String authorUsername,\n                  List<Comment> comments)\n    {\n        this.title = title;\n        this.picture = picture;\n        this.instructions = instructions;\n        this.ingredients = ingredients;\n        this.categories = categories;\n        this.creationTime = creationTime;\n        this.calories = calories;\n        this.fat = fat;\n        this.protein = protein;\n        this.carbs = carbs;\n        this.authorUsername = authorUsername;\n        this.comments = comments;\n    }\n\n    public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,\n                  int calories, int fat, int protein, int carbs, Date creationTime, String picture,\n                  String authorUsername)\n    {\n        this( title, instructions, ingredients, categories, calories, fat, protein, carbs,\n                creationTime, picture, authorUsername, new ArrayList<Comment>());\n    }\n\n\n    //Getters\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getPicture() {\n        return picture;\n    }\n\n    public String getInstructions() {\n        return instructions;\n    }\n\n    public List<String> getIngredients() {\n        return ingredients;\n    }\n\n    public List<String> getCategories() {\n        return categories;\n    }\n\n    public Date getCreationTime() {\n        return creationTime;\n    }\n\n    public int getCalories() {\n        return calories;\n    }\n\n    public int getFat() {\n        return fat;\n    }\n\n    public int getProtein() {\n        return protein;\n    }\n\n    public int getCarbs() {\n        return carbs;\n    }\n\n    public String getAuthorUsername() {\n        return authorUsername;\n    }\n\n    public List<Comment> getComments() {\n        return comments;\n    }\n\n    //Setters\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setPicture(String picture) {\n        this.picture = picture;\n    }\n\n    public void setInstructions(String instructions) {\n        this.instructions = instructions;\n    }\n\n    public void setIngredients(List<String> ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public void setCategories(List<String> categories) {\n        this.categories = categories;\n    }\n\n    public void setCreationTime(Date creationTime) {\n        this.creationTime = creationTime;\n    }\n\n    public void setCalories(int calories) {\n        this.calories = calories;\n    }\n\n    public void setFat(int fat) {\n        this.fat = fat;\n    }\n\n    public void setProtein(int protein) {\n        this.protein = protein;\n    }\n\n    public void setCarbs(int carbs) {\n        this.carbs = carbs;\n    }\n\n    public void setAuthorUsername(String authorUsername) {\n        this.authorUsername = authorUsername;\n    }\n\n    public void setComments(List<Comment> comments) {\n        this.comments = comments;\n    }\n\n    public void addComments(Comment comment) {this.comments.add(comment);}\n\n    @Override\n    public String toString() {\n        return \"Recipe{\" +\n                \"title='\" + title + '\\'' +\n                \", instructions='\" + instructions + '\\'' +\n                \", ingredients=\" + ingredients +\n                \", categories=\" + categories +\n                \", calories=\" + calories +\n                \", fat=\" + fat +\n                \", protein=\" + protein +\n                \", carbs=\" + carbs +\n                \", creationTime=\" + creationTime +\n                \", picture='\" + picture + '\\'' +\n                \", authorUsername='\" + authorUsername + '\\'' +\n                \", comments=\" + comments +\n                '}';\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java	(date 1608286618533)
-@@ -44,6 +44,13 @@
-         this.comments = comments;
-     }
- 
-+    public Recipe(String title, int fat, int calories, int protein){
-+        this.title = title;
-+        this.fat = fat;
-+        this.protein = protein;
-+        this.calories = calories;
-+    }
-+
-     public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,
-                   int calories, int fat, int protein, int carbs, Date creationTime, String picture,
-                   String authorUsername)
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.persistence;\n\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.*;\nimport com.mongodb.client.model.Accumulators;\nimport com.mongodb.client.model.Aggregates;\nimport com.mongodb.client.model.Filters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.config.ConfigurationParameters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.User;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport org.bson.Document;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.codecs.pojo.PojoCodecProvider;\nimport org.bson.conversions.Bson;\nimport java.lang.reflect.Type;\nimport java.util.*;\nimport java.util.function.Consumer;\nimport java.util.regex.Pattern;\n\nimport static com.mongodb.client.model.Aggregates.*;\nimport static com.mongodb.client.model.Filters.eq;\nimport static com.mongodb.client.model.Projections.*;\nimport static com.mongodb.client.model.Projections.include;\nimport static com.mongodb.client.model.Sorts.descending;\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\n\n/**\n * This class is used to communicate with MongoDB\n */\npublic class MongoDBDriver implements DatabaseDriver{\n    private static MongoDBDriver instance;\n\n    private MongoClient mongoClient;\n    private MongoDatabase database;\n    private MongoCollection collection;\n    private CodecRegistry pojoCodecRegistry;\n    private String ip;\n    private int port;\n    private String username;\n    private String password;\n    private String dbName;\n\n    public static MongoDBDriver getInstance() {\n        if (instance == null)\n        {\n            instance = new MongoDBDriver(Utils.readConfigurationParameters());\n        }\n        return instance;\n    }\n\n    /**\n     * Consumer function that prints the document in json format\n     */\n    private Consumer<Document> printDocuments = doc -> {\n        System.out.println(doc.toJson());\n    };\n\n    private MongoDBDriver (ConfigurationParameters configurationParameters)\n    {\n        this.ip = configurationParameters.getMongoIp();\n        this.port = configurationParameters.getMongoPort();\n        this.username = configurationParameters.getMongoUsername();\n        this.password = configurationParameters.getMongoPassword();\n        this.dbName = configurationParameters.getMongoDbName();\n        initConnection();\n        chooseCollection(\"recipe\");\n    }\n\n    /**\n     * Method that inits the MongoClient and choose the correct database\n     */\n    @Override\n    public void initConnection() {\n        ConnectionString connectionString;\n        if (!username.equals(\"\")) // if there are access rules\n        {\n            connectionString = new ConnectionString(\"mongodb://\" + username + \":\" + password\n                    + \"@\" + ip + \":\" + port);\n        }\n        else // standard access\n        {\n            connectionString = new ConnectionString(\"mongodb://\" + ip + \":\" + port);\n        }\n        mongoClient = MongoClients.create(connectionString);\n        database = mongoClient.getDatabase(dbName);\n        pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(PojoCodecProvider.builder().automatic(true).build()));\n    }\n\n    /**\n     * Method used to close the connection\n     */\n    @Override\n    public void closeConnection() {\n        if (mongoClient != null)\n            mongoClient.close();\n    }\n\n    /**\n     * Method used to change the collection\n     * @param name  name of the new collection\n     */\n    public void chooseCollection(String name)\n    {\n        collection = database.getCollection(name);\n    }\n\n    /**\n     * Function used to get the list of Recipe to show in the homepage\n     * @param howManySkip       how many to skip\n     * @param howMany           how many recipe we want obtain\n     * @param follower          list of follower of the user, used to choose the interest recipes\n     * @return                  The list of element to show, in descendent order from creationTime\n     */\n    public List<Recipe> getHomepageRecipe (int howManySkip, int howMany, List<User> follower)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        List<Document> results = new ArrayList<>();\n        if (follower.size() != 0)\n        {\n            // TO DO\n            // Check for the recipe done by the following of the user\n        }\n        else\n        {\n            Bson sort = sort(descending(\"creationTime\"));\n            Bson skip = skip(howManySkip);\n            Bson limit = limit(howMany);\n            results = (List<Document>) collection.aggregate(Arrays.asList(sort, skip, limit))\n                    .into(new ArrayList<>());\n        }\n\n        // This is important for deserialize the results in a list of recipe\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function that returns \"howMany\" recipes that contains in their title the title inserted by the user\n     * @param title         Title to check\n     * @param howManySkip   How many to skip\n     * @param howMany       How many recipe we want obtain\n     * @return              The list of the recipes that match the condition\n     */\n    public List<Recipe> searchRecipesFromTitle (String title, int howManySkip, int howMany)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        Pattern pattern = Pattern.compile(\"^.*\" + title + \".*$\", Pattern.CASE_INSENSITIVE);\n        Bson match = Aggregates.match(Filters.regex(\"title\", pattern));\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(howManySkip);\n        Bson limit = limit(howMany);\n        List<Document> results = (List<Document>) collection.aggregate(Arrays.asList(match, sort, skip, limit))\n                .into(new ArrayList<>());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function that return the most common categories (the top one used)\n     * @param howManyCategories     How many category to consider in the rank\n     * @return                      The category ordered by the number of recipes in which it is used\n     */\n    public List<String> searchMostCommonRecipeCategories (int howManyCategories)\n    {\n        List<String> mostCommonCategories = new ArrayList<>();\n        Bson unwind = unwind(\"$categories\");\n        Bson group = group(\"$categories\", Accumulators.sum(\"numberOfRecipes\", 1));\n        Bson project = project(fields(computed(\"categories\", \"$_id\"), excludeId(), include(\"numberOfRecipes\")));\n        Bson sort = sort(descending(\"numberOfRecipes\"));\n        Bson limit = limit(howManyCategories);\n        List<Document> results = (List<Document>)\n                collection.aggregate(Arrays.asList(unwind, group, project, sort, limit)).into(new ArrayList());\n\n        for (Document document: results)\n        {\n            mostCommonCategories.add(document.getString(\"categories\"));\n        }\n        return mostCommonCategories;\n    }\n\n    /**\n     * Function that returns \"howMany\" recipes of one category\n     * @param category      The category to consider\n     * @param howMany       How many recipes to return\n     * @return              List of the recipes\n     */\n    public List<Recipe> getRecipesOfCategory (String category, int howMany)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        Bson match = match(Filters.in(\"categories\", category));\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson limit = limit(howMany);\n        List<Document> results = (List<Document>)\n                collection.aggregate(Arrays.asList(match, sort, limit)).into(new ArrayList());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function for searching all the comments, ordered by the creationTime (first the last)\n     * The list will be useful for the moderators\n     * @param howManySkip   How many to skip\n     * @param howMany       How many comments we want obtain\n     * @return              The list of the comments\n     */\n    public List<Comment> searchAllComments (int howManySkip, int howMany)\n    {\n        List<Comment> comments = new ArrayList<>();\n        Gson gson = new Gson();\n        Bson unwind = unwind(\"$comments\");\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(howManySkip);\n        Bson limit = limit(howMany);\n        MongoCursor<Document> iterator = (MongoCursor<Document>)\n                collection.aggregate(Arrays.asList(unwind, sort, skip, limit)).iterator();\n        while (iterator.hasNext())\n        {\n            Document document = (Document) iterator.next().get(\"comments\");\n            Comment comment = gson.fromJson(gson.toJson(document), Comment.class);\n            comments.add(comment);\n        }\n        return comments;\n    }\n    public void updateComments(String title, List<Comment> comments){\n//        chooseCollection(\"recipe\");\n        collection = collection.withCodecRegistry(pojoCodecRegistry);\n        Bson update = new Document(\"comments\", comments);\n        Bson updateOperation = new Document(\"$set\", update);\n        collection.updateOne(new Document(\"title\", title), updateOperation);\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java	(date 1608324246622)
-@@ -17,6 +17,8 @@
- import org.bson.codecs.configuration.CodecRegistry;
- import org.bson.codecs.pojo.PojoCodecProvider;
- import org.bson.conversions.Bson;
-+
-+import javax.print.Doc;
- import java.lang.reflect.Type;
- import java.util.*;
- import java.util.function.Consumer;
-@@ -143,6 +145,30 @@
-         return recipes;
-     }
- 
-+    public List<Recipe> getRecipesFromAuthorUsername(int howManySkip, int howMany, String username){
-+        List<Recipe> recipes = new ArrayList<>();
-+        Gson gson = new Gson();
-+        List<Document> results = new ArrayList<>();
-+        Bson sort = sort(descending("creationTime"));
-+        Bson skip = skip(howManySkip);
-+        Bson limit = limit(howMany);
-+        Bson match = match(eq("authorUsername", username));
-+        results = (List<Document>) collection.aggregate(Arrays.asList(match, sort, skip, limit))
-+                .into(new ArrayList<>());
-+        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();
-+        recipes = gson.fromJson(gson.toJson(results), recipeListType);
-+        return recipes;
-+    }
-+
-+    public Recipe getRecipeFromTitle(String title){
-+        Recipe recipe = null;
-+        Gson gson = new Gson();
-+        Type recipeType = new TypeToken<Recipe>(){}.getType();
-+        Document myDoc =(Document) collection.find(eq("title", title)).first();
-+        recipe = gson.fromJson(gson.toJson(myDoc), recipeType);
-+        return recipe;
-+    }
-+
-     /**
-      * Function that returns "howMany" recipes that contains in their title the title inserted by the user
-      * @param title         Title to check
-@@ -163,6 +189,7 @@
-                 .into(new ArrayList<>());
-         Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();
-         recipes = gson.fromJson(gson.toJson(results), recipeListType);
-+        System.out.println(recipes);
-         return recipes;
-     }
- 
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/Neo4jDriver.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.persistence;\n\nimport com.sun.org.apache.xpath.internal.operations.Bool;\nimport it.unipi.dii.inginf.lsdb.justrecipe.config.ConfigurationParameters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.User;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport org.neo4j.driver.*;\n\nimport java.util.Date;\nimport java.util.NoSuchElementException;\n\nimport static org.neo4j.driver.Values.parameters;\n\n/**\n * This class is used to communicate with Neo4j\n */\npublic class Neo4jDriver implements DatabaseDriver{\n    private static Neo4jDriver instance = null; // Singleton Instance\n\n    private Driver driver;\n    private String ip;\n    private int port;\n    private String username;\n    private String password;\n\n    private Neo4jDriver(ConfigurationParameters configurationParameters)\n    {\n        this.ip = configurationParameters.getNeo4jIp();\n        this.port = configurationParameters.getNeo4jPort();\n        this.username = configurationParameters.getNeo4jUsername();\n        this.password = configurationParameters.getNeo4jPassword();\n        initConnection();\n    }\n\n    public static Neo4jDriver getInstance()\n    {\n        if (instance == null)\n        {\n            instance = new Neo4jDriver(Utils.readConfigurationParameters());\n        }\n        return instance;\n    }\n\n    /**\n     * Method that inits the Driver\n     */\n    @Override\n    public void initConnection()\n    {\n        driver = GraphDatabase.driver( \"neo4j://\" + ip + \":\" + port, AuthTokens.basic( username, password ) );\n    }\n\n    /**\n     * Method for closing the connection of the Driver\n     */\n    @Override\n    public void closeConnection ()\n    {\n        if (driver != null)\n            driver.close();\n    }\n\n    /**\n     * Method that creates a new node in the graphDB with the information of the new user\n     * @param firstName     first name of the new user\n     * @param lastName      last name of the new user\n     * @param username      username of the new user\n     * @param password      password of the new user\n     */\n    public void addUser( final String firstName, final String lastName, final String username,\n                         final String password)\n    {\n        try ( Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Void>) tx -> {\n                tx.run( \"MERGE (u:User {firstName: $firstName, lastName: $lastName, username: $username,\" +\n                                \"password: $password, role:0})\",\n                        parameters( \"firstName\", firstName, \"lastName\", lastName, \"username\",\n                                username, \"password\", password ) );\n                return null;\n            });\n        }\n    }\n\n    /**\n     * It controls that a user with the given username exists or not\n     * @param username  username of the user that I want to control\n     * @return true if the user is registered, false otherwise\n     */\n    public boolean isRegistered (final String username)\n    {\n        Boolean isPresent;\n        try ( Session session = driver.session())\n        {\n             isPresent = session.readTransaction((TransactionWork<Boolean>) tx -> {\n                 Result result = tx.run( \"MATCH (u:User) \" +\n                                 \"WHERE u.username = $username \" +\n                                 \"RETURN u \" +\n                                 \"LIMIT 1\",\n                        parameters( \"username\", username) );\n                 if (result.stream().count() != 0)\n                    return true;\n                 else\n                     return false;\n            });\n        }\n        return isPresent;\n    }\n\n    /**\n     * It performs the login with the given username and password\n     * @param username  Username of the target user\n     * @param pw  Password of the target user\n     * @return The object user if the login is done successfully, otherwise null\n     */\n    public User login(final String username, final String pw)\n    {\n        User u = null;\n        try ( Session session = driver.session())\n        {\n            u = session.readTransaction((TransactionWork<User>) tx -> {\n                Result result = tx.run( \"MATCH (u:User) \" +\n                                \"WHERE u.username = $username \" +\n                                \"AND u.password = $password \" +\n                                \"RETURN u.firstName, u.lastName, u.username, u.password, u.role  \" +\n                                \"LIMIT 1\",\n                        parameters( \"username\", username,\"password\",pw) );\n                User log = null;\n                try\n                {\n                    Record r = result.next();\n                    log = new User(r.get(0).asString(),r.get(1).asString(),null,r.get(2).asString(),r.get(3).asString(),r.get(4).asInt());\n                }\n                catch (NoSuchElementException ex)\n                {\n                    log = null;\n                }\n\n                return log;\n            });\n        }\n        return u;\n    }\n\n    /**\n     * It controls if a user with username @one is followed by the user with username @two\n     * @param one  Username of user one\n     * @param two  Username of user two\n     * @return  true if one is followed by two, false otherwise\n     */\n    public Boolean isUserOneFollowedByUserTwo(String one, String two)\n    {\n        Boolean relation;\n        try(Session session = driver.session())\n        {\n            relation = session.readTransaction((TransactionWork<Boolean>) tx -> {\n                    Result r = tx.run(\"match (a:User{username:$two})-[r:FOLLOWS]->(b:User{username:$one}) \" +\n                            \"return count(*)\",parameters(\"one\",one,\"two\",two));\n                    Record rec = r.next();\n                    if(rec.get(0).asInt()==0)\n                        return false;\n                    else\n                        return true;\n            });\n        }\n        return relation;\n    }\n\n    /**\n     * It creates the relation follower-[:Follow]->following\n     * @param follower  The user who starts to follow\n     * @param following  The user who is followed by follower\n     */\n    public void follow(String follower, String following)\n    {\n        try(Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Integer>) tx -> {\n                    tx.run(\"match (a:User) where a.username=$following \" +\n                            \"match (b:User) where b.username=$follower \" +\n                            \"merge (b)-[:FOLLOWS]->(a)\",parameters(\"follower\",follower,\"following\",following));\n                    return 1;\n                });\n        }\n    }\n\n    /**\n     * It deletes the relation oldFollower-[:Follow]->oldFollowing\n     * @param oldFollower  The user who decide to unfollow\n     * @param oldFollowing  The user unfollowed\n     */\n    public void unfollow(String oldFollower, String oldFollowing)\n    {\n        try(Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Integer>) tx -> {\n                    tx.run(\"match (u:User{username:$oldFollower})-[r:FOLLOWS]->(u2:User{username:$oldFollowing})\" +\n                            \" delete r\",parameters(\"oldFollower\",oldFollower,\"oldFollowing\",oldFollowing));\n                    return 1;\n                });\n        }\n    }\n\n    /**\n     * It counts the number of follower of a given user\n     * @param user  Username of the target user\n     * @return  the number of follower\n     */\n    public int howManyFollower(String user)\n    {\n        return howMany( \"match (a:User)-[r:FOLLOWS]->(b:User{username:$user}) return count(a)\",user);\n    }\n\n    /**\n     * It counts the number of following of a given user\n     * @param user  Username of the target user\n     * @return  The number of following\n     */\n    public int howManyFollowing(String user)\n    {\n        return howMany(\"match (a:User)<-[r:FOLLOWS]-(b:User{username:$placeholder}) return count(a)\",user);\n    }\n\n    /**\n     * It counts the number of likes of a given recipe\n     * @param recipeTitle  Title of the given recipe\n     * @return  The number of likes\n     */\n    public int howManyLikes(String recipeTitle)\n    {\n        return howMany(\"match (a:User)-[r:LIKES]->(b:Recipe{title:$placeholder}) return count(a)\",recipeTitle);\n    }\n    /**\n     * Private function which execute a given query that count how many relation enter or go out from a node\n     * @param query  query text\n     * @param userOrRecipe  username of the given user or title of the given recipe\n     * @return  the number of incoming or outgoing relation\n     */\n    private int howMany(String query, String userOrRecipe)\n    {\n        int howMany;\n\n        try(Session session = driver.session())\n        {\n            howMany = session.readTransaction((TransactionWork<Integer>) tx -> {\n                Result r = tx.run(query,parameters(\"placeholder\",userOrRecipe));\n                Record rec = r.next();\n                return rec.get(0).asInt();\n            });\n        }\n        return howMany;\n    }\n\n    /**\n     * It controls if the given recipe is liked by the given user\n     * @param recipeTitle  title of the given recipe\n     * @param one  username of the given user\n     * @return  true if the given recipe is liked by the given user, false otherwise\n     */\n    public Boolean isThisRecipeLikedByOne(String recipeTitle, String one)\n    {\n        Boolean relation;\n        try(Session session = driver.session())\n        {\n            relation = session.readTransaction((TransactionWork<Boolean>) tx -> {\n                Result r = tx.run(\"match (a:User{username:$one})-[r:LIKES]->(b:Recipe{title:$t}) \" +\n                        \"return count(*)\",parameters(\"one\",one,\"t\",recipeTitle));\n                Record rec = r.next();\n                if(rec.get(0).asInt()==0)\n                    return false;\n                else\n                    return true;\n            });\n        }\n        return relation;\n    }\n\n    /**\n     * It creates the relation user-[:LIKES]->recipe\n     * @param user  Username of the target user\n     * @param recipeTitle  Title of the target recipe\n     */\n    public void like(String user, String recipeTitle)\n    {\n        try(Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Integer>) tx -> {\n                    tx.run(\"match (a:User) where a.username=$u \" +\n                            \"match (b:Recipe) where b.title=$t \" +\n                            \"merge (a)-[:LIKES]->(b)\",parameters(\"u\",user,\"t\",recipeTitle));\n                    return 1;\n            });\n        }\n    }\n\n    /**\n     * It deletes the relation user-[:LIKES]->recipe\n     * @param user  Username of the target user\n     * @param recipeTitle  Title of the target recipe\n     */\n    public void unlike(String user, String recipeTitle)\n    {\n        try(Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Integer>) tx -> {\n                    tx.run(\"match (u:User{username:$u})-[r:LIKES]->(p:Recipe{title:$t})\" +\n                            \" delete r\",parameters(\"u\",user,\"t\",recipeTitle));\n                    return 1;\n            });\n        }\n    }\n\n    /**\n     * It deletes the user with the given username\n     * @param username username of the user that I want to delete\n     */\n    public void deleteUser(String username)\n    {\n\n    }\n\n    /**\n     * It deletes a recipe given the title and the creation timestamp (the title is not unique)\n     * @param title  title of the recipe that I want to delete (target recipe)\n     * @param creationTs  creation timestamp of the target recipe\n     */\n    public void deleteRecipe(String title, Date creationTs)\n    {\n\n    }\n\n    /**\n     * It deletes a comment given the author and the creationTs\n     * @param author author of the target comment\n     * @param creationTs creation timestamp of the target comment\n     */\n    public void deleteComment(String author, Date creationTs)\n    {\n\n    }\n\n    /**\n     * Edit a user given its username\n     * @param username username of the target user\n     */\n    public void editProfile(String username)\n    {\n\n    }\n\n    /**\n     * It edit a comment given its title and its creation timestamp\n     * @param title\n     * @param creationTs\n     */\n    public void editComment(String title, Date creationTs)\n    {\n\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/Neo4jDriver.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/Neo4jDriver.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/Neo4jDriver.java	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/Neo4jDriver.java	(date 1608300704606)
-@@ -7,9 +7,12 @@
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
- import org.neo4j.driver.*;
- 
-+import java.util.ArrayList;
- import java.util.Date;
-+import java.util.List;
- import java.util.NoSuchElementException;
- 
-+import static org.neo4j.driver.Values.NULL;
- import static org.neo4j.driver.Values.parameters;
- 
- /**
-@@ -357,5 +360,37 @@
-     public void editComment(String title, Date creationTs)
-     {
- 
-+    }
-+
-+    public List<Recipe> getRecipeSnap(int howManySkip, int howMany, String username){
-+        List <Recipe> recipes = new ArrayList<>();
-+        System.out.println(username);
-+        try(Session session = driver.session()) {
-+            session.readTransaction((TransactionWork<List<Recipe>>) tx -> {
-+                Result result = tx.run("MATCH (u:User{username:$u})-[ADDS]->(r:Recipe)"+"RETURN r.title as Title," +
-+                                "r.calories as Calories, r.fat as Fat, r.protein as Protein SKIP $skip LIMIT $limit",
-+                        parameters("u",username, "skip", howManySkip, "limit", howMany));
-+
-+                while(result.hasNext()){
-+                    Record r = result.next();
-+                    String title = r.get("Title").asString();
-+                    int calories = 0;
-+                    int protein = 0;
-+                    int fat = 0;
-+                    if(r.get("Calories") != NULL)
-+                        calories = r.get("Calories").asInt();
-+                    if(r.get("Fat") != NULL)
-+                        fat = r.get("Fat").asInt();
-+                    if(r.get("Protein") != NULL)
-+                        protein = r.get("Protein").asInt();
-+                    Recipe recipe = new Recipe(title, fat, calories, protein);
-+                    recipe.setAuthorUsername(username);
-+                    recipes.add(recipe);
-+                }
-+                System.out.println(recipes);
-+                return recipes;
-+            });
-+        }
-+        return recipes;
-     }
- }
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/ProfilePageController.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.controller;\n\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Session;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.User;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.MongoDBDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport javafx.fxml.FXML;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\n\npublic class ProfilePageController {\n    private Neo4jDriver neo4jDriver;\n    private MongoDBDriver mongoDBDriver;\n    private Session appSession;\n    @FXML private ImageView homepageIcon;\n    @FXML private ImageView discoveryImg;\n    @FXML private ImageView logoutPic;\n    @FXML private ImageView addRecipeImg;\n    @FXML private ImageView profileDeleteUser;\n    @FXML private ImageView profileEditUser;\n    public void initialize ()\n    {\n        appSession = Session.getInstance();\n        neo4jDriver = Neo4jDriver.getInstance();\n        //mongoDBDriver = MongoDBDriver.getInstance();\n        homepageIcon.setOnMouseClicked(mouseEvent -> clickOnHomepageToChangePage(mouseEvent));\n        discoveryImg.setOnMouseClicked(mouseEvent -> clickOnDiscImgtoChangePage(mouseEvent));\n        logoutPic.setOnMouseClicked(mouseEvent -> clickOnLogoutImg(mouseEvent));\n        addRecipeImg.setOnMouseClicked(mouseEvent -> clickOnAddRecipeImg(mouseEvent));\n    }\n\n    public void setProfile(User u)\n    {\n        if(appSession.getLoggedUser().getRole()!=3 && !appSession.getLoggedUser().getUsername().equals(u.getUsername()))\n            profileDeleteUser.setVisible(false);\n        else\n            profileDeleteUser.setOnMouseClicked(mouseEvent -> neo4jDriver.deleteUser(u.getUsername()));\n\n        if(appSession.getLoggedUser().getUsername().equals(u.getUsername()))\n            profileEditUser.setOnMouseClicked(mouseEvent -> neo4jDriver.editProfile(u.getUsername()));\n        else\n            profileEditUser.setVisible(false);\n    }\n\n    /**\n     * Function that let the navigation into the ui ---> homepage\n     * @param mouseEvent event that represents the click on the icon\n     */\n    private void clickOnHomepageToChangePage(MouseEvent mouseEvent){\n        try{\n            HomePageController homePageController = (HomePageController)\n                    Utils.changeScene(\"/homepage.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"homePageController is null!!!!\");}\n    }\n\n    private void clickOnAddRecipeImg(MouseEvent mouseEvent){\n        try{\n            AddRecipePageController addRecipePageController;\n            addRecipePageController = (AddRecipePageController)\n                    Utils.changeScene(\"/addRecipe.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"addRecipePageController is null!!!!\");n.printStackTrace();}\n    }\n\n    /**\n     * Function that let the logout action, by going into the welcome page\n     * @param mouseEvent event that represents the click on the icon\n     */\n    private void clickOnLogoutImg(MouseEvent mouseEvent){\n        try {\n            WelcomePageController welcomePageController = (WelcomePageController)\n                    Utils.changeScene(\"/welcome.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"profilePageController is null!!!!\");}\n    }\n\n    /**\n     * Function that let the navigation into the ui ---> discoveryPage\n     * @param mouseEvent event that represents the click on the icon\n     */\n    private void clickOnDiscImgtoChangePage(MouseEvent mouseEvent){\n        try{\n            DiscoveryPageController discoveryPageController = (DiscoveryPageController)\n                    Utils.changeScene(\"/discoveryPage.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"homePageController is null!!!!\");}\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/ProfilePageController.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/ProfilePageController.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/ProfilePageController.java	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/ProfilePageController.java	(date 1608326407586)
-@@ -6,28 +6,56 @@
- import it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
- import javafx.fxml.FXML;
-+import javafx.scene.control.Button;
- import javafx.scene.image.ImageView;
- import javafx.scene.input.MouseEvent;
-+import javafx.scene.layout.VBox;
-+import javafx.scene.text.Text;
-+
-+import java.util.ArrayList;
- 
- public class ProfilePageController {
-     private Neo4jDriver neo4jDriver;
-     private MongoDBDriver mongoDBDriver;
-     private Session appSession;
-+    private final int HOW_MANY_SNAPSHOT_TO_SHOW = 20;
-+    private int page; // number of page (at the beginning at 0), increase with nextButton and decrease with previousButton
-+
-     @FXML private ImageView homepageIcon;
-     @FXML private ImageView discoveryImg;
-     @FXML private ImageView logoutPic;
-     @FXML private ImageView addRecipeImg;
-     @FXML private ImageView profileDeleteUser;
-     @FXML private ImageView profileEditUser;
-+    @FXML private VBox recipeVbox;
-+    @FXML private Text userName;
-+    @FXML private Text followerNumber;
-+    @FXML private Text followingNumber;
-+    @FXML private Text recipesNumber;
-+    @FXML private Button nextButton;
-+    @FXML private Button previousButton;
-+
-     public void initialize ()
-     {
-         appSession = Session.getInstance();
-         neo4jDriver = Neo4jDriver.getInstance();
--        //mongoDBDriver = MongoDBDriver.getInstance();
-+        mongoDBDriver = MongoDBDriver.getInstance();
-+//        Utils.addRecipesSnap(recipeVbox, neo4jDriver.getRecipeSnap(0,HOW_MANY_SNAPSHOT_TO_SHOW, appSession.getLoggedUser().getUsername()));
-+        userName.setText(appSession.getLoggedUser().getUsername());
-+//        if (appSession.getLoggedUser().getRole() == 0)
-+//            profileDeleteUser.setVisible(false);
-+//        followerNumber.setText(String.valueOf(neo4jDriver.howManyFollower(userName.getText())));
-+//        followerNumber.setText(String.valueOf(neo4jDriver.howManyFollowing(userName.getText())));
-+//        recipesNumber.setText(String.valueOf(neo4jDriver.));
-+        page = 0;
-+        Utils.addRecipesSnap(recipeVbox, mongoDBDriver.getRecipesFromAuthorUsername(0, HOW_MANY_SNAPSHOT_TO_SHOW, appSession.getLoggedUser().getUsername()));
-         homepageIcon.setOnMouseClicked(mouseEvent -> clickOnHomepageToChangePage(mouseEvent));
-         discoveryImg.setOnMouseClicked(mouseEvent -> clickOnDiscImgtoChangePage(mouseEvent));
-         logoutPic.setOnMouseClicked(mouseEvent -> clickOnLogoutImg(mouseEvent));
-         addRecipeImg.setOnMouseClicked(mouseEvent -> clickOnAddRecipeImg(mouseEvent));
-+        nextButton.setOnMouseClicked(mouseEvent -> clickOnNext(mouseEvent));
-+        previousButton.setOnMouseClicked(mouseEvent -> clickOnPrevious(mouseEvent));
-+        previousButton.setVisible(false); //in the first page it is not visible
-     }
- 
-     public void setProfile(User u)
-@@ -54,6 +82,10 @@
-         }catch (NullPointerException n){System.out.println("homePageController is null!!!!");}
-     }
- 
-+    /**
-+     * Function that let the navigation into the ui ---> addRecipe
-+     * @param mouseEvent event that represents the click on the icon
-+     */
-     private void clickOnAddRecipeImg(MouseEvent mouseEvent){
-         try{
-             AddRecipePageController addRecipePageController;
-@@ -83,4 +115,24 @@
-                     Utils.changeScene("/discoveryPage.fxml", mouseEvent);
-         }catch (NullPointerException n){System.out.println("homePageController is null!!!!");}
-     }
-+
-+    private void clickOnPrevious(MouseEvent mouseEvent){
-+        Utils.removeAllFromPane(recipeVbox);
-+        page--;
-+        if (page < 1)
-+            previousButton.setVisible(false);
-+        Utils.addRecipesSnap(recipeVbox,
-+                mongoDBDriver.getRecipesFromAuthorUsername(HOW_MANY_SNAPSHOT_TO_SHOW*page,
-+                        HOW_MANY_SNAPSHOT_TO_SHOW, userName.getText()));
-+    }
-+
-+    private void clickOnNext(MouseEvent mouseEvent){
-+        Utils.removeAllFromPane(recipeVbox);
-+        page++;
-+        if (page > 0)
-+            previousButton.setVisible(true);
-+        Utils.addRecipesSnap(recipeVbox,
-+                mongoDBDriver.getRecipesFromAuthorUsername(HOW_MANY_SNAPSHOT_TO_SHOW*page,
-+                        HOW_MANY_SNAPSHOT_TO_SHOW, userName.getText()));
-+    }
- }
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.controller;\n\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Session;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.MongoDBDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Pos;\nimport javafx.scene.AccessibleAction;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextArea;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\n/**\n * Controller for the page of the recipe\n */\npublic class RecipePageController {\n\n    @FXML private ImageView homeImg;\n    @FXML private ImageView discoveryImg;\n    @FXML private ImageView profileImg;\n    @FXML private Text recipeInstructions;\n    @FXML private ImageView recipeLikeImg;\n    @FXML private ImageView recipePicture;\n    @FXML private ImageView logoutPic;\n    @FXML private Text recipeTitle;\n    @FXML private Text recipeUsername;\n    @FXML private Text recipeCarbs;\n    @FXML private Text recipeCalories;\n    @FXML private Text recipeFat;\n    @FXML private ImageView recipeEditImg;\n    @FXML private Text recipeCategories;\n    @FXML private Text recipeIngredients;\n    @FXML private Text recipeProtein;\n    @FXML private Label recipeLikes;\n    @FXML private Label recipeDate;\n    @FXML private VBox recipeVBox;\n    @FXML private ImageView recipeDelete;\n    @FXML private TextArea commentsArea;\n    @FXML private Button sendButton;\n    @FXML private Button cancelButton;\n\n    private Recipe recipe;\n   // private String username;\n    private Session appSession;\n    private Neo4jDriver neo4jDriver;\n    private MongoDBDriver mongoDBDriver;\n\n    public void initialize ()\n    {\n        homeImg.setOnMouseClicked(mouseEvent -> clickOnHomepageToChangePage(mouseEvent));\n        profileImg.setOnMouseClicked(mouseEvent -> clickOnProfileToChangePage(mouseEvent));\n        discoveryImg.setOnMouseClicked(mouseEvent -> clickOnDiscoveryToChangePage(mouseEvent));\n        logoutPic.setOnMouseClicked(mouseEvent -> clickOnLogoutImg(mouseEvent));\n        recipeVBox.setAlignment(Pos.CENTER);\n        appSession = Session.getInstance();\n        neo4jDriver = Neo4jDriver.getInstance();\n        mongoDBDriver = MongoDBDriver.getInstance();\n        sendButton.setOnAction(actionEvent -> handleSendButtonAction(actionEvent));\n        cancelButton.setOnAction(actionEvent -> handleCancelButtonAction(actionEvent));\n    }\n\n    private void handleSendButtonAction(ActionEvent actionEvent){\n        if(commentsArea.getText().equals(\"\")) {\n            Utils.showErrorAlert(\"No Comments in the CommentsArea\");\n            return;\n        }\n//        System.out.println(recipe.getComments());\n//        System.out.println(recipe.getTitle());\n        Comment comment = new Comment(appSession.getLoggedUser().getUsername(), commentsArea.getText(), new Date());\n        if(recipe.getComments() != null)\n            recipe.addComments(comment);\n        else{\n            List<Comment> comments= new ArrayList<>();\n            comments.add(comment);\n            recipe.setComments(comments);\n        }\n        Utils.showComment(recipeVBox, comment);\n//        System.out.println(recipe.getComments());\n        mongoDBDriver.updateComments(recipe.getTitle(), recipe.getComments());\n    }\n\n    private void handleCancelButtonAction(ActionEvent actionEvent){\n        if(!commentsArea.getText().equals(\"\")) commentsArea.setText(\"\");\n    }\n\n    /**\n     * Setters for the recipe, in which we also set the correct value to show\n     * @param recipe    Recipe to show\n     */\n    public void setRecipe(Recipe recipe) {\n        this.recipe = recipe;\n        recipeTitle.setText(recipe.getTitle());\n        recipeInstructions.setText(recipe.getInstructions());\n        if (recipe.getPicture() != null)\n        {\n            recipePicture.setImage(new Image(recipe.getPicture()));\n        }\n        else\n        {\n            recipePicture.setImage(new Image(\"img/genericRecipe.png\"));\n        }\n        recipeUsername.setText(recipe.getAuthorUsername());\n        recipeCarbs.setText(String.valueOf(recipe.getCarbs()));\n        recipeCalories.setText(String.valueOf(recipe.getCalories()));\n        recipeFat.setText(String.valueOf(recipe.getFat()));\n        recipeProtein.setText(String.valueOf(recipe.getProtein()));\n        recipeCategories.setText(Utils.fromListToString(recipe.getCategories()));\n        recipeIngredients.setText(Utils.fromListToString(recipe.getIngredients()));\n        recipeDate.setText(\"Published on: \" + Utils.fromDateToString(recipe.getCreationTime()));\n        //TO DO\n        recipeLikes.setText(\"Likes: 0\");\n        if(recipe.getComments() != null) {\n            Label commentsTitle = new Label(\"Comments:\");\n            commentsTitle.setFont(Font.font(24));\n            recipeVBox.getChildren().add(commentsTitle);\n            Utils.showComments(recipeVBox, recipe.getComments());\n        }\n//        List<Comment> comments = new ArrayList<>();\n//        comments.add(new Comment(\"Pippo\", \"Hello World!\", new Date()));\n//        comments.add(new Comment(\"Pluto\", \"Fantastic recipe!\", new Date()));\n//        recipe.setComments(comments);\n//        if (comments != null)\n//        {\n//            Label commentsTitle = new Label(\"Comments:\");\n//            commentsTitle.setFont(Font.font(24));\n//            recipeVBox.getChildren().add(commentsTitle);\n//            Utils.showComments(recipeVBox, recipe.getComments());\n//        }\n\n        if(appSession.getLoggedUser().getRole()!=2 && !appSession.getLoggedUser().getUsername().equals(recipe.getAuthorUsername()))\n            recipeDelete.setVisible(false);\n        else\n            recipeDelete.setOnMouseClicked(mouseEvent -> neo4jDriver.deleteRecipe(recipe.getTitle(),recipe.getCreationTime()));\n    }\n\n    /**\n     * Function used to handle the click on the homepage icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnHomepageToChangePage(MouseEvent mouseEvent){\n        HomePageController homePageController = (HomePageController)\n                Utils.changeScene(\"/homepage.fxml\", mouseEvent);\n    }\n\n    /**\n     * Function used to handle the click on the profile icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnProfileToChangePage(MouseEvent mouseEvent){\n        ProfilePageController profilePageController = (ProfilePageController)\n                Utils.changeScene(\"/profilePage.fxml\", mouseEvent);\n        profilePageController.setProfile(Session.getInstance().getLoggedUser());\n    }\n\n    /**\n     * Function used to handle the click on the discovery icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnDiscoveryToChangePage(MouseEvent mouseEvent){\n        DiscoveryPageController discoveryPageController = (DiscoveryPageController)\n                Utils.changeScene(\"/discoveryPage.fxml\", mouseEvent);\n    }\n\n    /**\n     * Function that let the logout action, by going into the welcome page\n     * @param mouseEvent event that represents the click on the icon\n     */\n    private void clickOnLogoutImg(MouseEvent mouseEvent){\n        try {\n            WelcomePageController welcomePageController = (WelcomePageController)\n                    Utils.changeScene(\"/welcome.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"profilePageController is null!!!!\");}\n    }\n}\n\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java	(date 1608324470639)
-@@ -77,6 +77,10 @@
-         cancelButton.setOnAction(actionEvent -> handleCancelButtonAction(actionEvent));
-     }
- 
-+    /**
-+     * Function who handle the adding comments, and upload on mongoDB
-+     * @param actionEvent pressing the button
-+     */
-     private void handleSendButtonAction(ActionEvent actionEvent){
-         if(commentsArea.getText().equals("")) {
-             Utils.showErrorAlert("No Comments in the CommentsArea");
-@@ -97,16 +101,26 @@
-         mongoDBDriver.updateComments(recipe.getTitle(), recipe.getComments());
-     }
- 
-+    /**
-+     * Cancelling the comment textArea by clicking on the cancel Button
-+     * @param actionEvent pressing the button
-+     */
-     private void handleCancelButtonAction(ActionEvent actionEvent){
-         if(!commentsArea.getText().equals("")) commentsArea.setText("");
-     }
- 
-     /**
-      * Setters for the recipe, in which we also set the correct value to show
--     * @param recipe    Recipe to show
-+     * @param r    Recipe to show
-      */
--    public void setRecipe(Recipe recipe) {
--        this.recipe = recipe;
-+    public void setRecipe(Recipe r) {
-+        String title = r.getTitle();
-+        if(r.getInstructions() == null){
-+            System.out.println("Snap from Neo ---> getting recipes from MongoDB!");                                     //DEBUG
-+            Recipe recipeMongoDB = MongoDBDriver.getInstance().getRecipeFromTitle(title);
-+            this.recipe = recipeMongoDB;
-+        }else
-+            this.recipe = r;
-         recipeTitle.setText(recipe.getTitle());
-         recipeInstructions.setText(recipe.getInstructions());
-         if (recipe.getPicture() != null)
-Index: src/main/resources/recipePage.fxml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<?import javafx.geometry.Insets?>\n<?import javafx.scene.control.Button?>\n<?import javafx.scene.control.Label?>\n<?import javafx.scene.control.ScrollPane?>\n<?import javafx.scene.control.TextArea?>\n<?import javafx.scene.effect.Blend?>\n<?import javafx.scene.image.Image?>\n<?import javafx.scene.image.ImageView?>\n<?import javafx.scene.layout.BorderPane?>\n<?import javafx.scene.layout.HBox?>\n<?import javafx.scene.layout.Pane?>\n<?import javafx.scene.layout.VBox?>\n<?import javafx.scene.shape.Line?>\n<?import javafx.scene.text.Font?>\n<?import javafx.scene.text.Text?>\n\n<VBox xmlns=\"http://javafx.com/javafx/11.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"it.unipi.dii.inginf.lsdb.justrecipe.controller.RecipePageController\">\n   <children>\n      <BorderPane prefHeight=\"84.0\" style=\"-fx-background-color: rgb(237, 160, 66);\">\n         <effect>\n            <Blend />\n         </effect>\n         <left>\n            <ImageView fitHeight=\"81.0\" fitWidth=\"95.0\" pickOnBounds=\"true\" preserveRatio=\"true\" BorderPane.alignment=\"CENTER\">\n               <image>\n                  <Image url=\"@img/icon.png\" />\n               </image>\n               <BorderPane.margin>\n                  <Insets left=\"20.0\" />\n               </BorderPane.margin>\n            </ImageView>\n         </left>\n         <right>\n            <HBox alignment=\"CENTER\" prefHeight=\"84.0\" prefWidth=\"240.0\" BorderPane.alignment=\"CENTER\">\n               <children>\n                  <ImageView fx:id=\"logoutPic\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/exit.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"homeImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/home.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"discoveryImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/discovery.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"profileImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/user.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n               </children>\n            </HBox>\n         </right>\n         <center>\n            <HBox alignment=\"CENTER_LEFT\" BorderPane.alignment=\"CENTER\" />\n         </center>\n      </BorderPane>\n      <ScrollPane hbarPolicy=\"NEVER\" vbarPolicy=\"ALWAYS\">\n         <content>\n            <HBox alignment=\"CENTER\" prefHeight=\"700.0\" prefWidth=\"1197.0\" style=\"-fx-background-color: RGB(204, 199, 194);\">\n               <opaqueInsets>\n                  <Insets />\n               </opaqueInsets>\n               <children>\n                  <ScrollPane hbarPolicy=\"NEVER\" prefWidth=\"772.0\" style=\"-fx-background-color: white;\" vbarPolicy=\"NEVER\">\n                     <content>\n                        <VBox fx:id=\"recipeVBox\" maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" spacing=\"20.0\" style=\"-fx-background-color: white;\">\n                           <children>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Text fx:id=\"recipeTitle\" focusTraversable=\"true\" layoutX=\"20.0\" layoutY=\"66.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Tiramisu\" wrappingWidth=\"725.0\">\n                                       <font>\n                                          <Font size=\"48.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                              </Pane>\n                              <HBox prefHeight=\"247.0\" prefWidth=\"770.0\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefHeight=\"250.0\" prefWidth=\"260.0\">\n                                       <children>\n                                          <ImageView fx:id=\"recipePicture\" fitHeight=\"208.0\" fitWidth=\"232.0\" layoutX=\"35.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/genericRecipe.png\" />\n                                             </image>\n                                          </ImageView>\n                                       </children>\n                                    </Pane>\n                                    <Pane prefHeight=\"250.0\" prefWidth=\"199.0\">\n                                       <children>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/user.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeUsername\" layoutX=\"48.0\" layoutY=\"29.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Username\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"46.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/carbs.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"88.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/calories.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"136.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/fat.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeCarbs\" layoutX=\"55.0\" layoutY=\"75.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"30\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Text fx:id=\"recipeCalories\" layoutX=\"55.0\" layoutY=\"124.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"20\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Text fx:id=\"recipeFat\" layoutX=\"55.0\" layoutY=\"165.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"40\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"179.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/protein1.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeProtein\" layoutX=\"55.0\" layoutY=\"208.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"50\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Line endY=\"-38.0\" layoutX=\"178.0\" layoutY=\"51.0\" startY=\"167.0\" />\n                                       </children>\n                                    </Pane>\n                                    <Pane prefHeight=\"240.0\" prefWidth=\"318.0\">\n                                       <children>\n                                          <ImageView fx:id=\"recipeLikeImg\" fitHeight=\"40.0\" fitWidth=\"54.0\" layoutX=\"14.0\" layoutY=\"60.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/like.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fx:id=\"recipeEditImg\" fitHeight=\"40.0\" fitWidth=\"70.0\" layoutX=\"17.0\" layoutY=\"114.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/edit.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Label fx:id=\"recipeLikes\" layoutX=\"14.0\" layoutY=\"23.0\" text=\"Like:\">\n                                             <font>\n                                                <Font size=\"15.0\" />\n                                             </font>\n                                          </Label>\n                                          <Label fx:id=\"recipeDate\" layoutX=\"108.0\" layoutY=\"23.0\" text=\"Published on:\">\n                                             <font>\n                                                <Font size=\"15.0\" />\n                                             </font>\n                                          </Label>\n                                          <ImageView fx:id=\"recipeDelete\" fitHeight=\"40.0\" fitWidth=\"200.0\" layoutX=\"14.0\" layoutY=\"173.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/delete.png\" />\n                                             </image>\n                                          </ImageView>\n                                       </children>\n                                    </Pane>\n                                 </children>\n                                 <padding>\n                                    <Insets top=\"20.0\" />\n                                 </padding>\n                              </HBox>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" style=\"-fx-background-color: white;\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <ImageView fitHeight=\"84.0\" fitWidth=\"78.0\" layoutX=\"20.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                       <image>\n                                          <Image url=\"@img/ingredients1.png\" />\n                                       </image>\n                                    </ImageView>\n                                    <Text fx:id=\"recipeIngredients\" layoutX=\"114.0\" layoutY=\"45.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5\" wrappingWidth=\"600.0\">\n                                       <font>\n                                          <Font size=\"15.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                                 <VBox.margin>\n                                    <Insets bottom=\"5.0\" />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Text fx:id=\"recipeInstructions\" layoutX=\"23.0\" layoutY=\"20.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Anticamente le nonne usavano preparare una colazione che oggi potremmo definirepovera, ma che allepoca era davvero ricchissima! Ancora oggi la ricetta  immutata,basta rompere in un bicchiere un uovo freschissimo e sbatterlo con dello zucchero ea piacere aggiungere caff o latte caldo, per i pi piccoli, e marsala o anice per i pigrandicelli. Ed  proprio da questa portentosa crema che nasce la crema al mascarponebase del tiramis. Il dolce italiano per eccellenza, quello pi famoso e amato,ma soprattutto che ha dato vita a tantissime altre versioni, anche tiramis senza uova!Poi il tiramis alle fragole o quello alla Nutella, giusto per citarne un paio!Senza contare le rivisitazioni pi raffinate come la crostata morbida o la torta al tiramis.\" wrappingWidth=\"725.0\" />\n                                 </children>\n                                 <VBox.margin>\n                                    <Insets />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <ImageView fitHeight=\"71.0\" fitWidth=\"63.0\" layoutX=\"35.0\" layoutY=\"9.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                       <image>\n                                          <Image url=\"@img/tag.png\" />\n                                       </image>\n                                    </ImageView>\n                                    <Text fx:id=\"recipeCategories\" layoutX=\"117.0\" layoutY=\"37.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"italian, dolce, prova, ciao, mascarpone\" wrappingWidth=\"600.0\">\n                                       <font>\n                                          <Font size=\"15.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                                 <opaqueInsets>\n                                    <Insets />\n                                 </opaqueInsets>\n                                 <VBox.margin>\n                                    <Insets bottom=\"20.0\" />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane prefHeight=\"200.0\" prefWidth=\"200.0\">\n                                 <children>\n                                    <TextArea fx:id=\"commentsArea\" focusTraversable=\"false\" layoutX=\"29.0\" layoutY=\"39.0\" prefHeight=\"106.0\" prefWidth=\"723.0\" />\n                                    <Label layoutX=\"282.0\" layoutY=\"9.0\" text=\"Write a comment:\">\n                                       <font>\n                                          <Font size=\"24.0\" />\n                                       </font>\n                                    </Label>\n                                    <Button fx:id=\"sendButton\" layoutX=\"644.0\" layoutY=\"160.0\" mnemonicParsing=\"false\" text=\"AddComment\" />\n                                    <Button fx:id=\"cancelButton\" layoutX=\"567.0\" layoutY=\"160.0\" mnemonicParsing=\"false\" text=\"Cancel\" />\n                                 </children>\n                              </Pane>\n                           </children>\n                        </VBox>\n                     </content>\n                  </ScrollPane>\n               </children>\n            </HBox>\n         </content>\n      </ScrollPane>\n   </children>\n</VBox>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/resources/recipePage.fxml b/src/main/resources/recipePage.fxml
---- a/src/main/resources/recipePage.fxml	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/resources/recipePage.fxml	(date 1608281932992)
-@@ -247,8 +247,8 @@
-                                           <Font size="24.0" />
-                                        </font>
-                                     </Label>
--                                    <Button fx:id="sendButton" layoutX="644.0" layoutY="160.0" mnemonicParsing="false" text="AddComment" />
--                                    <Button fx:id="cancelButton" layoutX="567.0" layoutY="160.0" mnemonicParsing="false" text="Cancel" />
-+                                    <Button fx:id="sendButton" layoutX="701.0" layoutY="160.0" mnemonicParsing="false" text="Send" />
-+                                    <Button fx:id="cancelButton" layoutX="624.0" layoutY="160.0" mnemonicParsing="false" text="Cancel" />
-                                  </children>
-                               </Pane>
-                            </children>
-Index: src/main/resources/profilePage.fxml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<?import javafx.geometry.Insets?>\n<?import javafx.scene.chart.CategoryAxis?>\n<?import javafx.scene.chart.LineChart?>\n<?import javafx.scene.chart.NumberAxis?>\n<?import javafx.scene.control.Label?>\n<?import javafx.scene.control.ScrollPane?>\n<?import javafx.scene.image.Image?>\n<?import javafx.scene.image.ImageView?>\n<?import javafx.scene.layout.BorderPane?>\n<?import javafx.scene.layout.HBox?>\n<?import javafx.scene.layout.VBox?>\n<?import javafx.scene.text.Font?>\n<?import javafx.scene.text.Text?>\n\n<VBox maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefHeight=\"778.0\" prefWidth=\"1197.0\" xmlns=\"http://javafx.com/javafx/11.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"it.unipi.dii.inginf.lsdb.justrecipe.controller.ProfilePageController\">\n   <children>\n      <BorderPane prefHeight=\"200.0\" prefWidth=\"200.0\" style=\"-fx-background-color: rgb(237, 160, 66);\">\n         <center>\n            <LineChart prefHeight=\"201.0\" prefWidth=\"914.0\" title=\"Week calories!\" BorderPane.alignment=\"CENTER\">\n              <xAxis>\n                <CategoryAxis label=\"Days\" prefHeight=\"17.0\" prefWidth=\"869.0\" side=\"BOTTOM\" />\n              </xAxis>\n              <yAxis>\n                <NumberAxis label=\"Calories\" side=\"LEFT\" />\n              </yAxis>\n               <BorderPane.margin>\n                  <Insets />\n               </BorderPane.margin>\n            </LineChart>\n         </center>\n         <left>\n            <HBox BorderPane.alignment=\"CENTER\">\n               <children>\n                  <VBox prefHeight=\"200.0\" prefWidth=\"100.0\">\n                     <children>\n                        <ImageView fitHeight=\"144.0\" fitWidth=\"153.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                           <image>\n                              <Image url=\"@img/user.png\" />\n                           </image>\n                           <VBox.margin>\n                              <Insets left=\"20.0\" top=\"10.0\" />\n                           </VBox.margin>\n                        </ImageView>\n                        <HBox>\n                           <VBox.margin>\n                              <Insets left=\"20.0\" />\n                           </VBox.margin>\n                           <children>\n                              <Text strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"userName\">\n                                 <font>\n                                    <Font size=\"24.0\" />\n                                 </font>\n                                 <HBox.margin>\n                                    <Insets top=\"10.0\" />\n                                 </HBox.margin>\n                              </Text>\n                              <ImageView fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                 <image>\n                                    <Image url=\"@img/follow_profile.png\" />\n                                 </image>\n                              </ImageView>\n                           </children>\n                        </HBox>\n                        <HBox alignment=\"CENTER\" prefHeight=\"100.0\" prefWidth=\"200.0\" spacing=\"30.0\">\n                           <children>\n                              <ImageView fx:id=\"profileDeleteUser\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                 <image>\n                                    <Image url=\"@img/delete.png\" />\n                                 </image>\n                              </ImageView>\n                              <ImageView fx:id=\"profileEditUser\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                 <image>\n                                    <Image url=\"@img/edit.png\" />\n                                 </image>\n                                 <HBox.margin>\n                                    <Insets />\n                                 </HBox.margin>\n                              </ImageView>\n                           </children>\n                           <VBox.margin>\n                              <Insets bottom=\"20.0\" />\n                           </VBox.margin>\n                        </HBox>\n                     </children>\n                  </VBox>\n               </children>\n            </HBox>\n         </left>\n         <right>\n            <VBox prefHeight=\"124.0\" prefWidth=\"45.0\" BorderPane.alignment=\"CENTER\">\n               <children>\n                  <ImageView fx:id=\"addRecipeImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/addRecipe.png\" />\n                     </image>\n                     <VBox.margin>\n                        <Insets />\n                     </VBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"discoveryImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/discovery.png\" />\n                     </image>\n                     <VBox.margin>\n                        <Insets top=\"5.0\" />\n                     </VBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"homepageIcon\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/home.png\" />\n                     </image>\n                     <VBox.margin>\n                        <Insets top=\"5.0\" />\n                     </VBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"logoutPic\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/exit.png\" />\n                     </image>\n                     <VBox.margin>\n                        <Insets bottom=\"10.0\" top=\"5.0\" />\n                     </VBox.margin>\n                  </ImageView>\n               </children>\n               <BorderPane.margin>\n                  <Insets right=\"10.0\" top=\"25.0\" />\n               </BorderPane.margin>\n            </VBox>\n         </right>\n      </BorderPane>\n      <ScrollPane hbarPolicy=\"NEVER\">\n         <content>\n            <HBox prefHeight=\"582.0\" prefWidth=\"1197.0\" style=\"-fx-background-color: RGB(204, 199, 194);\">\n               <children>\n                  <VBox prefHeight=\"580.0\" prefWidth=\"199.0\">\n                     <children>\n                        <HBox>\n                           <children>\n                              <Label text=\"Follower:\" />\n                              <Text strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"number\" />\n                           </children>\n                           <VBox.margin>\n                              <Insets left=\"40.0\" top=\"30.0\" />\n                           </VBox.margin>\n                        </HBox>\n                        <HBox>\n                           <children>\n                              <Label text=\"Following:\" />\n                              <Text strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"number\" />\n                           </children>\n                           <VBox.margin>\n                              <Insets left=\"40.0\" top=\"10.0\" />\n                           </VBox.margin>\n                        </HBox>\n                        <HBox>\n                           <children>\n                              <Label text=\"Recipes:\" />\n                              <Text strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"number\" />\n                           </children>\n                           <VBox.margin>\n                              <Insets left=\"40.0\" top=\"10.0\" />\n                           </VBox.margin>\n                        </HBox>\n                     </children>\n                  </VBox>\n                  <VBox prefHeight=\"700.0\" prefWidth=\"891.0\" style=\"-fx-background-color: white;\" />\n               </children>\n            </HBox>\n         </content>\n      </ScrollPane>\n   </children>\n</VBox>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/resources/profilePage.fxml b/src/main/resources/profilePage.fxml
---- a/src/main/resources/profilePage.fxml	(revision 30380974270b3cceba1fe9cb204f49a0351945a7)
-+++ b/src/main/resources/profilePage.fxml	(date 1608326501786)
-@@ -4,6 +4,7 @@
- <?import javafx.scene.chart.CategoryAxis?>
- <?import javafx.scene.chart.LineChart?>
- <?import javafx.scene.chart.NumberAxis?>
-+<?import javafx.scene.control.Button?>
- <?import javafx.scene.control.Label?>
- <?import javafx.scene.control.ScrollPane?>
- <?import javafx.scene.image.Image?>
-@@ -48,9 +49,9 @@
-                               <Insets left="20.0" />
-                            </VBox.margin>
-                            <children>
--                              <Text strokeType="OUTSIDE" strokeWidth="0.0" text="userName">
-+                              <Text fx:id="userName" strokeType="OUTSIDE" strokeWidth="0.0" style="-fx-font-weight: bold;" text="userName">
-                                  <font>
--                                    <Font size="24.0" />
-+                                    <Font size="18.0" />
-                                  </font>
-                                  <HBox.margin>
-                                     <Insets top="10.0" />
-@@ -65,12 +66,12 @@
-                         </HBox>
-                         <HBox alignment="CENTER" prefHeight="100.0" prefWidth="200.0" spacing="30.0">
-                            <children>
--                              <ImageView fx:id="profileDeleteUser" fitHeight="45.0" fitWidth="45.0" pickOnBounds="true" preserveRatio="true">
-+                              <ImageView fx:id="profileDeleteUser" fitHeight="40.0" fitWidth="40.0" pickOnBounds="true" preserveRatio="true">
-                                  <image>
-                                     <Image url="@img/delete.png" />
-                                  </image>
-                               </ImageView>
--                              <ImageView fx:id="profileEditUser" fitHeight="45.0" fitWidth="45.0" pickOnBounds="true" preserveRatio="true">
-+                              <ImageView fx:id="profileEditUser" fitHeight="40.0" fitWidth="40.0" pickOnBounds="true" preserveRatio="true">
-                                  <image>
-                                     <Image url="@img/edit.png" />
-                                  </image>
-@@ -132,14 +133,14 @@
-       </BorderPane>
-       <ScrollPane hbarPolicy="NEVER">
-          <content>
--            <HBox prefHeight="582.0" prefWidth="1197.0" style="-fx-background-color: RGB(204, 199, 194);">
-+            <HBox prefHeight="518.0" prefWidth="1197.0" style="-fx-background-color: RGB(204, 199, 194);">
-                <children>
--                  <VBox prefHeight="580.0" prefWidth="199.0">
-+                  <VBox prefHeight="451.0" prefWidth="199.0">
-                      <children>
--                        <HBox>
-+                        <HBox prefHeight="16.0" prefWidth="118.0">
-                            <children>
-                               <Label text="Follower:" />
--                              <Text strokeType="OUTSIDE" strokeWidth="0.0" text="number" />
-+                              <Text fx:id="followerNumber" strokeType="OUTSIDE" strokeWidth="0.0" text="number" />
-                            </children>
-                            <VBox.margin>
-                               <Insets left="40.0" top="30.0" />
-@@ -148,7 +149,7 @@
-                         <HBox>
-                            <children>
-                               <Label text="Following:" />
--                              <Text strokeType="OUTSIDE" strokeWidth="0.0" text="number" />
-+                              <Text fx:id="followingNumber" strokeType="OUTSIDE" strokeWidth="0.0" text="number" />
-                            </children>
-                            <VBox.margin>
-                               <Insets left="40.0" top="10.0" />
-@@ -157,7 +158,7 @@
-                         <HBox>
-                            <children>
-                               <Label text="Recipes:" />
--                              <Text strokeType="OUTSIDE" strokeWidth="0.0" text="number" />
-+                              <Text fx:id="recipesNumber" strokeType="OUTSIDE" strokeWidth="0.0" text="number" />
-                            </children>
-                            <VBox.margin>
-                               <Insets left="40.0" top="10.0" />
-@@ -165,7 +166,23 @@
-                         </HBox>
-                      </children>
-                   </VBox>
--                  <VBox prefHeight="700.0" prefWidth="891.0" style="-fx-background-color: white;" />
-+                  <VBox prefWidth="891.0">
-+                     <children>
-+                        <VBox fx:id="recipeVbox" focusTraversable="true" prefHeight="480.0" prefWidth="891.0" style="-fx-background-color: white;" />
-+                        <HBox spacing="10.0" style="-fx-alignment: center;">
-+                           <children>
-+                              <Button fx:id="previousButton" focusTraversable="false" mnemonicParsing="false" text="Previous">
-+                                 <HBox.margin>
-+                                    <Insets bottom="5.0" top="5.0" />
-+                                 </HBox.margin></Button>
-+                              <Button fx:id="nextButton" focusTraversable="false" mnemonicParsing="false" text="Next">
-+                                 <HBox.margin>
-+                                    <Insets bottom="5.0" top="5.0" />
-+                                 </HBox.margin></Button>
-+                           </children>
-+                        </HBox>
-+                     </children>
-+                  </VBox>
-                </children>
-             </HBox>
-          </content>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_18_12_20__22_22__Default_Changelist_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20__22_22__Default_Changelist_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20__22_22__Default_Changelist_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20__22_22__Default_Changelist_.xml	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_18_12_20,_22_22_[Default_Changelist]" date="1608326546726" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_18_12_20,_22_22_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 18/12/20, 22:22 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__20_27__Default_Changelist_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__20_27__Default_Changelist_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__20_27__Default_Changelist_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__20_27__Default_Changelist_.xml	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,9 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]" date="1608233307665" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 17/12/20, 20:27 [Default Changelist]" />
-  <binary>
-    <option name="BEFORE_PATH" value="../RecipeReader/target/classes/Main.class" />
-    <option name="AFTER_PATH" value="../RecipeReader/target/classes/Main.class" />
-    <option name="SHELVED_PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]/Main.class" />
-  </binary>
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_20_27_[Default_Changelist]/shelved.patch	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,357 +0,0 @@
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.model;\n\nimport com.google.gson.annotations.SerializedName;\nimport org.bson.types.ObjectId;\n\nimport java.beans.Transient;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Recipe {\n    private String title;\n    private String instructions;\n    private List<String> ingredients;\n    private List<String> categories;\n    private int calories;\n    private int fat;\n    private int protein;\n    private int carbs;\n    private Date creationTime;\n    private String picture;\n    private String authorUsername;\n    private List<Comment> comments;\n\n    //Blank constructor\n    public Recipe(){}\n\n    //Constructor\n    public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,\n                  int calories, int fat, int protein, int carbs, Date creationTime, String picture, String authorUsername,\n                  List<Comment> comments)\n    {\n        this.title = title;\n        this.picture = picture;\n        this.instructions = instructions;\n        this.ingredients = ingredients;\n        this.categories = categories;\n        this.creationTime = creationTime;\n        this.calories = calories;\n        this.fat = fat;\n        this.protein = protein;\n        this.carbs = carbs;\n        this.authorUsername = authorUsername;\n        this.comments = comments;\n    }\n\n    public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,\n                  int calories, int fat, int protein, int carbs, Date creationTime, String picture,\n                  String authorUsername)\n    {\n        this( title, instructions, ingredients, categories, calories, fat, protein, carbs,\n                creationTime, picture, authorUsername, new ArrayList<Comment>());\n    }\n\n\n    //Getters\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getPicture() {\n        return picture;\n    }\n\n    public String getInstructions() {\n        return instructions;\n    }\n\n    public List<String> getIngredients() {\n        return ingredients;\n    }\n\n    public List<String> getCategories() {\n        return categories;\n    }\n\n    public Date getCreationTime() {\n        return creationTime;\n    }\n\n    public int getCalories() {\n        return calories;\n    }\n\n    public int getFat() {\n        return fat;\n    }\n\n    public int getProtein() {\n        return protein;\n    }\n\n    public int getCarbs() {\n        return carbs;\n    }\n\n    public String getAuthorUsername() {\n        return authorUsername;\n    }\n\n    public List<Comment> getComments() {\n        return comments;\n    }\n\n    //Setters\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setPicture(String picture) {\n        this.picture = picture;\n    }\n\n    public void setInstructions(String instructions) {\n        this.instructions = instructions;\n    }\n\n    public void setIngredients(List<String> ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public void setCategories(List<String> categories) {\n        this.categories = categories;\n    }\n\n    public void setCreationTime(Date creationTime) {\n        this.creationTime = creationTime;\n    }\n\n    public void setCalories(int calories) {\n        this.calories = calories;\n    }\n\n    public void setFat(int fat) {\n        this.fat = fat;\n    }\n\n    public void setProtein(int protein) {\n        this.protein = protein;\n    }\n\n    public void setCarbs(int carbs) {\n        this.carbs = carbs;\n    }\n\n    public void setAuthorUsername(String authorUsername) {\n        this.authorUsername = authorUsername;\n    }\n\n    public void setComments(List<Comment> comments) {\n        this.comments = comments;\n    }\n\n    @Override\n    public String toString() {\n        return \"Recipe{\" +\n                \"title='\" + title + '\\'' +\n                \", instructions='\" + instructions + '\\'' +\n                \", ingredients=\" + ingredients +\n                \", categories=\" + categories +\n                \", calories=\" + calories +\n                \", fat=\" + fat +\n                \", protein=\" + protein +\n                \", carbs=\" + carbs +\n                \", creationTime=\" + creationTime +\n                \", picture='\" + picture + '\\'' +\n                \", authorUsername='\" + authorUsername + '\\'' +\n                \", comments=\" + comments +\n                '}';\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java	(date 1608220732969)
-@@ -152,6 +152,8 @@
-         this.comments = comments;
-     }
- 
-+    public void addComments(Comment comment) {this.comments.add(comment);}
-+
-     @Override
-     public String toString() {
-         return "Recipe{" +
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.utils;\n\nimport com.thoughtworks.xstream.XStream;\nimport it.unipi.dii.inginf.lsdb.justrecipe.config.ConfigurationParameters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.controller.CommentController;\nimport it.unipi.dii.inginf.lsdb.justrecipe.controller.RecipeSnapshotController;\nimport it.unipi.dii.inginf.lsdb.justrecipe.controller.UserSnapshotController;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.User;\nimport javafx.event.Event;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\nimport javax.xml.XMLConstants;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\n/**\n * Class that contains some useful method\n */\npublic class Utils {\n\n    /**\n     * Snippet of code for jumping in the next scene\n     * Every scene has associated its specific controller\n     * @param fileName      The name of the file in which i can obtain the GUI (.fxml)\n     * @param event         The event that leads to change the scene\n     * @return The new controller, because I need to pass some parameters\n     */\n    public static Object changeScene (String fileName, Event event)\n    {\n        Scene scene = null;\n        FXMLLoader loader = null;\n        try {\n            loader=new FXMLLoader(Utils.class.getResource(fileName));\n            Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n            scene = new Scene(loader.load());\n            stage.setScene(scene);\n            stage.show();\n            return loader.getController();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    /**\n     * This function is used to read the config.xml file\n     * @return  ConfigurationParameters instance\n     */\n    public static ConfigurationParameters readConfigurationParameters ()\n    {\n        if (validConfigurationParameters())\n        {\n            XStream xs = new XStream();\n\n            String text = null;\n            try {\n                text = new String(Files.readAllBytes(Paths.get(\"./config.xml\")));\n            }\n            catch (Exception e) {\n                System.err.println(e.getMessage());\n            }\n\n            return (ConfigurationParameters) xs.fromXML(text);\n        }\n        else\n        {\n            System.exit(1); //If i can't read the configuration file I can't continue with the program\n        }\n        return null;\n    }\n\n    /**\n     * This function is used to validate the config.xml with the config.xsd\n     * @return  true if config.xml is well formatted, otherwise false\n     */\n    private static boolean validConfigurationParameters()\n    {\n        try\n        {\n            DocumentBuilder documentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n            Document document = documentBuilder.parse(\"./config.xml\");\n            Schema schema = schemaFactory.newSchema(new StreamSource(\"./config.xsd\"));\n            schema.newValidator().validate(new DOMSource(document));\n        }\n        catch (Exception e)\n        {\n            if (e instanceof SAXException)\n                System.out.println(\"Validation Error: \" + e.getMessage());\n            else\n                System.out.println(e.getMessage());\n\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Function used to get the string representation of a List<String>, with every element separated by comma\n     * @param list  the list to transform\n     * @return      the string representation\n     */\n    public static String fromListToString (List<String> list)\n    {\n        String string = \"\";\n        if (list != null)\n        {\n            Iterator<String> iterator = list.iterator();\n            while (iterator.hasNext())\n            {\n                string = string.concat(iterator.next());\n                if (iterator.hasNext())\n                {\n                    string = string.concat(\", \");\n                }\n            }\n        }\n        return string;\n    }\n\n    /**\n     * Function that transform a Date object in the standard format chosen for the application\n     * @param date\n     * @return\n     */\n    public static String fromDateToString (Date date)\n    {\n        DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n        return dateFormat.format(date);\n    }\n\n    /**\n     * Function that shows an error alert\n     * @param text  Text to be shown\n     */\n    public static void showErrorAlert (String text)\n    {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setContentText(text);\n        alert.setHeaderText(\"Ops.. Something went wrong..\");\n        alert.setTitle(\"Error\");\n        ImageView imageView = new ImageView(new Image(\"/img/emoticon-cry.png\"));\n        alert.setGraphic(imageView);\n        alert.show();\n    }\n\n    /**\n     * This function create a pane that contains a recipe snapshot\n     * @param recipe    recipe to display in the snapshot\n     * @return\n     */\n    private static Pane createRecipeSnapshot(Recipe recipe)\n    {\n        Pane pane = null;\n        try {\n            FXMLLoader loader = new FXMLLoader(Utils.class.getResource(\"/recipeSnap.fxml\"));\n            pane = (Pane) loader.load();\n            RecipeSnapshotController recipeSnapshotController =\n                    (RecipeSnapshotController) loader.getController();\n            recipeSnapshotController.setRecipe(recipe);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return pane;\n    }\n\n    /**\n     * Function that adds the snapshots of the recipes, 2 for each row\n     * @param vBox      VBox in which I have to show the snapshots\n     * @param recipes   Recipes to show\n     */\n    public static void addRecipesSnap(VBox vBox, List<Recipe> recipes) {\n        Iterator<Recipe> iterator = recipes.iterator();\n        while (iterator.hasNext())\n        {\n            HBox row = new HBox();\n            row.setStyle(\"-fx-padding: 10px\");\n            row.setSpacing(20);\n            Recipe recipe1 = iterator.next();\n            Pane rec1 = createRecipeSnapshot(recipe1);\n            row.getChildren().add(rec1);\n            if (iterator.hasNext())\n            {\n                Recipe recipe2 = iterator.next();\n                Pane rec2 = createRecipeSnapshot(recipe2);\n                row.getChildren().add(rec2);\n            }\n            vBox.getChildren().add(row);\n        }\n    }\n\n    /**\n     * Function used to show the comments\n     * @param vBox      VBox in which I have to show the comments\n     * @param comments  Comments to show\n     */\n    public static void showComments(VBox vBox, List<Comment> comments) {\n        Iterator<Comment> iterator = comments.iterator();\n        vBox.setSpacing(20);\n        while (iterator.hasNext())\n        {\n            Comment comment = iterator.next();\n            Pane commentPane = loadComment(comment);\n            vBox.getChildren().add(commentPane);\n        }\n    }\n\n    /**\n     * Function used to load the .fxml for the comment\n     * @param comment   Comment to show\n     * @return          The pane in which I have showed the comment\n     */\n    private static Pane loadComment (Comment comment)\n    {\n        Pane pane = null;\n        try {\n            FXMLLoader loader = new FXMLLoader(Utils.class.getResource(\"/comment.fxml\"));\n            pane = (Pane) loader.load();\n            CommentController commentController =\n                    (CommentController) loader.getController();\n            commentController.setComment(comment);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return pane;\n    }\n\n    /**\n     * Function used to load the .fxml for the snapshot of the user\n     * @param user      User to load\n     * @return          The pane in which the snapshot has been loaded\n     */\n    private static Pane loadUserSnapshot (User user)\n    {\n        Pane pane = null;\n        try {\n            FXMLLoader loader = new FXMLLoader(Utils.class.getResource(\"/userSnap.fxml\"));\n            pane = (Pane) loader.load();\n            UserSnapshotController userSnapshotController =\n                    (UserSnapshotController) loader.getController();\n            userSnapshotController.setUserSnap(user);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return pane;\n    }\n\n    /**\n     * Function that load the snapshot of the users in the pane\n     * There will be four snapshot for each row (if possible)\n     * @param vBox          VBox in which the snapshot has to be inserted\n     * @param users         The users to show\n     */\n    public static void addUsersSnap(VBox vBox, List<User> users) {\n        Iterator<User> iterator = users.iterator();\n        while (iterator.hasNext())\n        {\n            HBox row = new HBox();\n            row.setStyle(\"-fx-padding: 10px\");\n            row.setSpacing(10);\n            User user1 = iterator.next();\n            Pane pane1 = loadUserSnapshot (user1);\n            row.getChildren().add(pane1);\n            if (iterator.hasNext())\n            {\n                User user2 = iterator.next();\n                Pane pane2 = loadUserSnapshot (user2);\n                row.getChildren().add(pane2);\n\n                if (iterator.hasNext())\n                {\n                    User user3 = iterator.next();\n                    Pane pane3 = loadUserSnapshot (user3);\n                    row.getChildren().add(pane3);\n\n                    if (iterator.hasNext())\n                    {\n                        User user4 = iterator.next();\n                        Pane pane4 = loadUserSnapshot (user4);\n                        row.getChildren().add(pane4);\n                    }\n                }\n            }\n            vBox.getChildren().add(row);\n        }\n    }\n\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java	(date 1608220732986)
-@@ -229,6 +229,16 @@
-         }
-     }
- 
-+    /**
-+     * Function used to show one comment
-+     * @param pane      Pane in which I have to show the comments
-+     * @param comment  Comments to show
-+     */
-+    public static void showComment(Pane pane, Comment comment){
-+        Pane commentPane = loadComment(comment);
-+        pane.getChildren().add(commentPane);
-+    }
-+
-     /**
-      * Function used to load the .fxml for the comment
-      * @param comment   Comment to show
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.persistence;\n\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport com.mongodb.ConnectionString;\nimport com.mongodb.client.*;\nimport com.mongodb.client.model.Accumulators;\nimport com.mongodb.client.model.Aggregates;\nimport com.mongodb.client.model.Filters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.config.ConfigurationParameters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.User;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport org.bson.Document;\nimport org.bson.conversions.Bson;\nimport java.lang.reflect.Type;\nimport java.util.*;\nimport java.util.function.Consumer;\nimport java.util.regex.Pattern;\n\nimport static com.mongodb.client.model.Aggregates.*;\nimport static com.mongodb.client.model.Filters.eq;\nimport static com.mongodb.client.model.Projections.*;\nimport static com.mongodb.client.model.Projections.include;\nimport static com.mongodb.client.model.Sorts.descending;\n\n/**\n * This class is used to communicate with MongoDB\n */\npublic class MongoDBDriver implements DatabaseDriver{\n    private static MongoDBDriver instance;\n\n    private MongoClient mongoClient;\n    private MongoDatabase database;\n    private MongoCollection collection;\n    private String ip;\n    private int port;\n    private String username;\n    private String password;\n    private String dbName;\n\n    public static MongoDBDriver getInstance() {\n        if (instance == null)\n        {\n            instance = new MongoDBDriver(Utils.readConfigurationParameters());\n        }\n        return instance;\n    }\n\n    /**\n     * Consumer function that prints the document in json format\n     */\n    private Consumer<Document> printDocuments = doc -> {\n        System.out.println(doc.toJson());\n    };\n\n    private MongoDBDriver (ConfigurationParameters configurationParameters)\n    {\n        this.ip = configurationParameters.getMongoIp();\n        this.port = configurationParameters.getMongoPort();\n        this.username = configurationParameters.getMongoUsername();\n        this.password = configurationParameters.getMongoPassword();\n        this.dbName = configurationParameters.getMongoDbName();\n        initConnection();\n        chooseCollection(\"recipe\");\n    }\n\n    /**\n     * Method that inits the MongoClient and choose the correct database\n     */\n    @Override\n    public void initConnection() {\n        ConnectionString connectionString;\n        if (!username.equals(\"\")) // if there are access rules\n        {\n            connectionString = new ConnectionString(\"mongodb://\" + username + \":\" + password\n                    + \"@\" + ip + \":\" + port);\n        }\n        else // standard access\n        {\n            connectionString = new ConnectionString(\"mongodb://\" + ip + \":\" + port);\n        }\n        mongoClient = MongoClients.create(connectionString);\n        database = mongoClient.getDatabase(dbName);\n    }\n\n    /**\n     * Method used to close the connection\n     */\n    @Override\n    public void closeConnection() {\n        if (mongoClient != null)\n            mongoClient.close();\n    }\n\n    /**\n     * Method used to change the collection\n     * @param name  name of the new collection\n     */\n    public void chooseCollection(String name)\n    {\n        collection = database.getCollection(name);\n    }\n\n    /**\n     * Function used to get the list of Recipe to show in the homepage\n     * @param from      first extreme of the interval\n     * @param to        second extreme of the interval\n     * @param follower  list of follower of the user, used to choose the interest recipes\n     * @return          The list of (to-from) element to show, in descendent order from creationTime\n     */\n    public List<Recipe> getHomepageRecipe (int from, int to, List<User> follower)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        List<Document> results = new ArrayList<>();\n        if (follower.size() != 0)\n        {\n            // TO DO\n            // Check for the recipe done by the following of the user\n        }\n        else\n        {\n            Bson sort = sort(descending(\"creationTime\"));\n            Bson skip = skip(from);\n            Bson limit = limit(to);\n            results = (List<Document>) collection.aggregate(Arrays.asList(sort, skip, limit))\n                    .into(new ArrayList<>());\n        }\n\n        // This is important for deserialize the results in a list of recipe\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function that returns \"howMany\" recipes that contains in their title the title inserted by the user\n     * @param title     Title to check\n     * @param from      First extreme of the interval\n     * @param to        Second extreme of the interval\n     * @return          The list of the recipes that match the condition\n     */\n    public List<Recipe> searchRecipesFromTitle (String title, int from, int to)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        Pattern pattern = Pattern.compile(\"^.*\" + title + \".*$\", Pattern.CASE_INSENSITIVE);\n        Bson match = Aggregates.match(Filters.regex(\"title\", pattern));\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(from);\n        Bson limit = limit(to);\n        List<Document> results = (List<Document>) collection.aggregate(Arrays.asList(match, sort, limit))\n                .into(new ArrayList<>());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function that return the most common categories (the top one used)\n     * @param howManyCategories     How many category to consider in the rank\n     * @return                      The category ordered by the number of recipes in which it is used\n     */\n    public List<String> searchMostCommonRecipeCategories (int howManyCategories)\n    {\n        List<String> mostCommonCategories = new ArrayList<>();\n        Bson unwind = unwind(\"$categories\");\n        Bson group = group(\"$categories\", Accumulators.sum(\"numberOfRecipes\", 1));\n        Bson project = project(fields(computed(\"categories\", \"$_id\"), excludeId(), include(\"numberOfRecipes\")));\n        Bson sort = sort(descending(\"numberOfRecipes\"));\n        Bson limit = limit(howManyCategories);\n        List<Document> results = (List<Document>)\n                collection.aggregate(Arrays.asList(unwind, group, project, sort, limit)).into(new ArrayList());\n\n        for (Document document: results)\n        {\n            mostCommonCategories.add(document.getString(\"categories\"));\n        }\n        return mostCommonCategories;\n    }\n\n    /**\n     * Function that returns \"howMany\" recipes of one category\n     * @param category      The category to consider\n     * @param howMany       How many recipes to return\n     * @return              List of the recipes\n     */\n    public List<Recipe> getRecipesOfCategory (String category, int howMany)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        Bson match = match(Filters.in(\"categories\", category));\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson limit = limit(howMany);\n        List<Document> results = (List<Document>)\n                collection.aggregate(Arrays.asList(match, sort, limit)).into(new ArrayList());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function for searching all the comments, ordered by the creationTime (first the last)\n     * The list will be useful for the moderators\n     * @param from      first extreme of the interval\n     * @param to        second extreme of the interval\n     * @return          The list of the comments\n     */\n    public List<Comment> searchAllComments (int from, int to)\n    {\n        List<Comment> comments = new ArrayList<>();\n        Gson gson = new Gson();\n        Bson unwind = unwind(\"$comments\");\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(from);\n        Bson limit = limit(to);\n        MongoCursor<Document> iterator = (MongoCursor<Document>)\n                collection.aggregate(Arrays.asList(unwind, sort, skip, limit)).iterator();\n        while (iterator.hasNext())\n        {\n            Document document = (Document) iterator.next().get(\"comments\");\n            Comment comment = gson.fromJson(gson.toJson(document), Comment.class);\n            comments.add(comment);\n        }\n        return comments;\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java	(date 1608232614133)
-@@ -3,6 +3,7 @@
- import com.google.gson.Gson;
- import com.google.gson.reflect.TypeToken;
- import com.mongodb.ConnectionString;
-+import com.mongodb.MongoClientSettings;
- import com.mongodb.client.*;
- import com.mongodb.client.model.Accumulators;
- import com.mongodb.client.model.Aggregates;
-@@ -13,6 +14,8 @@
- import it.unipi.dii.inginf.lsdb.justrecipe.model.User;
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
- import org.bson.Document;
-+import org.bson.codecs.configuration.CodecRegistry;
-+import org.bson.codecs.pojo.PojoCodecProvider;
- import org.bson.conversions.Bson;
- import java.lang.reflect.Type;
- import java.util.*;
-@@ -24,6 +27,8 @@
- import static com.mongodb.client.model.Projections.*;
- import static com.mongodb.client.model.Projections.include;
- import static com.mongodb.client.model.Sorts.descending;
-+import static org.bson.codecs.configuration.CodecRegistries.fromProviders;
-+import static org.bson.codecs.configuration.CodecRegistries.fromRegistries;
- 
- /**
-  * This class is used to communicate with MongoDB
-@@ -34,6 +39,7 @@
-     private MongoClient mongoClient;
-     private MongoDatabase database;
-     private MongoCollection collection;
-+    private CodecRegistry pojoCodecRegistry;
-     private String ip;
-     private int port;
-     private String username;
-@@ -83,6 +89,8 @@
-         }
-         mongoClient = MongoClients.create(connectionString);
-         database = mongoClient.getDatabase(dbName);
-+        pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),
-+                fromProviders(PojoCodecProvider.builder().automatic(true).build()));
-     }
- 
-     /**
-@@ -226,4 +234,11 @@
-         }
-         return comments;
-     }
-+    public void updateComments(String title, List<Comment> comments){
-+//        chooseCollection("recipe");
-+        collection = collection.withCodecRegistry(pojoCodecRegistry);
-+        Bson update = new Document("comments", comments);
-+        Bson updateOperation = new Document("$set", update);
-+        collection.updateOne(new Document("title", title), updateOperation);
-+    }
- }
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.controller;\n\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Session;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\n/**\n * Controller for the page of the recipe\n */\npublic class RecipePageController {\n\n    @FXML private ImageView homeImg;\n    @FXML private ImageView discoveryImg;\n    @FXML private ImageView profileImg;\n    @FXML private Text recipeInstructions;\n    @FXML private ImageView recipeLikeImg;\n    @FXML private ImageView recipePicture;\n    @FXML private ImageView logoutPic;\n    @FXML private Text recipeTitle;\n    @FXML private Text recipeUsername;\n    @FXML private Text recipeCarbs;\n    @FXML private Text recipeCalories;\n    @FXML private Text recipeFat;\n    @FXML private ImageView recipeEditImg;\n    @FXML private Text recipeCategories;\n    @FXML private Text recipeIngredients;\n    @FXML private Text recipeProtein;\n    @FXML private Label recipeLikes;\n    @FXML private Label recipeDate;\n    @FXML private VBox recipeVBox;\n    @FXML private ImageView recipeDelete;\n\n    private Recipe recipe;\n   // private String username;\n    private Session appSession;\n    private Neo4jDriver neo4jDriver;\n\n    public void initialize ()\n    {\n        homeImg.setOnMouseClicked(mouseEvent -> clickOnHomepageToChangePage(mouseEvent));\n        profileImg.setOnMouseClicked(mouseEvent -> clickOnProfileToChangePage(mouseEvent));\n        discoveryImg.setOnMouseClicked(mouseEvent -> clickOnDiscoveryToChangePage(mouseEvent));\n        logoutPic.setOnMouseClicked(mouseEvent -> clickOnLogoutImg(mouseEvent));\n        recipeVBox.setAlignment(Pos.CENTER);\n        appSession = Session.getInstance();\n        neo4jDriver = Neo4jDriver.getInstance();\n    }\n\n    /**\n     * Setters for the recipe, in which we also set the correct value to show\n     * @param recipe    Recipe to show\n     */\n    public void setRecipe(Recipe recipe) {\n        this.recipe = recipe;\n        recipeTitle.setText(recipe.getTitle());\n        recipeInstructions.setText(recipe.getInstructions());\n        if (recipe.getPicture() != null)\n        {\n            recipePicture.setImage(new Image(recipe.getPicture()));\n        }\n        else\n        {\n            recipePicture.setImage(new Image(\"img/genericRecipe.png\"));\n        }\n        recipeUsername.setText(recipe.getAuthorUsername());\n        recipeCarbs.setText(String.valueOf(recipe.getCarbs()));\n        recipeCalories.setText(String.valueOf(recipe.getCalories()));\n        recipeFat.setText(String.valueOf(recipe.getFat()));\n        recipeProtein.setText(String.valueOf(recipe.getProtein()));\n        recipeCategories.setText(Utils.fromListToString(recipe.getCategories()));\n        recipeIngredients.setText(Utils.fromListToString(recipe.getIngredients()));\n        recipeDate.setText(\"Published on: \" + Utils.fromDateToString(recipe.getCreationTime()));\n        //TO DO\n        recipeLikes.setText(\"Likes: 0\");\n\n        List<Comment> comments = new ArrayList<>();\n        comments.add(new Comment(\"Pippo\", \"Hello World!\", new Date()));\n        comments.add(new Comment(\"Pluto\", \"Fantastic recipe!\", new Date()));\n        recipe.setComments(comments);\n        if (comments != null)\n        {\n            Label commentsTitle = new Label(\"Comments:\");\n            commentsTitle.setFont(Font.font(24));\n            recipeVBox.getChildren().add(commentsTitle);\n            Utils.showComments(recipeVBox, recipe.getComments());\n        }\n\n        if(appSession.getLoggedUser().getRole()!=2 && !appSession.getLoggedUser().getUsername().equals(recipe.getAuthorUsername()))\n            recipeDelete.setVisible(false);\n        else\n            recipeDelete.setOnMouseClicked(mouseEvent -> neo4jDriver.deleteRecipe(recipe.getTitle(),recipe.getCreationTime()));\n    }\n\n    /**\n     * Function used to handle the click on the homepage icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnHomepageToChangePage(MouseEvent mouseEvent){\n        HomePageController homePageController = (HomePageController)\n                Utils.changeScene(\"/homepage.fxml\", mouseEvent);\n    }\n\n    /**\n     * Function used to handle the click on the profile icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnProfileToChangePage(MouseEvent mouseEvent){\n        ProfilePageController profilePageController = (ProfilePageController)\n                Utils.changeScene(\"/profilePage.fxml\", mouseEvent);\n        profilePageController.setProfile(Session.getInstance().getLoggedUser());\n    }\n\n    /**\n     * Function used to handle the click on the discovery icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnDiscoveryToChangePage(MouseEvent mouseEvent){\n        DiscoveryPageController discoveryPageController = (DiscoveryPageController)\n                Utils.changeScene(\"/discoveryPage.fxml\", mouseEvent);\n    }\n\n    /**\n     * Function that let the logout action, by going into the welcome page\n     * @param mouseEvent event that represents the click on the icon\n     */\n    private void clickOnLogoutImg(MouseEvent mouseEvent){\n        try {\n            WelcomePageController welcomePageController = (WelcomePageController)\n                    Utils.changeScene(\"/welcome.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"profilePageController is null!!!!\");}\n    }\n}\n\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java	(date 1608233265323)
-@@ -3,12 +3,17 @@
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Session;
-+import it.unipi.dii.inginf.lsdb.justrecipe.persistence.MongoDBDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
-+import javafx.event.ActionEvent;
- import javafx.fxml.FXML;
- import javafx.fxml.FXMLLoader;
- import javafx.geometry.Pos;
-+import javafx.scene.AccessibleAction;
-+import javafx.scene.control.Button;
- import javafx.scene.control.Label;
-+import javafx.scene.control.TextArea;
- import javafx.scene.image.Image;
- import javafx.scene.image.ImageView;
- import javafx.scene.input.MouseEvent;
-@@ -48,11 +53,15 @@
-     @FXML private Label recipeDate;
-     @FXML private VBox recipeVBox;
-     @FXML private ImageView recipeDelete;
-+    @FXML private TextArea commentsArea;
-+    @FXML private Button sendButton;
-+    @FXML private Button cancelButton;
- 
-     private Recipe recipe;
-    // private String username;
-     private Session appSession;
-     private Neo4jDriver neo4jDriver;
-+    private MongoDBDriver mongoDBDriver;
- 
-     public void initialize ()
-     {
-@@ -63,6 +72,33 @@
-         recipeVBox.setAlignment(Pos.CENTER);
-         appSession = Session.getInstance();
-         neo4jDriver = Neo4jDriver.getInstance();
-+        mongoDBDriver = MongoDBDriver.getInstance();
-+        sendButton.setOnAction(actionEvent -> handleSendButtonAction(actionEvent));
-+        cancelButton.setOnAction(actionEvent -> handleCancelButtonAction(actionEvent));
-+    }
-+
-+    private void handleSendButtonAction(ActionEvent actionEvent){
-+        if(commentsArea.getText().equals("")) {
-+            Utils.showErrorAlert("No Comments in the CommentsArea");
-+            return;
-+        }
-+//        System.out.println(recipe.getComments());
-+//        System.out.println(recipe.getTitle());
-+        Comment comment = new Comment(appSession.getLoggedUser().getUsername(), commentsArea.getText(), new Date());
-+        if(recipe.getComments() != null)
-+            recipe.addComments(comment);
-+        else{
-+            List<Comment> comments= new ArrayList<>();
-+            comments.add(comment);
-+            recipe.setComments(comments);
-+        }
-+        Utils.showComment(recipeVBox, comment);
-+//        System.out.println(recipe.getComments());
-+        mongoDBDriver.updateComments(recipe.getTitle(), recipe.getComments());
-+    }
-+
-+    private void handleCancelButtonAction(ActionEvent actionEvent){
-+        if(!commentsArea.getText().equals("")) commentsArea.setText("");
-     }
- 
-     /**
-@@ -91,18 +127,23 @@
-         recipeDate.setText("Published on: " + Utils.fromDateToString(recipe.getCreationTime()));
-         //TO DO
-         recipeLikes.setText("Likes: 0");
--
--        List<Comment> comments = new ArrayList<>();
--        comments.add(new Comment("Pippo", "Hello World!", new Date()));
--        comments.add(new Comment("Pluto", "Fantastic recipe!", new Date()));
--        recipe.setComments(comments);
--        if (comments != null)
--        {
-+        if(recipe.getComments() != null) {
-             Label commentsTitle = new Label("Comments:");
-             commentsTitle.setFont(Font.font(24));
-             recipeVBox.getChildren().add(commentsTitle);
-             Utils.showComments(recipeVBox, recipe.getComments());
-         }
-+//        List<Comment> comments = new ArrayList<>();
-+//        comments.add(new Comment("Pippo", "Hello World!", new Date()));
-+//        comments.add(new Comment("Pluto", "Fantastic recipe!", new Date()));
-+//        recipe.setComments(comments);
-+//        if (comments != null)
-+//        {
-+//            Label commentsTitle = new Label("Comments:");
-+//            commentsTitle.setFont(Font.font(24));
-+//            recipeVBox.getChildren().add(commentsTitle);
-+//            Utils.showComments(recipeVBox, recipe.getComments());
-+//        }
- 
-         if(appSession.getLoggedUser().getRole()!=2 && !appSession.getLoggedUser().getUsername().equals(recipe.getAuthorUsername()))
-             recipeDelete.setVisible(false);
-Index: src/main/resources/recipePage.fxml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<?import javafx.geometry.Insets?>\n<?import javafx.scene.control.Label?>\n<?import javafx.scene.control.ScrollPane?>\n<?import javafx.scene.effect.Blend?>\n<?import javafx.scene.image.Image?>\n<?import javafx.scene.image.ImageView?>\n<?import javafx.scene.layout.BorderPane?>\n<?import javafx.scene.layout.HBox?>\n<?import javafx.scene.layout.Pane?>\n<?import javafx.scene.layout.VBox?>\n<?import javafx.scene.shape.Line?>\n<?import javafx.scene.text.Font?>\n<?import javafx.scene.text.Text?>\n\n<VBox xmlns=\"http://javafx.com/javafx/11.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"it.unipi.dii.inginf.lsdb.justrecipe.controller.RecipePageController\">\n   <children>\n      <BorderPane prefHeight=\"84.0\" style=\"-fx-background-color: rgb(237, 160, 66);\">\n         <effect>\n            <Blend />\n         </effect>\n         <left>\n            <ImageView fitHeight=\"81.0\" fitWidth=\"95.0\" pickOnBounds=\"true\" preserveRatio=\"true\" BorderPane.alignment=\"CENTER\">\n               <image>\n                  <Image url=\"@img/icon.png\" />\n               </image>\n               <BorderPane.margin>\n                  <Insets left=\"20.0\" />\n               </BorderPane.margin>\n            </ImageView>\n         </left>\n         <right>\n            <HBox alignment=\"CENTER\" prefHeight=\"84.0\" prefWidth=\"240.0\" BorderPane.alignment=\"CENTER\">\n               <children>\n                  <ImageView fx:id=\"logoutPic\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/exit.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"homeImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/home.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"discoveryImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/discovery.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"profileImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/user.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n               </children>\n            </HBox>\n         </right>\n         <center>\n            <HBox alignment=\"CENTER_LEFT\" BorderPane.alignment=\"CENTER\" />\n         </center>\n      </BorderPane>\n      <ScrollPane hbarPolicy=\"NEVER\" vbarPolicy=\"ALWAYS\">\n         <content>\n            <HBox alignment=\"CENTER\" prefHeight=\"693.0\" prefWidth=\"1197.0\" style=\"-fx-background-color: RGB(204, 199, 194);\">\n               <opaqueInsets>\n                  <Insets />\n               </opaqueInsets>\n               <children>\n                  <ScrollPane hbarPolicy=\"NEVER\" prefWidth=\"772.0\" style=\"-fx-background-color: white;\" vbarPolicy=\"NEVER\">\n                     <content>\n                        <VBox fx:id=\"recipeVBox\" maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" spacing=\"20.0\" style=\"-fx-background-color: white;\">\n                           <children>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Text fx:id=\"recipeTitle\" layoutX=\"20.0\" layoutY=\"66.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Tiramisu\" wrappingWidth=\"725.0\">\n                                       <font>\n                                          <Font size=\"48.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                              </Pane>\n                              <HBox prefHeight=\"247.0\" prefWidth=\"770.0\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefHeight=\"250.0\" prefWidth=\"260.0\">\n                                       <children>\n                                          <ImageView fx:id=\"recipePicture\" fitHeight=\"208.0\" fitWidth=\"232.0\" layoutX=\"35.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/genericRecipe.png\" />\n                                             </image>\n                                          </ImageView>\n                                       </children>\n                                    </Pane>\n                                    <Pane prefHeight=\"250.0\" prefWidth=\"199.0\">\n                                       <children>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/user.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeUsername\" layoutX=\"48.0\" layoutY=\"29.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Username\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"46.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/carbs.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"88.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/calories.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"136.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/fat.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeCarbs\" layoutX=\"55.0\" layoutY=\"75.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"30\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Text fx:id=\"recipeCalories\" layoutX=\"55.0\" layoutY=\"124.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"20\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Text fx:id=\"recipeFat\" layoutX=\"55.0\" layoutY=\"165.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"40\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"179.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/protein1.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeProtein\" layoutX=\"55.0\" layoutY=\"208.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"50\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Line endY=\"-38.0\" layoutX=\"178.0\" layoutY=\"51.0\" startY=\"167.0\" />\n                                       </children>\n                                    </Pane>\n                                    <Pane prefHeight=\"240.0\" prefWidth=\"318.0\">\n                                       <children>\n                                          <ImageView fx:id=\"recipeLikeImg\" fitHeight=\"40.0\" fitWidth=\"54.0\" layoutX=\"14.0\" layoutY=\"60.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/like.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fx:id=\"recipeEditImg\" fitHeight=\"40.0\" fitWidth=\"70.0\" layoutX=\"17.0\" layoutY=\"114.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/edit.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Label fx:id=\"recipeLikes\" layoutX=\"14.0\" layoutY=\"23.0\" text=\"Like:\">\n                                             <font>\n                                                <Font size=\"15.0\" />\n                                             </font>\n                                          </Label>\n                                          <Label fx:id=\"recipeDate\" layoutX=\"108.0\" layoutY=\"23.0\" text=\"Published on:\">\n                                             <font>\n                                                <Font size=\"15.0\" />\n                                             </font>\n                                          </Label>\n                                          <ImageView fx:id=\"recipeDelete\" fitHeight=\"40.0\" fitWidth=\"200.0\" layoutX=\"14.0\" layoutY=\"173.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/delete.png\" />\n                                             </image>\n                                          </ImageView>\n                                       </children>\n                                    </Pane>\n                                 </children>\n                                 <padding>\n                                    <Insets top=\"20.0\" />\n                                 </padding>\n                              </HBox>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Text fx:id=\"recipeInstructions\" layoutX=\"23.0\" layoutY=\"20.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Anticamente le nonne usavano preparare una colazione che oggi potremmo definirepovera, ma che allepoca era davvero ricchissima! Ancora oggi la ricetta  immutata,basta rompere in un bicchiere un uovo freschissimo e sbatterlo con dello zucchero ea piacere aggiungere caff o latte caldo, per i pi piccoli, e marsala o anice per i pigrandicelli. Ed  proprio da questa portentosa crema che nasce la crema al mascarponebase del tiramis. Il dolce italiano per eccellenza, quello pi famoso e amato,ma soprattutto che ha dato vita a tantissime altre versioni, anche tiramis senza uova!Poi il tiramis alle fragole o quello alla Nutella, giusto per citarne un paio!Senza contare le rivisitazioni pi raffinate come la crostata morbida o la torta al tiramis.\" wrappingWidth=\"725.0\" />\n                                 </children>\n                                 <VBox.margin>\n                                    <Insets />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <ImageView fitHeight=\"71.0\" fitWidth=\"63.0\" layoutX=\"35.0\" layoutY=\"9.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                       <image>\n                                          <Image url=\"@img/tag.png\" />\n                                       </image>\n                                    </ImageView>\n                                    <Text fx:id=\"recipeCategories\" layoutX=\"117.0\" layoutY=\"37.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"italian, dolce, prova, ciao, mascarpone\" wrappingWidth=\"600.0\">\n                                       <font>\n                                          <Font size=\"15.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                                 <opaqueInsets>\n                                    <Insets />\n                                 </opaqueInsets>\n                                 <VBox.margin>\n                                    <Insets />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" style=\"-fx-background-color: white;\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <ImageView fitHeight=\"84.0\" fitWidth=\"78.0\" layoutX=\"20.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                       <image>\n                                          <Image url=\"@img/ingredients1.png\" />\n                                       </image>\n                                    </ImageView>\n                                    <Text fx:id=\"recipeIngredients\" layoutX=\"114.0\" layoutY=\"45.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5\" wrappingWidth=\"600.0\">\n                                       <font>\n                                          <Font size=\"15.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                                 <VBox.margin>\n                                    <Insets bottom=\"35.0\" />\n                                 </VBox.margin>\n                              </Pane>\n                           </children>\n                        </VBox>\n                     </content>\n                  </ScrollPane>\n               </children>\n            </HBox>\n         </content>\n      </ScrollPane>\n   </children>\n</VBox>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/resources/recipePage.fxml b/src/main/resources/recipePage.fxml
---- a/src/main/resources/recipePage.fxml	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/src/main/resources/recipePage.fxml	(date 1608220733012)
-@@ -1,8 +1,10 @@
- <?xml version="1.0" encoding="UTF-8"?>
- 
- <?import javafx.geometry.Insets?>
-+<?import javafx.scene.control.Button?>
- <?import javafx.scene.control.Label?>
- <?import javafx.scene.control.ScrollPane?>
-+<?import javafx.scene.control.TextArea?>
- <?import javafx.scene.effect.Blend?>
- <?import javafx.scene.image.Image?>
- <?import javafx.scene.image.ImageView?>
-@@ -74,7 +76,7 @@
-       </BorderPane>
-       <ScrollPane hbarPolicy="NEVER" vbarPolicy="ALWAYS">
-          <content>
--            <HBox alignment="CENTER" prefHeight="693.0" prefWidth="1197.0" style="-fx-background-color: RGB(204, 199, 194);">
-+            <HBox alignment="CENTER" prefHeight="700.0" prefWidth="1197.0" style="-fx-background-color: RGB(204, 199, 194);">
-                <opaqueInsets>
-                   <Insets />
-                </opaqueInsets>
-@@ -85,7 +87,7 @@
-                            <children>
-                               <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" VBox.vgrow="ALWAYS">
-                                  <children>
--                                    <Text fx:id="recipeTitle" layoutX="20.0" layoutY="66.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Tiramisu" wrappingWidth="725.0">
-+                                    <Text fx:id="recipeTitle" focusTraversable="true" layoutX="20.0" layoutY="66.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Tiramisu" wrappingWidth="725.0">
-                                        <font>
-                                           <Font size="48.0" />
-                                        </font>
-@@ -192,6 +194,23 @@
-                                     <Insets top="20.0" />
-                                  </padding>
-                               </HBox>
-+                              <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="770.0" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
-+                                 <children>
-+                                    <ImageView fitHeight="84.0" fitWidth="78.0" layoutX="20.0" pickOnBounds="true" preserveRatio="true">
-+                                       <image>
-+                                          <Image url="@img/ingredients1.png" />
-+                                       </image>
-+                                    </ImageView>
-+                                    <Text fx:id="recipeIngredients" layoutX="114.0" layoutY="45.0" strokeType="OUTSIDE" strokeWidth="0.0" text="uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5" wrappingWidth="600.0">
-+                                       <font>
-+                                          <Font size="15.0" />
-+                                       </font>
-+                                    </Text>
-+                                 </children>
-+                                 <VBox.margin>
-+                                    <Insets bottom="5.0" />
-+                                 </VBox.margin>
-+                              </Pane>
-                               <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="770.0" VBox.vgrow="ALWAYS">
-                                  <children>
-                                     <Text fx:id="recipeInstructions" layoutX="23.0" layoutY="20.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Anticamente le nonne usavano preparare una colazione che oggi potremmo definirepovera, ma che allepoca era davvero ricchissima! Ancora oggi la ricetta  immutata,basta rompere in un bicchiere un uovo freschissimo e sbatterlo con dello zucchero ea piacere aggiungere caff o latte caldo, per i pi piccoli, e marsala o anice per i pigrandicelli. Ed  proprio da questa portentosa crema che nasce la crema al mascarponebase del tiramis. Il dolce italiano per eccellenza, quello pi famoso e amato,ma soprattutto che ha dato vita a tantissime altre versioni, anche tiramis senza uova!Poi il tiramis alle fragole o quello alla Nutella, giusto per citarne un paio!Senza contare le rivisitazioni pi raffinate come la crostata morbida o la torta al tiramis." wrappingWidth="725.0" />
-@@ -217,25 +236,20 @@
-                                     <Insets />
-                                  </opaqueInsets>
-                                  <VBox.margin>
--                                    <Insets />
-+                                    <Insets bottom="20.0" />
-                                  </VBox.margin>
-                               </Pane>
--                              <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="770.0" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
-+                              <Pane prefHeight="200.0" prefWidth="200.0">
-                                  <children>
--                                    <ImageView fitHeight="84.0" fitWidth="78.0" layoutX="20.0" pickOnBounds="true" preserveRatio="true">
--                                       <image>
--                                          <Image url="@img/ingredients1.png" />
--                                       </image>
--                                    </ImageView>
--                                    <Text fx:id="recipeIngredients" layoutX="114.0" layoutY="45.0" strokeType="OUTSIDE" strokeWidth="0.0" text="uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5" wrappingWidth="600.0">
-+                                    <TextArea fx:id="commentsArea" focusTraversable="false" layoutX="29.0" layoutY="39.0" prefHeight="106.0" prefWidth="723.0" />
-+                                    <Label layoutX="282.0" layoutY="9.0" text="Write a comment:">
-                                        <font>
--                                          <Font size="15.0" />
-+                                          <Font size="24.0" />
-                                        </font>
--                                    </Text>
-+                                    </Label>
-+                                    <Button fx:id="sendButton" layoutX="701.0" layoutY="160.0" mnemonicParsing="false" text="Send" />
-+                                    <Button fx:id="cancelButton" layoutX="624.0" layoutY="160.0" mnemonicParsing="false" text="Cancel" />
-                                  </children>
--                                 <VBox.margin>
--                                    <Insets bottom="35.0" />
--                                 </VBox.margin>
-                               </Pane>
-                            </children>
-                         </VBox>
-Index: src/main/resources/comment.fxml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<?import javafx.geometry.Insets?>\n<?import javafx.scene.control.Button?>\n<?import javafx.scene.control.Label?>\n<?import javafx.scene.control.TextArea?>\n<?import javafx.scene.layout.AnchorPane?>\n<?import javafx.scene.layout.Pane?>\n<?import javafx.scene.layout.VBox?>\n\n<VBox maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefWidth=\"600.0\" style=\"-fx-border-color: orange; -fx-border-radius: 10px; -fx-background-position: center; -fx-border-style: solid; -fx-border-image-width: 3px; -fx-background-color: white;\" xmlns=\"http://javafx.com/javafx/11.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"it.unipi.dii.inginf.lsdb.justrecipe.controller.CommentController\">\n   <children>\n      <AnchorPane prefHeight=\"41.0\" prefWidth=\"600.0\" VBox.vgrow=\"ALWAYS\">\n         <children>\n            <Label fx:id=\"commentDate\" layoutX=\"26.0\" layoutY=\"12.0\" text=\"Written at: Tue Feb 25 17:11:26 \" />\n            <Label fx:id=\"commentUsername\" alignment=\"CENTER_RIGHT\" layoutX=\"500.0\" layoutY=\"12.0\" text=\"By: Username\" textAlignment=\"RIGHT\" />\n         </children>\n         <VBox.margin>\n            <Insets />\n         </VBox.margin>\n      </AnchorPane>\n      <Pane prefWidth=\"200.0\" VBox.vgrow=\"ALWAYS\">\n         <children>\n            <TextArea fx:id=\"commentTextArea\" layoutX=\"26.0\" layoutY=\"7.0\" prefHeight=\"89.0\" prefWidth=\"547.0\" style=\"-fx-focus-color: orange;\" text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.&#10; \" wrapText=\"true\" />\n         </children>\n      </Pane>\n      <AnchorPane prefHeight=\"69.0\" prefWidth=\"600.0\" VBox.vgrow=\"ALWAYS\">\n         <children>\n            <Button fx:id=\"commentModifyButton\" layoutX=\"27.0\" layoutY=\"17.0\" mnemonicParsing=\"false\" text=\"Modify\" />\n            <Button fx:id=\"commentDeleteButton\" layoutX=\"522.0\" layoutY=\"17.0\" mnemonicParsing=\"false\" text=\"Delete\" />\n            <Button fx:id=\"commentSaveButton\" layoutX=\"90.0\" layoutY=\"17.0\" mnemonicParsing=\"false\" prefHeight=\"25.0\" prefWidth=\"54.0\" text=\"Save\" />\n         </children>\n      </AnchorPane>\n   </children>\n</VBox>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/resources/comment.fxml b/src/main/resources/comment.fxml
---- a/src/main/resources/comment.fxml	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/src/main/resources/comment.fxml	(date 1608222308246)
-@@ -13,7 +13,7 @@
-       <AnchorPane prefHeight="41.0" prefWidth="600.0" VBox.vgrow="ALWAYS">
-          <children>
-             <Label fx:id="commentDate" layoutX="26.0" layoutY="12.0" text="Written at: Tue Feb 25 17:11:26 " />
--            <Label fx:id="commentUsername" alignment="CENTER_RIGHT" layoutX="500.0" layoutY="12.0" text="By: Username" textAlignment="RIGHT" />
-+            <Label fx:id="commentUsername" alignment="CENTER_RIGHT" layoutX="456.0" layoutY="12.0" text="By: Username" textAlignment="RIGHT" />
-          </children>
-          <VBox.margin>
-             <Insets />
-Index: ../RecipeReader/src/main/java/Main.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>import com.fasterxml.jackson.core.*;\nimport com.fasterxml.jackson.databind.*;\nimport com.google.gson.Gson;\nimport com.mongodb.client.*;\nimport org.bson.Document;\nimport org.neo4j.driver.*;\n\nimport java.io.IOException;\nimport java.nio.file.*;\nimport java.util.*;\nimport java.util.function.Predicate;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static int HOW_MANY_RECIPES_TO_REMOVE = 30000;\n    public static String PATH_FULL_FORMAT_RECIPES = \"C:/Users/danyc/Downloads/full_format_recipes/full_format_recipes.json\";\n    public static String PATH_RECIPES_RAW_NOSOURCE_FN = \"C:/Users/danyc/Downloads/recipes_raw/recipes_raw_nosource_fn.json\";\n\n    private static MongoClient mongoClient;\n    private static MongoDatabase database;\n    private static MongoCollection collection;\n    private static Driver driver;\n\n    public static void main (String[] arg)\n    {\n        mongoClient = MongoClients.create();\n        database = mongoClient.getDatabase(\"justrecipe\");\n        collection = database.getCollection(\"recipe\");\n\n        driver = GraphDatabase.driver( \"neo4j://localhost:7687\", AuthTokens.basic( \"neo4j\", \"justrecipe\" ) );\n\n        // First of all It is useful to remove the old values (if they exists)\n        // Just for re-execute the algorithm without problem\n        collection.drop();\n        deleteAllGraph();\n\n        List<RecipeRaw> rawRecipes = new ArrayList<>();\n        addRecipes_full_format(rawRecipes, PATH_FULL_FORMAT_RECIPES);\n        addRecipes_raw(rawRecipes, PATH_RECIPES_RAW_NOSOURCE_FN);\n\n        //I have removed the last HOW_MANY_RECIPES_TO_REMOVE recipes, that are the ones that have not so much information\n        rawRecipes.subList(rawRecipes.size() - HOW_MANY_RECIPES_TO_REMOVE, rawRecipes.size()).clear();\n\n        // Remove the recipe with title == null (filter (...)) and remove the duplicates (distinct())\n        List<RecipeRaw> recipesWithoutDuplicates = rawRecipes.stream().filter(new Predicate<RecipeRaw>() {\n            @Override\n            public boolean test(RecipeRaw recipeRaw) {\n                if (recipeRaw.getTitle() != null)\n                    return true;\n                return false;\n            }\n        }).distinct().collect(Collectors.toList());\n\n        // List of users present at the initial time of the application\n        List<User> users = new ArrayList<>();\n        users.add(new User(\"Oliver\", \"Smith\", \"oliver.smith\", \"oliver.smith\"));\n        users.add(new User(\"Jack\", \"Jones\", \"jack.jones\", \"jack.jones\"));\n        users.add(new User(\"Harry\", \"Williams\", \"harry.williams\", \"harry.williams\"));\n        users.add(new User(\"Jacob\", \"Brown\", \"jacob.brown\", \"jacob.brown\"));\n        users.add(new User(\"Charlie\", \"Taylor\", \"charlie.taylor\", \"charlie.taylor\"));\n        users.add(new User(\"Thomas\", \"Davies\", \"thomas.davies\", \"thomas.davies\"));\n        users.add(new User(\"George\", \"Wilson\", \"george.wilson\", \"george.wilson\"));\n        users.add(new User(\"Oscar\", \"Evans\", \"oscar.evans\", \"oscar.evans\"));\n        users.add(new User(\"James\", \"Thomas\", \"james.thomas\", \"james.thomas\"));\n        users.add(new User(\"William\", \"Roberts\", \"william.roberts\", \"william.roberts\"));\n        users.add(new User(\"Amelia\", \"Murphy\", \"amelia.murphy\", \"amelia.murphy\"));\n        users.add(new User(\"Olivia\", \"Johnson\", \"olivia.johnson\", \"olivia.johnson\"));\n        users.add(new User(\"Isla\", \"Williams\", \"isla.williams\", \"isla.williams\"));\n        users.add(new User(\"Emily\", \"Walsh\", \"emily.walsh\", \"emily.walsh\"));\n        users.add(new User(\"Poppy\", \"Taylor\", \"poppy.taylor\", \"poppy.taylor\"));\n        users.add(new User(\"Ava\", \"Miller\", \"ava.miller\", \"ava.miller\"));\n        users.add(new User(\"Isabella\", \"Byrne\", \"isabella.byrne\", \"isabella.byrne\"));\n        users.add(new User(\"Jessica\", \"Evans\", \"jessica.evans\", \"jessica.evans\"));\n        users.add(new User(\"Lily\", \"Rodriguez\", \"lily.rodriguez\", \"lily.rodriguez\"));\n        users.add(new User(\"Sophie\", \"Roberts\", \"sophie.roberts\", \"sophie.roberts\"));\n\n        // First I insert the user, because when i choose randomly i can't be sure\n        // that they will be all pick-up, so i need to be sure that they are all present\n        // So, instead of adding the users in the insertRecipesAndUsers function, i have created another one function\n        addUsers(users);\n        insertRecipesOfUsers(recipesWithoutDuplicates, users);\n        \n        System.out.println(collection.countDocuments()); //How many documents loaded\n        mongoClient.close();\n        driver.close();\n    }\n\n    /**\n     * Add recipes from raw dataset\n     * @param recipes\n     * @param path\n     */\n    public static void addRecipes_raw (List<RecipeRaw> recipes, String path)\n    {\n        Gson gson = new Gson();\n        JsonFactory factory = new JsonFactory();\n        ObjectMapper mapper = new ObjectMapper(factory);\n        JsonNode rootNode = null;\n        try {\n            rootNode = mapper.readTree(Files.readAllBytes(Paths.get(path)));\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Iterator<Map.Entry<String,JsonNode>> fieldsIterator = rootNode.fields();\n        while (fieldsIterator.hasNext()) {\n            Map.Entry<String,JsonNode> field = fieldsIterator.next();\n            //The key is the unknow ID, the value is the recipe\n            recipes.add(gson.fromJson(field.getValue().toString(), RecipeRaw.class));\n        }\n    }\n\n    /**\n     * Add recipes from full_format dataset\n     * @param recipes\n     * @param path\n     */\n    public static void addRecipes_full_format (List<RecipeRaw> recipes, String path)\n    {\n        Gson gson = new Gson();\n        RecipeRaw[] recipeList = null;\n        StringBuilder contentBuilder = new StringBuilder();\n        try {\n            Files.lines(Paths.get(path)).forEach(s -> contentBuilder.append(s));\n            recipeList = gson.fromJson(contentBuilder.toString(), RecipeRaw[].class);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Collections.addAll(recipes, recipeList);\n    }\n\n    /**\n     * Method that creates a new nodes in the graphDB with the information of the new users\n     * @param users      Users to add\n     */\n    public static void addUsers( final List<User> users)\n    {\n        Map<String,Object> params = new HashMap<>();\n        List<Map<String,Object>> list = new ArrayList<>();\n        for (User user: users)\n        {\n            Map<String,Object> props = new HashMap<>();\n            props.put( \"firstName\", user.getFirstName());\n            props.put( \"lastName\", user.getLastName());\n            props.put( \"username\", user.getUsername());\n            props.put( \"password\", user.getPassword());\n            list.add(props);\n        }\n        params.put( \"batch\", list );\n\n        try ( Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Void>) tx -> {\n                tx.run( \"UNWIND $batch AS row \" +\n                                \"MERGE (u:User {firstName: row.firstName, lastName: row.lastName, \" +\n                                \"username: row.username,\" +\n                                \"password: row.password, role:0})\",\n                        params);\n                return null;\n            });\n        }\n    }\n\n    /**\n     * Function that insert all the recipes, every one is associated at one user randomly picked\n     * @param recipeRaws    The list of the recipes\n     * @param users         The list of the users\n     */\n    public static void insertRecipesOfUsers (List<RecipeRaw> recipeRaws, List<User> users)\n    {\n        List<Document> documents = new ArrayList<Document>();\n        Date date = new Date();\n        Map<String,Object> params = new HashMap<>();\n        List<Map<String,Object>> list = new ArrayList<>();\n        Random random = new Random();\n        for (RecipeRaw rawRecipe: recipeRaws) // For every recipe\n        {\n            // pick-up randomly a user to associate with this recipe\n            int userIndex = random.nextInt(users.size()); //[0,19]\n            User user = users.get(userIndex);\n\n            // MongoDB part\n            String title = rawRecipe.getTitle();\n            Document doc = new Document(\"title\", title);\n            if (rawRecipe.getInstructions() != null)\n            {\n                doc.append(\"instructions\", rawRecipe.getInstructions());\n            }\n            else if (rawRecipe.getDirections() != null) // this recipe has the directions\n            {\n                String instructions = \"\";\n                for (String s : rawRecipe.getDirections())\n                {\n                    instructions += s + \"\\n\";\n                }\n                doc.append(\"instructions\", instructions);\n            }\n            if (rawRecipe.getIngredients() != null)\n                doc.append(\"ingredients\", rawRecipe.getIngredients());\n            if (rawRecipe.getCategories() != null)\n                doc.append(\"categories\", rawRecipe.getCategories());\n            if (rawRecipe.getCalories() != 0)\n                doc.append(\"calories\", rawRecipe.getCalories());\n            if (rawRecipe.getFat() != 0)\n                doc.append(\"fat\", rawRecipe.getFat());\n            if (rawRecipe.getProtein() != 0)\n                doc.append(\"protein\", rawRecipe.getProtein());\n            if (rawRecipe.getCarbs() != 0)\n                doc.append(\"carbs\", rawRecipe.getCarbs());\n            // For the timestamp MongoDB use the \"Date\"\n            doc.append(\"creationTime\", date);\n            doc.append(\"authorUsername\", user.getUsername());\n            documents.add(doc);\n\n            // Neo4j part\n            Map<String,Object> props = new HashMap<>();\n            props.put( \"username\", user.getUsername());\n            props.put(\"timestamp\", date.getTime());\n            props.put(\"title\", rawRecipe.getTitle());\n            if (rawRecipe.getCalories() != 0)\n                props.put(\"calories\", rawRecipe.getCalories());\n            if (rawRecipe.getFat() != 0)\n                props.put(\"fat\", rawRecipe.getFat());\n            if (rawRecipe.getProtein() != 0)\n                props.put(\"protein\", rawRecipe.getProtein());\n            if (rawRecipe.getCarbs() != 0)\n                props.put(\"carbs\", rawRecipe.getCarbs());\n            list.add(props);\n        }\n\n        // Mongo insert\n        collection.insertMany(documents);\n\n        // Neo4j insert\n        params.put( \"batch\", list );\n        try ( Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Void>) tx -> {\n                // First step: find the right user\n                // Second step: create the path ADDS and the recipe\n                tx.run( \"UNWIND $batch AS row \" +\n                                \"MATCH (u:User {username: row.username}) \" +\n                                \"CREATE (u)-[:ADDS {when: row.timestamp}]->(r:Recipe {title: row.title, calories: row.calories, \" +\n                                \"fat: row.fat, protein: row.protein, carbs: row.carbs})\",\n                        params);\n                return null;\n            });\n        }\n    }\n\n    /**\n     * Function used to delete all the nodes and the edges of the graph\n     */\n    public static void deleteAllGraph ()\n    {\n        try ( Session session = driver.session())\n        {\n            session.writeTransaction((TransactionWork<Void>) tx -> {\n                tx.run( \"MATCH (n) DETACH DELETE n\");\n                return null;\n            });\n        }\n    }\n\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/../RecipeReader/src/main/java/Main.java b/../RecipeReader/src/main/java/Main.java
---- a/../RecipeReader/src/main/java/Main.java	(revision c091eab019e28a591b61c4836412a1037f7e95cd)
-+++ b/../RecipeReader/src/main/java/Main.java	(date 1608221987626)
-@@ -13,8 +13,8 @@
- 
- public class Main {
-     public static int HOW_MANY_RECIPES_TO_REMOVE = 30000;
--    public static String PATH_FULL_FORMAT_RECIPES = "C:/Users/danyc/Downloads/full_format_recipes/full_format_recipes.json";
--    public static String PATH_RECIPES_RAW_NOSOURCE_FN = "C:/Users/danyc/Downloads/recipes_raw/recipes_raw_nosource_fn.json";
-+    public static String PATH_FULL_FORMAT_RECIPES = "/home/francesco/Scaricati/full_format_recipes/full_format_recipes.json";
-+    public static String PATH_RECIPES_RAW_NOSOURCE_FN = "/home/francesco/Scaricati/recipes_raw/recipes_raw_nosource_fn.json";
- 
-     private static MongoClient mongoClient;
-     private static MongoDatabase database;
Index: .idea/shelf/Uncommitted_changes_before_Update_at_20_12_20,_10_45_[Default_Changelist]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20,_10_45_[Default_Changelist]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20,_10_45_[Default_Changelist]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20,_10_45_[Default_Changelist]/shelved.patch	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,88 +0,0 @@
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.persistence;\n\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.*;\nimport com.mongodb.client.model.Accumulators;\nimport com.mongodb.client.model.Aggregates;\nimport com.mongodb.client.model.Filters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.config.ConfigurationParameters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.*;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport org.bson.Document;\nimport org.bson.codecs.configuration.CodecRegistry;\nimport org.bson.codecs.pojo.PojoCodecProvider;\nimport org.bson.conversions.Bson;\nimport java.lang.reflect.Type;\nimport java.util.*;\nimport java.util.function.Consumer;\nimport java.util.regex.Pattern;\n\nimport static com.mongodb.client.model.Aggregates.*;\nimport static com.mongodb.client.model.Filters.eq;\nimport static com.mongodb.client.model.Projections.*;\nimport static com.mongodb.client.model.Projections.include;\nimport static com.mongodb.client.model.Sorts.descending;\nimport static org.bson.codecs.configuration.CodecRegistries.fromProviders;\nimport static org.bson.codecs.configuration.CodecRegistries.fromRegistries;\n\n/**\n * This class is used to communicate with MongoDB\n */\npublic class MongoDBDriver implements DatabaseDriver{\n    private static MongoDBDriver instance;\n\n    private MongoClient mongoClient;\n    private MongoDatabase database;\n    private MongoCollection collection;\n    private CodecRegistry pojoCodecRegistry;\n    private String ip;\n    private int port;\n    private String username;\n    private String password;\n    private String dbName;\n\n    public static MongoDBDriver getInstance() {\n        if (instance == null)\n        {\n            instance = new MongoDBDriver(Utils.readConfigurationParameters());\n        }\n        return instance;\n    }\n\n    /**\n     * Consumer function that prints the document in json format\n     */\n    private Consumer<Document> printDocuments = doc -> {\n        System.out.println(doc.toJson());\n    };\n\n    private MongoDBDriver (ConfigurationParameters configurationParameters)\n    {\n        this.ip = configurationParameters.getMongoIp();\n        this.port = configurationParameters.getMongoPort();\n        this.username = configurationParameters.getMongoUsername();\n        this.password = configurationParameters.getMongoPassword();\n        this.dbName = configurationParameters.getMongoDbName();\n        initConnection();\n        chooseCollection(\"recipe\");\n    }\n\n    /**\n     * Method that inits the MongoClient and choose the correct database\n     */\n    @Override\n    public void initConnection() {\n        ConnectionString connectionString;\n        if (!username.equals(\"\")) // if there are access rules\n        {\n            connectionString = new ConnectionString(\"mongodb://\" + username + \":\" + password\n                    + \"@\" + ip + \":\" + port);\n        }\n        else // standard access\n        {\n            connectionString = new ConnectionString(\"mongodb://\" + ip + \":\" + port);\n        }\n        mongoClient = MongoClients.create(connectionString);\n        database = mongoClient.getDatabase(dbName);\n        pojoCodecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(),\n                fromProviders(PojoCodecProvider.builder().automatic(true).build()));\n    }\n\n    /**\n     * Method used to close the connection\n     */\n    @Override\n    public void closeConnection() {\n        if (mongoClient != null)\n            mongoClient.close();\n    }\n\n    /**\n     * Method used to change the collection\n     * @param name  name of the new collection\n     */\n    public void chooseCollection(String name)\n    {\n        collection = database.getCollection(name);\n    }\n\n    public List<Recipe> getRecipesFromAuthorUsername(int howManySkip, int howMany, String username){\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        List<Document> results = new ArrayList<>();\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(howManySkip);\n        Bson limit = limit(howMany);\n        Bson match = match(eq(\"authorUsername\", username));\n        results = (List<Document>) collection.aggregate(Arrays.asList(match, sort, skip, limit))\n                .into(new ArrayList<>());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function that return the recipe given the title\n     * @param title     Title of the recipe\n     * @return          The recipe\n     */\n    public Recipe getRecipeFromTitle(String title){\n        Recipe recipe = null;\n        Gson gson = new Gson();\n        Type recipeType = new TypeToken<Recipe>(){}.getType();\n        Document myDoc =(Document) collection.find(eq(\"title\", title)).first();\n        recipe = gson.fromJson(gson.toJson(myDoc), recipeType);\n        return recipe;\n    }\n\n    /**\n     * Function that returns \"howMany\" recipes that contains in their title the title inserted by the user\n     * @param title         Title to check\n     * @param howManySkip   How many to skip\n     * @param howMany       How many recipe we want obtain\n     * @return              The list of the recipes that match the condition\n     */\n    public List<Recipe> searchRecipesFromTitle (String title, int howManySkip, int howMany)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        Pattern pattern = Pattern.compile(\"^.*\" + title + \".*$\", Pattern.CASE_INSENSITIVE);\n        Bson match = Aggregates.match(Filters.regex(\"title\", pattern));\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(howManySkip);\n        Bson limit = limit(howMany);\n        List<Document> results = (List<Document>) collection.aggregate(Arrays.asList(match, sort, skip, limit))\n                .into(new ArrayList<>());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function that return the most common categories (the top one used)\n     * @param howManySkip           How many to skip\n     * @param howManyCategories     How many category to consider in the rank\n     * @return                      The category ordered by the number of recipes in which it is used\n     */\n    public List<String> searchMostCommonRecipeCategories (int howManySkip, int howManyCategories)\n    {\n        List<String> mostCommonCategories = new ArrayList<>();\n        Bson unwind = unwind(\"$categories\");\n        Bson group = group(\"$categories\", Accumulators.sum(\"numberOfRecipes\", 1));\n        Bson project = project(fields(computed(\"categories\", \"$_id\"), excludeId(), include(\"numberOfRecipes\")));\n        Bson sort = sort(descending(\"numberOfRecipes\"));\n        Bson skip = skip(howManySkip);\n        Bson limit = limit(howManyCategories);\n        List<Document> results = (List<Document>)\n                collection.aggregate(Arrays.asList(unwind, group, project, sort, skip, limit)).into(new ArrayList());\n\n        for (Document document: results)\n        {\n            mostCommonCategories.add(document.getString(\"categories\"));\n        }\n        return mostCommonCategories;\n    }\n\n    /**\n     * Function that returns \"howMany\" recipes of one category\n     * @param category      The category to consider\n     * @param howMany       How many recipes to return\n     * @return              List of the recipes\n     */\n    public List<Recipe> getRecipesOfCategory (String category, int howMany)\n    {\n        List<Recipe> recipes = new ArrayList<>();\n        Gson gson = new Gson();\n        Bson match = match(Filters.in(\"categories\", category));\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson limit = limit(howMany);\n        List<Document> results = (List<Document>)\n                collection.aggregate(Arrays.asList(match, sort, limit)).into(new ArrayList());\n        Type recipeListType = new TypeToken<ArrayList<Recipe>>(){}.getType();\n        recipes = gson.fromJson(gson.toJson(results), recipeListType);\n        return recipes;\n    }\n\n    /**\n     * Function for searching all the comments, ordered by the creationTime (first the last)\n     * The list will be useful for the moderators\n     * @param howManySkip   How many to skip\n     * @param howMany       How many comments we want obtain\n     * @return              The list of the comments\n     */\n    public List<Comment> searchAllComments (int howManySkip, int howMany)\n    {\n        List<Comment> comments = new ArrayList<>();\n        Gson gson = new Gson();\n        Bson unwind = unwind(\"$comments\");\n        Bson sort = sort(descending(\"creationTime\"));\n        Bson skip = skip(howManySkip);\n        Bson limit = limit(howMany);\n        MongoCursor<Document> iterator = (MongoCursor<Document>)\n                collection.aggregate(Arrays.asList(unwind, sort, skip, limit)).iterator();\n        while (iterator.hasNext())\n        {\n            Document document = (Document) iterator.next().get(\"comments\");\n            Comment comment = gson.fromJson(gson.toJson(document), Comment.class);\n            comments.add(comment);\n        }\n        return comments;\n    }\n\n    public void updateComments(String title, List<Comment> comments){\n        collection = collection.withCodecRegistry(pojoCodecRegistry);\n        Bson update = new Document(\"comments\", comments);\n        Bson updateOperation = new Document(\"$set\", update);\n        collection.updateOne(new Document(\"title\", title), updateOperation);\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java	(revision 9f1d6534ab137def09b18f0eac1482f25cfb757b)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/persistence/MongoDBDriver.java	(date 1608413231673)
-@@ -238,4 +238,8 @@
-         Bson updateOperation = new Document("$set", update);
-         collection.updateOne(new Document("title", title), updateOperation);
-     }
-+
-+    public void deleteComment(Comment comment){
-+//        Bson delete = new Document()
-+    }
- }
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/CommentController.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.controller;\n\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Session;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextArea;\n\n/**\n * Controller for the single comment\n */\npublic class CommentController {\n\n    @FXML private Label commentDate;\n    @FXML private Label commentUsername;\n    @FXML private TextArea commentTextArea;\n    @FXML private Button commentModifyButton;\n    @FXML private Button commentDeleteButton;\n    @FXML private Button commentSaveButton;\n\n    private Comment comment;\n    private Session appSession;\n\n\n    public void initialize ()\n    {\n        appSession = Session.getInstance();\n    }\n\n    public void setComment(Comment comment) {\n        this.comment = comment;\n        commentDate.setText(\"Written at: \" + Utils.fromDateToString(comment.getCreationTime()));\n        commentUsername.setText(\"By: \" + comment.getAuthorUsername());\n        commentTextArea.setText(comment.getText());\n\n        if((appSession.getLoggedUser().getRole()!=0) || (appSession.getLoggedUser().getUsername().equals(comment.getAuthorUsername())))\n            commentDeleteButton.setOnMouseClicked(mouseEvent -> Neo4jDriver.getInstance().deleteComment(comment.getAuthorUsername(),comment.getCreationTime()));\n        else\n            commentDeleteButton.setVisible(false);\n\n        if(appSession.getLoggedUser().getUsername().equals(comment.getAuthorUsername()))\n            commentModifyButton.setOnMouseClicked(mouseEvent -> Neo4jDriver.getInstance().editComment(comment.getAuthorUsername(),comment.getCreationTime()));\n        else\n            commentModifyButton.setVisible(false);\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/CommentController.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/CommentController.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/CommentController.java	(revision 9f1d6534ab137def09b18f0eac1482f25cfb757b)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/CommentController.java	(date 1608412373033)
-@@ -4,10 +4,14 @@
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Session;
- import it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
-+import javafx.event.ActionEvent;
- import javafx.fxml.FXML;
-+import javafx.scene.AccessibleAction;
- import javafx.scene.control.Button;
- import javafx.scene.control.Label;
- import javafx.scene.control.TextArea;
-+import javafx.scene.input.MouseEvent;
-+import javafx.scene.layout.VBox;
- 
- /**
-  * Controller for the single comment
-@@ -20,6 +24,7 @@
-     @FXML private Button commentModifyButton;
-     @FXML private Button commentDeleteButton;
-     @FXML private Button commentSaveButton;
-+    @FXML private VBox commentVBox;
- 
-     private Comment comment;
-     private Session appSession;
-@@ -28,6 +33,16 @@
-     public void initialize ()
-     {
-         appSession = Session.getInstance();
-+        commentDeleteButton.setOnAction(mouseEvent -> deleteButtonAction(mouseEvent));
-+    }
-+
-+    public void deleteButtonAction(ActionEvent mouseEvent){
-+//        System.out.println(appSession.getLoggedUser().getUsername());
-+//        System.out.println(commentUsername.getText().substring(4));
-+//        if(appSession.getLoggedUser().getRole() == 1 || appSession.getLoggedUser().getUsername().equals(commentUsername.getText().substring(4)))
-+//            System.out.println("devo cancellare il commento in questione!");
-+        commentVBox.getChildren().remove(0,commentVBox.getChildren().size());
-+
-     }
- 
-     public void setComment(Comment comment) {
-Index: src/main/resources/comment.fxml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<?import javafx.geometry.Insets?>\n<?import javafx.scene.control.Button?>\n<?import javafx.scene.control.Label?>\n<?import javafx.scene.control.TextArea?>\n<?import javafx.scene.layout.AnchorPane?>\n<?import javafx.scene.layout.Pane?>\n<?import javafx.scene.layout.VBox?>\n\n<VBox maxHeight=\"-Infinity\" maxWidth=\"-Infinity\" minHeight=\"-Infinity\" minWidth=\"-Infinity\" prefWidth=\"600.0\" style=\"-fx-border-color: orange; -fx-border-radius: 10px; -fx-background-position: center; -fx-border-style: solid; -fx-border-image-width: 3px; -fx-background-color: white;\" xmlns=\"http://javafx.com/javafx/11.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"it.unipi.dii.inginf.lsdb.justrecipe.controller.CommentController\">\n   <children>\n      <AnchorPane prefHeight=\"41.0\" prefWidth=\"600.0\" VBox.vgrow=\"ALWAYS\">\n         <children>\n            <Label fx:id=\"commentDate\" layoutX=\"26.0\" layoutY=\"12.0\" text=\"Written at: Tue Feb 25 17:11:26 \" />\n            <Label fx:id=\"commentUsername\" alignment=\"CENTER_RIGHT\" layoutX=\"456.0\" layoutY=\"12.0\" text=\"By: Username\" textAlignment=\"RIGHT\" />\n         </children>\n         <VBox.margin>\n            <Insets />\n         </VBox.margin>\n      </AnchorPane>\n      <Pane prefWidth=\"200.0\" VBox.vgrow=\"ALWAYS\">\n         <children>\n            <TextArea fx:id=\"commentTextArea\" layoutX=\"26.0\" layoutY=\"7.0\" prefHeight=\"89.0\" prefWidth=\"547.0\" style=\"-fx-focus-color: orange;\" text=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.&#10; \" wrapText=\"true\" />\n         </children>\n      </Pane>\n      <AnchorPane prefHeight=\"69.0\" prefWidth=\"600.0\" VBox.vgrow=\"ALWAYS\">\n         <children>\n            <Button fx:id=\"commentModifyButton\" layoutX=\"27.0\" layoutY=\"17.0\" mnemonicParsing=\"false\" text=\"Modify\" />\n            <Button fx:id=\"commentDeleteButton\" layoutX=\"522.0\" layoutY=\"17.0\" mnemonicParsing=\"false\" text=\"Delete\" />\n            <Button fx:id=\"commentSaveButton\" layoutX=\"90.0\" layoutY=\"17.0\" mnemonicParsing=\"false\" prefHeight=\"25.0\" prefWidth=\"54.0\" text=\"Save\" />\n         </children>\n      </AnchorPane>\n   </children>\n</VBox>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/resources/comment.fxml b/src/main/resources/comment.fxml
---- a/src/main/resources/comment.fxml	(revision 9f1d6534ab137def09b18f0eac1482f25cfb757b)
-+++ b/src/main/resources/comment.fxml	(date 1608411581019)
-@@ -8,7 +8,7 @@
- <?import javafx.scene.layout.Pane?>
- <?import javafx.scene.layout.VBox?>
- 
--<VBox maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefWidth="600.0" style="-fx-border-color: orange; -fx-border-radius: 10px; -fx-background-position: center; -fx-border-style: solid; -fx-border-image-width: 3px; -fx-background-color: white;" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="it.unipi.dii.inginf.lsdb.justrecipe.controller.CommentController">
-+<VBox fx:id="commentVBox" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefWidth="600.0" style="-fx-border-color: orange; -fx-border-radius: 10px; -fx-background-position: center; -fx-border-style: solid; -fx-border-image-width: 3px; -fx-background-color: white;" xmlns="http://javafx.com/javafx/11.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="it.unipi.dii.inginf.lsdb.justrecipe.controller.CommentController">
-    <children>
-       <AnchorPane prefHeight="41.0" prefWidth="600.0" VBox.vgrow="ALWAYS">
-          <children>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_16_58_[Default_Changelist]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_16_58_[Default_Changelist]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_16_58_[Default_Changelist]/shelved.patch
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_16_58_[Default_Changelist]/shelved.patch	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,240 +0,0 @@
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.model;\n\nimport com.google.gson.annotations.SerializedName;\nimport org.bson.types.ObjectId;\n\nimport java.beans.Transient;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class Recipe {\n    private String title;\n    private String instructions;\n    private List<String> ingredients;\n    private List<String> categories;\n    private int calories;\n    private int fat;\n    private int protein;\n    private int carbs;\n    private Date creationTime;\n    private String picture;\n    private String authorUsername;\n    private List<Comment> comments;\n\n    //Blank constructor\n    public Recipe(){}\n\n    //Constructor\n    public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,\n                  int calories, int fat, int protein, int carbs, Date creationTime, String picture, String authorUsername,\n                  List<Comment> comments)\n    {\n        this.title = title;\n        this.picture = picture;\n        this.instructions = instructions;\n        this.ingredients = ingredients;\n        this.categories = categories;\n        this.creationTime = creationTime;\n        this.calories = calories;\n        this.fat = fat;\n        this.protein = protein;\n        this.carbs = carbs;\n        this.authorUsername = authorUsername;\n        this.comments = comments;\n    }\n\n    public Recipe(String title, String instructions, List<String> ingredients, List<String> categories,\n                  int calories, int fat, int protein, int carbs, Date creationTime, String picture,\n                  String authorUsername)\n    {\n        this( title, instructions, ingredients, categories, calories, fat, protein, carbs,\n                creationTime, picture, authorUsername, new ArrayList<Comment>());\n    }\n\n\n    //Getters\n\n    public String getTitle() {\n        return title;\n    }\n\n    public String getPicture() {\n        return picture;\n    }\n\n    public String getInstructions() {\n        return instructions;\n    }\n\n    public List<String> getIngredients() {\n        return ingredients;\n    }\n\n    public List<String> getCategories() {\n        return categories;\n    }\n\n    public Date getCreationTime() {\n        return creationTime;\n    }\n\n    public int getCalories() {\n        return calories;\n    }\n\n    public int getFat() {\n        return fat;\n    }\n\n    public int getProtein() {\n        return protein;\n    }\n\n    public int getCarbs() {\n        return carbs;\n    }\n\n    public String getAuthorUsername() {\n        return authorUsername;\n    }\n\n    public List<Comment> getComments() {\n        return comments;\n    }\n\n    //Setters\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setPicture(String picture) {\n        this.picture = picture;\n    }\n\n    public void setInstructions(String instructions) {\n        this.instructions = instructions;\n    }\n\n    public void setIngredients(List<String> ingredients) {\n        this.ingredients = ingredients;\n    }\n\n    public void setCategories(List<String> categories) {\n        this.categories = categories;\n    }\n\n    public void setCreationTime(Date creationTime) {\n        this.creationTime = creationTime;\n    }\n\n    public void setCalories(int calories) {\n        this.calories = calories;\n    }\n\n    public void setFat(int fat) {\n        this.fat = fat;\n    }\n\n    public void setProtein(int protein) {\n        this.protein = protein;\n    }\n\n    public void setCarbs(int carbs) {\n        this.carbs = carbs;\n    }\n\n    public void setAuthorUsername(String authorUsername) {\n        this.authorUsername = authorUsername;\n    }\n\n    public void setComments(List<Comment> comments) {\n        this.comments = comments;\n    }\n\n    @Override\n    public String toString() {\n        return \"Recipe{\" +\n                \"title='\" + title + '\\'' +\n                \", instructions='\" + instructions + '\\'' +\n                \", ingredients=\" + ingredients +\n                \", categories=\" + categories +\n                \", calories=\" + calories +\n                \", fat=\" + fat +\n                \", protein=\" + protein +\n                \", carbs=\" + carbs +\n                \", creationTime=\" + creationTime +\n                \", picture='\" + picture + '\\'' +\n                \", authorUsername='\" + authorUsername + '\\'' +\n                \", comments=\" + comments +\n                '}';\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java	(revision 7800a5bb4c859f1953c981fb0108b5a6aa8ba86c)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/model/Recipe.java	(date 1608065894806)
-@@ -152,6 +152,8 @@
-         this.comments = comments;
-     }
- 
-+    public void addComments(Comment comment) {this.comments.add(comment);}
-+
-     @Override
-     public String toString() {
-         return "Recipe{" +
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.utils;\n\nimport com.thoughtworks.xstream.XStream;\nimport it.unipi.dii.inginf.lsdb.justrecipe.config.ConfigurationParameters;\nimport it.unipi.dii.inginf.lsdb.justrecipe.controller.CommentController;\nimport it.unipi.dii.inginf.lsdb.justrecipe.controller.RecipeSnapshotController;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport javafx.event.Event;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.text.Font;\nimport javafx.stage.Stage;\nimport org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\nimport javax.xml.XMLConstants;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\n/**\n * Class that contains some useful method\n */\npublic class Utils {\n\n    /**\n     * Snippet of code for jumping in the next scene\n     * Every scene has associated its specific controller\n     * @param fileName      The name of the file in which i can obtain the GUI (.fxml)\n     * @param event         The event that leads to change the scene\n     * @return The new controller, because I need to pass some parameters\n     */\n    public static Object changeScene (String fileName, Event event)\n    {\n        Scene scene = null;\n        FXMLLoader loader = null;\n        try {\n            loader=new FXMLLoader(Utils.class.getResource(fileName));\n            Stage stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n            scene = new Scene(loader.load());\n            stage.setScene(scene);\n            stage.show();\n            return loader.getController();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    /**\n     * This function is used to read the config.xml file\n     * @return  ConfigurationParameters instance\n     */\n    public static ConfigurationParameters readConfigurationParameters ()\n    {\n        if (validConfigurationParameters())\n        {\n            XStream xs = new XStream();\n\n            String text = null;\n            try {\n                text = new String(Files.readAllBytes(Paths.get(\"./config.xml\")));\n            }\n            catch (Exception e) {\n                System.err.println(e.getMessage());\n            }\n\n            return (ConfigurationParameters) xs.fromXML(text);\n        }\n        else\n        {\n            System.exit(1); //If i can't read the configuration file I can't continue with the program\n        }\n        return null;\n    }\n\n    /**\n     * This function is used to validate the config.xml with the config.xsd\n     * @return  true if config.xml is well formatted, otherwise false\n     */\n    private static boolean validConfigurationParameters()\n    {\n        try\n        {\n            DocumentBuilder documentBuilder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            SchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n            Document document = documentBuilder.parse(\"./config.xml\");\n            Schema schema = schemaFactory.newSchema(new StreamSource(\"./config.xsd\"));\n            schema.newValidator().validate(new DOMSource(document));\n        }\n        catch (Exception e)\n        {\n            if (e instanceof SAXException)\n                System.out.println(\"Validation Error: \" + e.getMessage());\n            else\n                System.out.println(e.getMessage());\n\n            return false;\n        }\n        return true;\n    }\n\n    /**\n     * Function used to get the string representation of a List<String>, with every element separated by comma\n     * @param list  the list to transform\n     * @return      the string representation\n     */\n    public static String fromListToString (List<String> list)\n    {\n        String string = \"\";\n        Iterator<String> iterator = list.iterator();\n        while (iterator.hasNext())\n        {\n            string = string.concat(iterator.next());\n            if (iterator.hasNext())\n            {\n                string = string.concat(\", \");\n            }\n        }\n        return string;\n    }\n\n    /**\n     * Function that transform a Date object in the standard format chosen for the application\n     * @param date\n     * @return\n     */\n    public static String fromDateToString (Date date)\n    {\n        DateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n        return dateFormat.format(date);\n    }\n\n    /**\n     * Function that shows an error alert\n     * @param text  Text to be shown\n     */\n    public static void showErrorAlert (String text)\n    {\n        Alert alert = new Alert(Alert.AlertType.ERROR);\n        alert.setContentText(text);\n        alert.setHeaderText(\"Ops.. Something went wrong..\");\n        alert.setTitle(\"Error\");\n        ImageView imageView = new ImageView(new Image(\"/img/emoticon-cry.png\"));\n        alert.setGraphic(imageView);\n        alert.show();\n    }\n\n    /**\n     * This function create a pane that contains a recipe snapshot\n     * @param recipe    recipe to display in the snapshot\n     * @return\n     */\n    private static Pane createRecipeSnapshot(Recipe recipe)\n    {\n        Pane pane = null;\n        try {\n            FXMLLoader loader = new FXMLLoader(Utils.class.getResource(\"/recipeSnap.fxml\"));\n            pane = (Pane) loader.load();\n            RecipeSnapshotController recipeSnapshotController =\n                    (RecipeSnapshotController) loader.getController();\n            recipeSnapshotController.setRecipe(recipe);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return pane;\n    }\n\n    /**\n     * Function that adds the snapshots of the recipes, 2 for each row\n     * @param pane      Pane in which I have to show the snapshots\n     * @param recipes   Recipes to show\n     */\n    public static void addRecipesSnap(Pane pane, List<Recipe> recipes) {\n        Iterator<Recipe> iterator = recipes.iterator();\n        while (iterator.hasNext())\n        {\n            HBox row = new HBox();\n            row.setStyle(\"-fx-padding: 10px\");\n            row.setSpacing(20);\n            Recipe recipe1 = iterator.next();\n            Pane rec1 = createRecipeSnapshot(recipe1);\n            row.getChildren().add(rec1);\n            if (iterator.hasNext())\n            {\n                Recipe recipe2 = iterator.next();\n                Pane rec2 = createRecipeSnapshot(recipe2);\n                row.getChildren().add(rec2);\n            }\n            pane.getChildren().add(row);\n        }\n    }\n\n    /**\n     * Function used to show the comments\n     * @param pane      Pane in which I have to show the comments\n     * @param comments  Comments to show\n     */\n    public static void showComments(Pane pane, List<Comment> comments) {\n        Iterator<Comment> iterator = comments.iterator();\n        while (iterator.hasNext())\n        {\n            Comment comment = iterator.next();\n            Pane commentPane = loadComment(comment);\n            pane.getChildren().add(commentPane);\n        }\n    }\n\n    /**\n     * Function used to load the .fxml for the comment\n     * @param comment   Comment to show\n     * @return          The pane in which I have showed the comment\n     */\n    private static Pane loadComment (Comment comment)\n    {\n        Pane pane = null;\n        try {\n            FXMLLoader loader = new FXMLLoader(Utils.class.getResource(\"/comment.fxml\"));\n            pane = (Pane) loader.load();\n            CommentController commentController =\n                    (CommentController) loader.getController();\n            commentController.setComment(comment);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return pane;\n    }\n}\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java	(revision 7800a5bb4c859f1953c981fb0108b5a6aa8ba86c)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/utils/Utils.java	(date 1608066949992)
-@@ -225,6 +225,16 @@
-         }
-     }
- 
-+    /**
-+     * Function used to show one comment
-+     * @param pane      Pane in which I have to show the comments
-+     * @param comment  Comments to show
-+     */
-+    public static void showComment(Pane pane, Comment comment){
-+        Pane commentPane = loadComment(comment);
-+        pane.getChildren().add(commentPane);
-+    }
-+
-     /**
-      * Function used to load the .fxml for the comment
-      * @param comment   Comment to show
-Index: src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package it.unipi.dii.inginf.lsdb.justrecipe.controller;\n\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Comment;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Recipe;\nimport it.unipi.dii.inginf.lsdb.justrecipe.model.Session;\nimport it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;\nimport it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Pos;\nimport javafx.scene.control.Label;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.text.Font;\nimport javafx.scene.text.Text;\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\n/**\n * Controller for the page of the recipe\n */\npublic class RecipePageController {\n\n    @FXML private ImageView homeImg;\n    @FXML private ImageView discoveryImg;\n    @FXML private ImageView profileImg;\n    @FXML private Text recipeInstructions;\n    @FXML private ImageView recipeLikeImg;\n    @FXML private ImageView recipePicture;\n    @FXML private ImageView logoutPic;\n    @FXML private Text recipeTitle;\n    @FXML private Text recipeUsername;\n    @FXML private Text recipeCarbs;\n    @FXML private Text recipeCalories;\n    @FXML private Text recipeFat;\n    @FXML private ImageView recipeEditImg;\n    @FXML private Text recipeCategories;\n    @FXML private Text recipeIngredients;\n    @FXML private Text recipeProtein;\n    @FXML private Label recipeLikes;\n    @FXML private Label recipeDate;\n    @FXML private VBox recipeVBox;\n    @FXML private ImageView recipeDelete;\n\n    private Recipe recipe;\n   // private String username;\n    private Session appSession;\n    private Neo4jDriver neo4jDriver;\n\n    public void initialize ()\n    {\n        homeImg.setOnMouseClicked(mouseEvent -> clickOnHomepageToChangePage(mouseEvent));\n        profileImg.setOnMouseClicked(mouseEvent -> clickOnProfileToChangePage(mouseEvent));\n        discoveryImg.setOnMouseClicked(mouseEvent -> clickOnDiscoveryToChangePage(mouseEvent));\n        logoutPic.setOnMouseClicked(mouseEvent -> clickOnLogoutImg(mouseEvent));\n        recipeVBox.setAlignment(Pos.CENTER);\n        appSession = Session.getInstance();\n        neo4jDriver = Neo4jDriver.getInstance();\n    }\n\n    /**\n     * Setters for the recipe, in which we also set the correct value to show\n     * @param recipe    Recipe to show\n     */\n    public void setRecipe(Recipe recipe) {\n        this.recipe = recipe;\n        recipeTitle.setText(recipe.getTitle());\n        recipeInstructions.setText(recipe.getInstructions());\n        if (recipe.getPicture() != null)\n        {\n            recipePicture.setImage(new Image(recipe.getPicture()));\n        }\n        else\n        {\n            recipePicture.setImage(new Image(\"img/genericRecipe.png\"));\n        }\n        recipeUsername.setText(recipe.getAuthorUsername());\n        recipeCarbs.setText(String.valueOf(recipe.getCarbs()));\n        recipeCalories.setText(String.valueOf(recipe.getCalories()));\n        recipeFat.setText(String.valueOf(recipe.getFat()));\n        recipeProtein.setText(String.valueOf(recipe.getProtein()));\n        recipeCategories.setText(Utils.fromListToString(recipe.getCategories()));\n        recipeIngredients.setText(Utils.fromListToString(recipe.getIngredients()));\n        recipeDate.setText(\"Published on: \" + Utils.fromDateToString(recipe.getCreationTime()));\n        //TO DO\n        recipeLikes.setText(\"Likes: 0\");\n\n        List<Comment> comments = new ArrayList<>();\n        comments.add(new Comment(\"Pippo\", \"Hello World!\", new Date()));\n        comments.add(new Comment(\"Pluto\", \"Fantastic recipe!\", new Date()));\n        recipe.setComments(comments);\n        if (comments != null)\n        {\n            Label commentsTitle = new Label(\"Comments:\");\n            commentsTitle.setFont(Font.font(24));\n            recipeVBox.getChildren().add(commentsTitle);\n            Utils.showComments(recipeVBox, recipe.getComments());\n        }\n\n        if(appSession.getLoggedUser().getRole()!=2 && !appSession.getLoggedUser().getUsername().equals(recipe.getAuthorUsername()))\n            recipeDelete.setVisible(false);\n        else\n            recipeDelete.setOnMouseClicked(mouseEvent -> neo4jDriver.deleteRecipe(recipe.getTitle(),recipe.getCreationTime()));\n    }\n\n    /**\n     * Function used to handle the click on the homepage icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnHomepageToChangePage(MouseEvent mouseEvent){\n        HomePageController homePageController = (HomePageController)\n                Utils.changeScene(\"/homepage.fxml\", mouseEvent);\n    }\n\n    /**\n     * Function used to handle the click on the profile icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnProfileToChangePage(MouseEvent mouseEvent){\n        ProfilePageController profilePageController = (ProfilePageController)\n                Utils.changeScene(\"/profilePage.fxml\", mouseEvent);\n        profilePageController.setProfile(Session.getInstance().getLoggedUser());\n    }\n\n    /**\n     * Function used to handle the click on the discovery icon\n     * @param mouseEvent    event that represents the click on the icon\n     */\n    private void clickOnDiscoveryToChangePage(MouseEvent mouseEvent){\n        DiscoveryPageController discoveryPageController = (DiscoveryPageController)\n                Utils.changeScene(\"/discoveryPage.fxml\", mouseEvent);\n    }\n\n    /**\n     * Function that let the logout action, by going into the welcome page\n     * @param mouseEvent event that represents the click on the icon\n     */\n    private void clickOnLogoutImg(MouseEvent mouseEvent){\n        try {\n            WelcomePageController welcomePageController = (WelcomePageController)\n                    Utils.changeScene(\"/welcome.fxml\", mouseEvent);\n        }catch (NullPointerException n){System.out.println(\"profilePageController is null!!!!\");}\n    }\n}\n\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java
---- a/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java	(revision 7800a5bb4c859f1953c981fb0108b5a6aa8ba86c)
-+++ b/src/main/java/it/unipi/dii/inginf/lsdb/justrecipe/controller/RecipePageController.java	(date 1608067575072)
-@@ -5,10 +5,14 @@
- import it.unipi.dii.inginf.lsdb.justrecipe.model.Session;
- import it.unipi.dii.inginf.lsdb.justrecipe.persistence.Neo4jDriver;
- import it.unipi.dii.inginf.lsdb.justrecipe.utils.Utils;
-+import javafx.event.ActionEvent;
- import javafx.fxml.FXML;
- import javafx.fxml.FXMLLoader;
- import javafx.geometry.Pos;
-+import javafx.scene.AccessibleAction;
-+import javafx.scene.control.Button;
- import javafx.scene.control.Label;
-+import javafx.scene.control.TextArea;
- import javafx.scene.image.Image;
- import javafx.scene.image.ImageView;
- import javafx.scene.input.MouseEvent;
-@@ -48,6 +52,9 @@
-     @FXML private Label recipeDate;
-     @FXML private VBox recipeVBox;
-     @FXML private ImageView recipeDelete;
-+    @FXML private TextArea commentsArea;
-+    @FXML private Button sendButton;
-+    @FXML private Button cancelButton;
- 
-     private Recipe recipe;
-    // private String username;
-@@ -63,6 +70,32 @@
-         recipeVBox.setAlignment(Pos.CENTER);
-         appSession = Session.getInstance();
-         neo4jDriver = Neo4jDriver.getInstance();
-+        sendButton.setOnAction(actionEvent -> handleSendButtonAction(actionEvent));
-+        cancelButton.setOnAction(actionEvent -> handleCancelButtonAction(actionEvent));
-+    }
-+
-+    private void handleSendButtonAction(ActionEvent actionEvent){
-+        if(commentsArea.getText().equals("")) {
-+            Utils.showErrorAlert("No Comments in the CommentsArea");
-+            return;
-+        }
-+        Comment comment = new Comment(appSession.getLoggedUser().getUsername(), commentsArea.getText(), new Date());
-+        if(recipe.getComments() != null){
-+            System.out.println("comments!=null");
-+            recipe.addComments(comment);
-+            Utils.showComment(recipeVBox, comment);
-+        }else {
-+            System.out.println("comments==null");
-+            List<Comment> comments= new ArrayList<>();
-+            comments.add(comment);
-+            recipe.setComments(comments);
-+            Utils.showComments(recipeVBox, recipe.getComments());
-+        }
-+//        System.out.println(recipe.getComments());
-+    }
-+
-+    private void handleCancelButtonAction(ActionEvent actionEvent){
-+        if(!commentsArea.getText().equals("")) commentsArea.setText("");
-     }
- 
-     /**
-@@ -92,17 +125,17 @@
-         //TO DO
-         recipeLikes.setText("Likes: 0");
- 
--        List<Comment> comments = new ArrayList<>();
--        comments.add(new Comment("Pippo", "Hello World!", new Date()));
--        comments.add(new Comment("Pluto", "Fantastic recipe!", new Date()));
--        recipe.setComments(comments);
--        if (comments != null)
--        {
--            Label commentsTitle = new Label("Comments:");
--            commentsTitle.setFont(Font.font(24));
--            recipeVBox.getChildren().add(commentsTitle);
--            Utils.showComments(recipeVBox, recipe.getComments());
--        }
-+//        List<Comment> comments = new ArrayList<>();
-+//        comments.add(new Comment("Pippo", "Hello World!", new Date()));
-+//        comments.add(new Comment("Pluto", "Fantastic recipe!", new Date()));
-+//        recipe.setComments(comments);
-+//        if (comments != null)
-+//        {
-+//            Label commentsTitle = new Label("Comments:");
-+//            commentsTitle.setFont(Font.font(24));
-+//            recipeVBox.getChildren().add(commentsTitle);
-+//            Utils.showComments(recipeVBox, recipe.getComments());
-+//        }
- 
-         if(appSession.getLoggedUser().getRole()!=2 && !appSession.getLoggedUser().getUsername().equals(recipe.getAuthorUsername()))
-             recipeDelete.setVisible(false);
-Index: src/main/resources/recipePage.fxml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\n<?import javafx.geometry.Insets?>\n<?import javafx.scene.control.Label?>\n<?import javafx.scene.control.ScrollPane?>\n<?import javafx.scene.effect.Blend?>\n<?import javafx.scene.image.Image?>\n<?import javafx.scene.image.ImageView?>\n<?import javafx.scene.layout.BorderPane?>\n<?import javafx.scene.layout.HBox?>\n<?import javafx.scene.layout.Pane?>\n<?import javafx.scene.layout.VBox?>\n<?import javafx.scene.shape.Line?>\n<?import javafx.scene.text.Font?>\n<?import javafx.scene.text.Text?>\n\n<VBox xmlns=\"http://javafx.com/javafx/11.0.1\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"it.unipi.dii.inginf.lsdb.justrecipe.controller.RecipePageController\">\n   <children>\n      <BorderPane prefHeight=\"84.0\" style=\"-fx-background-color: rgb(237, 160, 66);\">\n         <effect>\n            <Blend />\n         </effect>\n         <left>\n            <ImageView fitHeight=\"81.0\" fitWidth=\"95.0\" pickOnBounds=\"true\" preserveRatio=\"true\" BorderPane.alignment=\"CENTER\">\n               <image>\n                  <Image url=\"@img/icon.png\" />\n               </image>\n               <BorderPane.margin>\n                  <Insets left=\"20.0\" />\n               </BorderPane.margin>\n            </ImageView>\n         </left>\n         <right>\n            <HBox alignment=\"CENTER\" prefHeight=\"84.0\" prefWidth=\"240.0\" BorderPane.alignment=\"CENTER\">\n               <children>\n                  <ImageView fx:id=\"logoutPic\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/exit.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"homeImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/home.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"discoveryImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/discovery.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n                  <ImageView fx:id=\"profileImg\" fitHeight=\"45.0\" fitWidth=\"45.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                     <image>\n                        <Image url=\"@img/user.png\" />\n                     </image>\n                     <HBox.margin>\n                        <Insets right=\"20.0\" />\n                     </HBox.margin>\n                  </ImageView>\n               </children>\n            </HBox>\n         </right>\n         <center>\n            <HBox alignment=\"CENTER_LEFT\" BorderPane.alignment=\"CENTER\" />\n         </center>\n      </BorderPane>\n      <ScrollPane hbarPolicy=\"NEVER\" vbarPolicy=\"ALWAYS\">\n         <content>\n            <HBox alignment=\"CENTER\" prefHeight=\"693.0\" prefWidth=\"1197.0\" style=\"-fx-background-color: RGB(204, 199, 194);\">\n               <opaqueInsets>\n                  <Insets />\n               </opaqueInsets>\n               <children>\n                  <ScrollPane hbarPolicy=\"NEVER\" prefWidth=\"772.0\" style=\"-fx-background-color: white;\" vbarPolicy=\"NEVER\">\n                     <content>\n                        <VBox fx:id=\"recipeVBox\" maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" spacing=\"20.0\" style=\"-fx-background-color: white;\">\n                           <children>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Text fx:id=\"recipeTitle\" layoutX=\"20.0\" layoutY=\"66.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Tiramisu\" wrappingWidth=\"725.0\">\n                                       <font>\n                                          <Font size=\"48.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                              </Pane>\n                              <HBox prefHeight=\"247.0\" prefWidth=\"770.0\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefHeight=\"250.0\" prefWidth=\"260.0\">\n                                       <children>\n                                          <ImageView fx:id=\"recipePicture\" fitHeight=\"208.0\" fitWidth=\"232.0\" layoutX=\"35.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/genericRecipe.png\" />\n                                             </image>\n                                          </ImageView>\n                                       </children>\n                                    </Pane>\n                                    <Pane prefHeight=\"250.0\" prefWidth=\"199.0\">\n                                       <children>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/user.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeUsername\" layoutX=\"48.0\" layoutY=\"29.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Username\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"46.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/carbs.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"88.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/calories.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"136.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/fat.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeCarbs\" layoutX=\"55.0\" layoutY=\"75.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"30\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Text fx:id=\"recipeCalories\" layoutX=\"55.0\" layoutY=\"124.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"20\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Text fx:id=\"recipeFat\" layoutX=\"55.0\" layoutY=\"165.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"40\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <ImageView fitHeight=\"40.0\" fitWidth=\"40.0\" layoutY=\"179.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/protein1.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Text fx:id=\"recipeProtein\" layoutX=\"55.0\" layoutY=\"208.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"50\">\n                                             <font>\n                                                <Font size=\"22.0\" />\n                                             </font>\n                                          </Text>\n                                          <Line endY=\"-38.0\" layoutX=\"178.0\" layoutY=\"51.0\" startY=\"167.0\" />\n                                       </children>\n                                    </Pane>\n                                    <Pane prefHeight=\"240.0\" prefWidth=\"318.0\">\n                                       <children>\n                                          <ImageView fx:id=\"recipeLikeImg\" fitHeight=\"81.0\" fitWidth=\"93.0\" layoutX=\"9.0\" layoutY=\"106.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/like.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <ImageView fx:id=\"recipeEditImg\" fitHeight=\"81.0\" fitWidth=\"70.0\" layoutX=\"131.0\" layoutY=\"109.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/edit.png\" />\n                                             </image>\n                                          </ImageView>\n                                          <Label fx:id=\"recipeLikes\" layoutX=\"14.0\" layoutY=\"23.0\" text=\"Like:\">\n                                             <font>\n                                                <Font size=\"15.0\" />\n                                             </font>\n                                          </Label>\n                                          <Label fx:id=\"recipeDate\" layoutX=\"14.0\" layoutY=\"51.0\" text=\"Published on:\">\n                                             <font>\n                                                <Font size=\"15.0\" />\n                                             </font>\n                                          </Label>\n                                          <ImageView fx:id=\"recipeDelete\" fitHeight=\"81.0\" fitWidth=\"200.0\" layoutX=\"231.0\" layoutY=\"106.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                             <image>\n                                                <Image url=\"@img/delete.png\" />\n                                             </image>\n                                          </ImageView>\n                                       </children>\n                                    </Pane>\n                                 </children>\n                                 <padding>\n                                    <Insets top=\"20.0\" />\n                                 </padding>\n                              </HBox>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <Text fx:id=\"recipeInstructions\" layoutX=\"23.0\" layoutY=\"20.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"Anticamente le nonne usavano preparare una colazione che oggi potremmo definirepovera, ma che allepoca era davvero ricchissima! Ancora oggi la ricetta  immutata,basta rompere in un bicchiere un uovo freschissimo e sbatterlo con dello zucchero ea piacere aggiungere caff o latte caldo, per i pi piccoli, e marsala o anice per i pigrandicelli. Ed  proprio da questa portentosa crema che nasce la crema al mascarponebase del tiramis. Il dolce italiano per eccellenza, quello pi famoso e amato,ma soprattutto che ha dato vita a tantissime altre versioni, anche tiramis senza uova!Poi il tiramis alle fragole o quello alla Nutella, giusto per citarne un paio!Senza contare le rivisitazioni pi raffinate come la crostata morbida o la torta al tiramis.\" wrappingWidth=\"725.0\" />\n                                 </children>\n                                 <VBox.margin>\n                                    <Insets />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <ImageView fitHeight=\"71.0\" fitWidth=\"63.0\" layoutX=\"35.0\" layoutY=\"9.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                       <image>\n                                          <Image url=\"@img/tag.png\" />\n                                       </image>\n                                    </ImageView>\n                                    <Text fx:id=\"recipeCategories\" layoutX=\"117.0\" layoutY=\"37.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"italian, dolce, prova, ciao, mascarpone\" wrappingWidth=\"600.0\">\n                                       <font>\n                                          <Font size=\"15.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                                 <opaqueInsets>\n                                    <Insets />\n                                 </opaqueInsets>\n                                 <VBox.margin>\n                                    <Insets />\n                                 </VBox.margin>\n                              </Pane>\n                              <Pane maxHeight=\"1.7976931348623157E308\" maxWidth=\"1.7976931348623157E308\" prefWidth=\"770.0\" style=\"-fx-background-color: white;\" VBox.vgrow=\"ALWAYS\">\n                                 <children>\n                                    <ImageView fitHeight=\"84.0\" fitWidth=\"78.0\" layoutX=\"20.0\" pickOnBounds=\"true\" preserveRatio=\"true\">\n                                       <image>\n                                          <Image url=\"@img/ingredients1.png\" />\n                                       </image>\n                                    </ImageView>\n                                    <Text fx:id=\"recipeIngredients\" layoutX=\"114.0\" layoutY=\"45.0\" strokeType=\"OUTSIDE\" strokeWidth=\"0.0\" text=\"uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5\" wrappingWidth=\"600.0\">\n                                       <font>\n                                          <Font size=\"15.0\" />\n                                       </font>\n                                    </Text>\n                                 </children>\n                                 <VBox.margin>\n                                    <Insets bottom=\"35.0\" />\n                                 </VBox.margin>\n                              </Pane>\n                           </children>\n                        </VBox>\n                     </content>\n                  </ScrollPane>\n               </children>\n            </HBox>\n         </content>\n      </ScrollPane>\n   </children>\n</VBox>\n
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
-diff --git a/src/main/resources/recipePage.fxml b/src/main/resources/recipePage.fxml
---- a/src/main/resources/recipePage.fxml	(revision 7800a5bb4c859f1953c981fb0108b5a6aa8ba86c)
-+++ b/src/main/resources/recipePage.fxml	(date 1608057150850)
-@@ -1,8 +1,10 @@
- <?xml version="1.0" encoding="UTF-8"?>
- 
- <?import javafx.geometry.Insets?>
-+<?import javafx.scene.control.Button?>
- <?import javafx.scene.control.Label?>
- <?import javafx.scene.control.ScrollPane?>
-+<?import javafx.scene.control.TextArea?>
- <?import javafx.scene.effect.Blend?>
- <?import javafx.scene.image.Image?>
- <?import javafx.scene.image.ImageView?>
-@@ -74,7 +76,7 @@
-       </BorderPane>
-       <ScrollPane hbarPolicy="NEVER" vbarPolicy="ALWAYS">
-          <content>
--            <HBox alignment="CENTER" prefHeight="693.0" prefWidth="1197.0" style="-fx-background-color: RGB(204, 199, 194);">
-+            <HBox alignment="CENTER" prefHeight="700.0" prefWidth="1197.0" style="-fx-background-color: RGB(204, 199, 194);">
-                <opaqueInsets>
-                   <Insets />
-                </opaqueInsets>
-@@ -85,7 +87,7 @@
-                            <children>
-                               <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" VBox.vgrow="ALWAYS">
-                                  <children>
--                                    <Text fx:id="recipeTitle" layoutX="20.0" layoutY="66.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Tiramisu" wrappingWidth="725.0">
-+                                    <Text fx:id="recipeTitle" focusTraversable="true" layoutX="20.0" layoutY="66.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Tiramisu" wrappingWidth="725.0">
-                                        <font>
-                                           <Font size="48.0" />
-                                        </font>
-@@ -192,6 +194,23 @@
-                                     <Insets top="20.0" />
-                                  </padding>
-                               </HBox>
-+                              <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="770.0" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
-+                                 <children>
-+                                    <ImageView fitHeight="84.0" fitWidth="78.0" layoutX="20.0" pickOnBounds="true" preserveRatio="true">
-+                                       <image>
-+                                          <Image url="@img/ingredients1.png" />
-+                                       </image>
-+                                    </ImageView>
-+                                    <Text fx:id="recipeIngredients" layoutX="114.0" layoutY="45.0" strokeType="OUTSIDE" strokeWidth="0.0" text="uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5" wrappingWidth="600.0">
-+                                       <font>
-+                                          <Font size="15.0" />
-+                                       </font>
-+                                    </Text>
-+                                 </children>
-+                                 <VBox.margin>
-+                                    <Insets bottom="5.0" />
-+                                 </VBox.margin>
-+                              </Pane>
-                               <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="770.0" VBox.vgrow="ALWAYS">
-                                  <children>
-                                     <Text fx:id="recipeInstructions" layoutX="23.0" layoutY="20.0" strokeType="OUTSIDE" strokeWidth="0.0" text="Anticamente le nonne usavano preparare una colazione che oggi potremmo definirepovera, ma che allepoca era davvero ricchissima! Ancora oggi la ricetta  immutata,basta rompere in un bicchiere un uovo freschissimo e sbatterlo con dello zucchero ea piacere aggiungere caff o latte caldo, per i pi piccoli, e marsala o anice per i pigrandicelli. Ed  proprio da questa portentosa crema che nasce la crema al mascarponebase del tiramis. Il dolce italiano per eccellenza, quello pi famoso e amato,ma soprattutto che ha dato vita a tantissime altre versioni, anche tiramis senza uova!Poi il tiramis alle fragole o quello alla Nutella, giusto per citarne un paio!Senza contare le rivisitazioni pi raffinate come la crostata morbida o la torta al tiramis." wrappingWidth="725.0" />
-@@ -217,25 +236,20 @@
-                                     <Insets />
-                                  </opaqueInsets>
-                                  <VBox.margin>
--                                    <Insets />
-+                                    <Insets bottom="20.0" />
-                                  </VBox.margin>
-                               </Pane>
--                              <Pane maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefWidth="770.0" style="-fx-background-color: white;" VBox.vgrow="ALWAYS">
-+                              <Pane prefHeight="200.0" prefWidth="200.0">
-                                  <children>
--                                    <ImageView fitHeight="84.0" fitWidth="78.0" layoutX="20.0" pickOnBounds="true" preserveRatio="true">
--                                       <image>
--                                          <Image url="@img/ingredients1.png" />
--                                       </image>
--                                    </ImageView>
--                                    <Text fx:id="recipeIngredients" layoutX="114.0" layoutY="45.0" strokeType="OUTSIDE" strokeWidth="0.0" text="uova, mascarpone, ingr1, ingr2, ingr3, ingr4, ingr5" wrappingWidth="600.0">
-+                                    <TextArea fx:id="commentsArea" focusTraversable="false" layoutX="29.0" layoutY="39.0" prefHeight="106.0" prefWidth="723.0" />
-+                                    <Label layoutX="282.0" layoutY="9.0" text="Write a comment:">
-                                        <font>
--                                          <Font size="15.0" />
-+                                          <Font size="24.0" />
-                                        </font>
--                                    </Text>
-+                                    </Label>
-+                                    <Button fx:id="sendButton" layoutX="701.0" layoutY="160.0" mnemonicParsing="false" text="Send" />
-+                                    <Button fx:id="cancelButton" layoutX="624.0" layoutY="160.0" mnemonicParsing="false" text="Cancel" />
-                                  </children>
--                                 <VBox.margin>
--                                    <Insets bottom="35.0" />
--                                 </VBox.margin>
-                               </Pane>
-                            </children>
-                         </VBox>
Index: .idea/shelf/Uncommitted_changes_before_Update_at_20_12_20__10_45__Default_Changelist_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20__10_45__Default_Changelist_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20__10_45__Default_Changelist_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20__10_45__Default_Changelist_.xml	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_20_12_20,_10_45_[Default_Changelist]" date="1608457528305" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_20_12_20,_10_45_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 20/12/20, 10:45 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__16_58__Default_Changelist_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__16_58__Default_Changelist_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__16_58__Default_Changelist_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20__16_58__Default_Changelist_.xml	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ /dev/null	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_17_12_20,_16_58_[Default_Changelist]" date="1608220733108" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_17_12_20,_16_58_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 17/12/20, 16:58 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: ../Documents/Doc LaTex/JustRecipe Doc.aux
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\\relax \n\\@nameuse{bbl@beforestart}\n\\babel@aux{english}{}\n\\@writefile{toc}{\\contentsline {chapter}{\\numberline {1}Dataset}{3}\\protected@file@percent }\n\\@writefile{lof}{\\addvspace {10\\p@ }}\n\\@writefile{lot}{\\addvspace {10\\p@ }}\n\\@writefile{toc}{\\contentsline {chapter}{\\numberline {2}Design}{4}\\protected@file@percent }\n\\@writefile{lof}{\\addvspace {10\\p@ }}\n\\@writefile{lot}{\\addvspace {10\\p@ }}\n\\@writefile{toc}{\\contentsline {section}{\\numberline {2.1}Introduction To The Application}{4}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {2.2}Requirements}{4}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.2.1}Main Actors}{4}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.2.2}Functional Requirements}{5}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Features offered to the Unregistered User}{5}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Features offered to the Registered User}{5}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Features offered to the Moderator}{6}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Features offered to the Administrator}{6}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.2.3}Non-Functional Requirements}{6}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.2.4}Actors and Use Cases}{6}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {2.3}UML Class Diagram}{6}\\protected@file@percent }\n\\@writefile{lof}{\\contentsline {figure}{\\numberline {2.1}{\\ignorespaces Use Case Diagram\\relax }}{7}\\protected@file@percent }\n\\@writefile{lof}{\\contentsline {figure}{\\numberline {2.2}{\\ignorespaces UML Analysis Classes Diagram with generalization unsolved\\relax }}{8}\\protected@file@percent }\n\\@writefile{lof}{\\contentsline {figure}{\\numberline {2.3}{\\ignorespaces UML Analysis Classes Diagram\\relax }}{8}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {2.4}Data Model}{9}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.4.1}DocumentDB}{9}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.4.2}GraphDB}{10}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {2.5}Distributed Database Design}{10}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.5.1}Replicas}{10}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {2.5.2}Sharding}{10}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {2.6}Software Architecture}{10}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {chapter}{\\numberline {3}Implementation and Test}{11}\\protected@file@percent }\n\\@writefile{lof}{\\addvspace {10\\p@ }}\n\\@writefile{lot}{\\addvspace {10\\p@ }}\n\\@writefile{toc}{\\contentsline {section}{\\numberline {3.1}Main Modules}{11}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {3.2}Main Packages and Classes}{11}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {3.3}Most Relevant Queries}{11}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {3.3.1}MongoDB}{11}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Recipes of the user}{11}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Search for recipe title}{12}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Search for recipe category}{13}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Search for recipe ingredients}{14}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Most common recipe categories}{14}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Last Comments}{15}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsection}{\\numberline {3.3.2}Neo4J}{16}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Suggested Recipes}{16}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Recipes of following users}{16}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Most followed and active users}{17}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Top Commentators}{17}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Most liked users}{17}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Best Recipes}{17}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Search for username}{17}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {subsubsection}{Search for user's full-name}{17}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {3.4}Unit Test}{18}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {section}{\\numberline {3.5}Tests and Statistical Analysis}{18}\\protected@file@percent }\n\\@writefile{toc}{\\contentsline {chapter}{\\numberline {4}User Manual}{19}\\protected@file@percent }\n\\@writefile{lof}{\\addvspace {10\\p@ }}\n\\@writefile{lot}{\\addvspace {10\\p@ }}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../Documents/Doc LaTex/JustRecipe Doc.aux b/../Documents/Doc LaTex/JustRecipe Doc.aux
--- a/../Documents/Doc LaTex/JustRecipe Doc.aux	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ b/../Documents/Doc LaTex/JustRecipe Doc.aux	(date 1609067369514)
@@ -1,4 +1,5 @@
 \relax 
+\providecommand\babel@aux[2]{}
 \@nameuse{bbl@beforestart}
 \babel@aux{english}{}
 \@writefile{toc}{\contentsline {chapter}{\numberline {1}Dataset}{3}\protected@file@percent }
@@ -13,45 +14,46 @@
 \@writefile{toc}{\contentsline {subsection}{\numberline {2.2.2}Functional Requirements}{5}\protected@file@percent }
 \@writefile{toc}{\contentsline {subsubsection}{Features offered to the Unregistered User}{5}\protected@file@percent }
 \@writefile{toc}{\contentsline {subsubsection}{Features offered to the Registered User}{5}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Features offered to the Moderator}{6}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Features offered to the Administrator}{6}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Features offered to the Moderator}{5}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Features offered to the Administrator}{5}\protected@file@percent }
 \@writefile{toc}{\contentsline {subsection}{\numberline {2.2.3}Non-Functional Requirements}{6}\protected@file@percent }
 \@writefile{toc}{\contentsline {subsection}{\numberline {2.2.4}Actors and Use Cases}{6}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {2.3}UML Class Diagram}{6}\protected@file@percent }
-\@writefile{lof}{\contentsline {figure}{\numberline {2.1}{\ignorespaces Use Case Diagram\relax }}{7}\protected@file@percent }
-\@writefile{lof}{\contentsline {figure}{\numberline {2.2}{\ignorespaces UML Analysis Classes Diagram with generalization unsolved\relax }}{8}\protected@file@percent }
-\@writefile{lof}{\contentsline {figure}{\numberline {2.3}{\ignorespaces UML Analysis Classes Diagram\relax }}{8}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {2.4}Data Model}{9}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsection}{\numberline {2.4.1}DocumentDB}{9}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsection}{\numberline {2.4.2}GraphDB}{10}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {2.5}Distributed Database Design}{10}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsection}{\numberline {2.5.1}Replicas}{10}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsection}{\numberline {2.5.2}Sharding}{10}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {2.6}Software Architecture}{10}\protected@file@percent }
-\@writefile{toc}{\contentsline {chapter}{\numberline {3}Implementation and Test}{11}\protected@file@percent }
+\@writefile{lof}{\contentsline {figure}{\numberline {2.1}{\ignorespaces Use Case Diagram\relax }}{6}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {2.3}UML Class Diagram}{7}\protected@file@percent }
+\@writefile{lof}{\contentsline {figure}{\numberline {2.2}{\ignorespaces UML Analysis Classes Diagram with generalization unsolved\relax }}{7}\protected@file@percent }
+\@writefile{lof}{\contentsline {figure}{\numberline {2.3}{\ignorespaces UML Analysis Classes Diagram\relax }}{7}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {2.4}Data Model}{8}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsection}{\numberline {2.4.1}DocumentDB}{8}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsection}{\numberline {2.4.2}GraphDB}{9}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {2.5}Distributed Database Design}{9}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsection}{\numberline {2.5.1}Replicas}{9}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsection}{\numberline {2.5.2}Sharding}{9}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {2.6}Software Architecture}{9}\protected@file@percent }
+\@writefile{toc}{\contentsline {chapter}{\numberline {3}Implementation and Test}{10}\protected@file@percent }
 \@writefile{lof}{\addvspace {10\p@ }}
 \@writefile{lot}{\addvspace {10\p@ }}
-\@writefile{toc}{\contentsline {section}{\numberline {3.1}Main Modules}{11}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {3.2}Main Packages and Classes}{11}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {3.3}Most Relevant Queries}{11}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsection}{\numberline {3.3.1}MongoDB}{11}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Recipes of the user}{11}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Search for recipe title}{12}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Search for recipe category}{13}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Search for recipe ingredients}{14}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Most common recipe categories}{14}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Last Comments}{15}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsection}{\numberline {3.3.2}Neo4J}{16}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Suggested Recipes}{16}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Recipes of following users}{16}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Most followed and active users}{17}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Top Commentators}{17}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Most liked users}{17}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Best Recipes}{17}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Search for username}{17}\protected@file@percent }
-\@writefile{toc}{\contentsline {subsubsection}{Search for user's full-name}{17}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {3.4}Unit Test}{18}\protected@file@percent }
-\@writefile{toc}{\contentsline {section}{\numberline {3.5}Tests and Statistical Analysis}{18}\protected@file@percent }
-\@writefile{toc}{\contentsline {chapter}{\numberline {4}User Manual}{19}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {3.1}Main Modules}{10}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {3.2}Main Packages and Classes}{10}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {3.3}Most Relevant Queries}{10}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsection}{\numberline {3.3.1}MongoDB}{10}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Recipes of the user}{10}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Search for recipe title}{11}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Search for recipe category}{11}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Search for recipe ingredients}{12}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Most common recipe categories}{13}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Recipes with below average calories - TO DO}{13}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Last Comments}{13}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsection}{\numberline {3.3.2}Neo4J}{14}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Suggested Recipes - MANCA CODICE}{14}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Recipes of following users}{14}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Most followed and active users}{15}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Top Commentators - TO DO}{15}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Most liked users}{15}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Best Recipes}{15}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Search for username}{16}\protected@file@percent }
+\@writefile{toc}{\contentsline {subsubsection}{Search for user's full-name}{16}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {3.4}Unit Test}{17}\protected@file@percent }
+\@writefile{toc}{\contentsline {section}{\numberline {3.5}Tests and Statistical Analysis}{17}\protected@file@percent }
+\@writefile{toc}{\contentsline {chapter}{\numberline {4}User Manual}{18}\protected@file@percent }
 \@writefile{lof}{\addvspace {10\p@ }}
 \@writefile{lot}{\addvspace {10\p@ }}
Index: ../Documents/Doc LaTex/JustRecipe Doc.log
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020/Arch Linux) (preloaded format=pdflatex 2020.12.23)  23 DEC 2020 18:47\nentering extended mode\n restricted \\write18 enabled.\n %&-line parsing enabled.\n**\"JustRecipe Doc.tex\"\n(./JustRecipe Doc.tex\nLaTeX2e <2020-02-02> patch level 5\nL3 programming layer <2020-06-03>\n(/usr/share/texmf-dist/tex/latex/base/report.cls\nDocument Class: report 2019/12/20 v1.4l Standard LaTeX document class\n(/usr/share/texmf-dist/tex/latex/base/size10.clo\nFile: size10.clo 2019/12/20 v1.4l Standard LaTeX file (size option)\n)\n\\c@part=\\count167\n\\c@chapter=\\count168\n\\c@section=\\count169\n\\c@subsection=\\count170\n\\c@subsubsection=\\count171\n\\c@paragraph=\\count172\n\\c@subparagraph=\\count173\n\\c@figure=\\count174\n\\c@table=\\count175\n\\abovecaptionskip=\\skip47\n\\belowcaptionskip=\\skip48\n\\bibindent=\\dimen134\n)\n(/usr/share/texmf-dist/tex/latex/base/fontenc.sty\nPackage: fontenc 2020/02/11 v2.0o Standard LaTeX package\n)\n(/usr/share/texmf-dist/tex/latex/base/inputenc.sty\nPackage: inputenc 2018/08/11 v1.3c Input encoding file\n\\inpenc@prehook=\\toks15\n\\inpenc@posthook=\\toks16\n)\n(/usr/share/texmf-dist/tex/generic/babel/babel.sty\nPackage: babel 2020/05/13 3.44 The Babel package\n\n(/usr/share/texmf-dist/tex/generic/babel/babel.def\nFile: babel.def 2020/05/13 3.44 Babel common definitions\n\\babel@savecnt=\\count176\n\\U@D=\\dimen135\n\\l@babelnohyphens=\\language86\n\n(/usr/share/texmf-dist/tex/generic/babel/txtbabel.def)\n\\bbl@readstream=\\read2\n)\n\\bbl@dirlevel=\\count177\n\n(/usr/share/texmf-dist/tex/generic/babel-english/english.ldf\nLanguage: english 2017/06/06 v3.3r English support from the babel system\nPackage babel Info: \\l@canadian = using hyphenrules for english\n(babel)             (\\language0) on input line 102.\nPackage babel Info: \\l@australian = using hyphenrules for ukenglish\n(babel)             (\\language21) on input line 105.\nPackage babel Info: \\l@newzealand = using hyphenrules for ukenglish\n(babel)             (\\language21) on input line 108.\n))\n(/usr/share/texmf-dist/tex/latex/geometry/geometry.sty\nPackage: geometry 2020/01/02 v5.9 Page Geometry\n\n(/usr/share/texmf-dist/tex/latex/graphics/keyval.sty\nPackage: keyval 2014/10/28 v1.15 key=value parser (DPC)\n\\KV@toks@=\\toks17\n)\n(/usr/share/texmf-dist/tex/generic/iftex/ifvtex.sty\nPackage: ifvtex 2019/10/25 v1.7 ifvtex legacy package. Use iftex instead.\n\n(/usr/share/texmf-dist/tex/generic/iftex/iftex.sty\nPackage: iftex 2020/03/06 v1.0d TeX engine tests\n))\n\\Gm@cnth=\\count178\n\\Gm@cntv=\\count179\n\\c@Gm@tempcnt=\\count180\n\\Gm@bindingoffset=\\dimen136\n\\Gm@wd@mp=\\dimen137\n\\Gm@odd@mp=\\dimen138\n\\Gm@even@mp=\\dimen139\n\\Gm@layoutwidth=\\dimen140\n\\Gm@layoutheight=\\dimen141\n\\Gm@layouthoffset=\\dimen142\n\\Gm@layoutvoffset=\\dimen143\n\\Gm@dimlist=\\toks18\n)\n(/usr/share/texmf-dist/tex/latex/graphics/graphicx.sty\nPackage: graphicx 2019/11/30 v1.2a Enhanced LaTeX Graphics (DPC,SPQR)\n\n(/usr/share/texmf-dist/tex/latex/graphics/graphics.sty\nPackage: graphics 2019/11/30 v1.4a Standard LaTeX Graphics (DPC,SPQR)\n\n(/usr/share/texmf-dist/tex/latex/graphics/trig.sty\nPackage: trig 2016/01/03 v1.10 sin cos tan (DPC)\n)\n(/usr/share/texmf-dist/tex/latex/graphics-cfg/graphics.cfg\nFile: graphics.cfg 2016/06/04 v1.11 sample graphics configuration\n)\nPackage graphics Info: Driver file: pdftex.def on input line 105.\n\n(/usr/share/texmf-dist/tex/latex/graphics-def/pdftex.def\nFile: pdftex.def 2018/01/08 v1.0l Graphics/color driver for pdftex\n))\n\\Gin@req@height=\\dimen144\n\\Gin@req@width=\\dimen145\n)\n(/usr/share/texmf-dist/tex/latex/subfig/subfig.sty\nPackage: subfig 2005/06/28 ver: 1.3 subfig package\n\n(/usr/share/texmf-dist/tex/latex/caption/caption.sty\nPackage: caption 2020/05/10 v3.4j Customizing captions (AR)\n\n(/usr/share/texmf-dist/tex/latex/caption/caption3.sty\nPackage: caption3 2020/05/10 v1.11 caption3 kernel (AR)\nPackage caption3 Info: TeX engine: e-TeX on input line 61.\n\\captionmargin=\\dimen146\n\\captionmargin@=\\dimen147\n\\captionwidth=\\dimen148\n\\caption@tempdima=\\dimen149\n\\caption@indent=\\dimen150\n\\caption@parindent=\\dimen151\n\\caption@hangindent=\\dimen152\nPackage caption Info: Standard document class detected.\n)\n\\c@caption@flags=\\count181\n\\c@continuedfloat=\\count182\n)\n\\c@KVtest=\\count183\n\\sf@farskip=\\skip49\n\\sf@captopadj=\\dimen153\n\\sf@capskip=\\skip50\n\\sf@nearskip=\\skip51\n\\c@subfigure=\\count184\n\\c@subfigure@save=\\count185\n\\c@lofdepth=\\count186\n\\c@subtable=\\count187\n\\c@subtable@save=\\count188\n\\c@lotdepth=\\count189\n\\sf@top=\\skip52\n\\sf@bottom=\\skip53\n)\n(/usr/share/texmf-dist/tex/latex/graphics/color.sty\nPackage: color 2019/11/23 v1.2a Standard LaTeX Color (DPC)\n\n(/usr/share/texmf-dist/tex/latex/graphics-cfg/color.cfg\nFile: color.cfg 2016/01/02 v1.6 sample color configuration\n)\nPackage color Info: Driver file: pdftex.def on input line 147.\n)\n(/usr/share/texmf-dist/tex/latex/listings/listings.sty\n\\lst@mode=\\count190\n\\lst@gtempboxa=\\box45\n\\lst@token=\\toks19\n\\lst@length=\\count191\n\\lst@currlwidth=\\dimen154\n\\lst@column=\\count192\n\\lst@pos=\\count193\n\\lst@lostspace=\\dimen155\n\\lst@width=\\dimen156\n\\lst@newlines=\\count194\n\\lst@lineno=\\count195\n\\lst@maxwidth=\\dimen157\n\n(/usr/share/texmf-dist/tex/latex/listings/lstmisc.sty\nFile: lstmisc.sty 2020/03/24 1.8d (Carsten Heinz)\n\\c@lstnumber=\\count196\n\\lst@skipnumbers=\\count197\n\\lst@framebox=\\box46\n)\n(/usr/share/texmf-dist/tex/latex/listings/listings.cfg\nFile: listings.cfg 2020/03/24 1.8d listings configuration\n))\nPackage: listings 2020/03/24 1.8d (Carsten Heinz)\n\n(/usr/share/texmf-dist/tex/latex/xcolor/xcolor.sty\nPackage: xcolor 2016/05/11 v2.12 LaTeX color extensions (UK)\n\n(/usr/share/texmf-dist/tex/latex/graphics-cfg/color.cfg\nFile: color.cfg 2016/01/02 v1.6 sample color configuration\n)\nPackage xcolor Info: Driver file: pdftex.def on input line 225.\nLaTeX Info: Redefining \\color on input line 709.\nPackage xcolor Info: Model `cmy' substituted by `cmy0' on input line 1348.\nPackage xcolor Info: Model `hsb' substituted by `rgb' on input line 1352.\nPackage xcolor Info: Model `RGB' extended on input line 1364.\nPackage xcolor Info: Model `HTML' substituted by `rgb' on input line 1366.\nPackage xcolor Info: Model `Hsb' substituted by `hsb' on input line 1367.\nPackage xcolor Info: Model `tHsb' substituted by `hsb' on input line 1368.\nPackage xcolor Info: Model `HSB' substituted by `hsb' on input line 1369.\nPackage xcolor Info: Model `Gray' substituted by `gray' on input line 1370.\nPackage xcolor Info: Model `wave' substituted by `hsb' on input line 1371.\n)\n(/usr/share/texmf-dist/tex/latex/listings/lstlang1.sty\nFile: lstlang1.sty 2020/03/24 1.8d listings language file\n)\n(/usr/share/texmf-dist/tex/latex/listings/lstlang1.sty\nFile: lstlang1.sty 2020/03/24 1.8d listings language file\n)\n(/usr/share/texmf-dist/tex/latex/listings/lstmisc.sty\nFile: lstmisc.sty 2020/03/24 1.8d (Carsten Heinz)\n)\n(/usr/share/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def\nFile: l3backend-pdfmode.def 2020-06-03 L3 backend support: PDF mode\n\\l__kernel_color_stack_int=\\count198\n\\l__pdf_internal_box=\\box47\n)\n(./JustRecipe Doc.aux)\nLaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\nLaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\nLaTeX Font Info:    Checking defaults for OT1/cmr/m/n on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\nLaTeX Font Info:    Checking defaults for T1/cmr/m/n on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\nLaTeX Font Info:    Checking defaults for TS1/cmr/m/n on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\nLaTeX Font Info:    Checking defaults for OMX/cmex/m/n on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\nLaTeX Font Info:    Checking defaults for U/cmr/m/n on input line 73.\nLaTeX Font Info:    ... okay on input line 73.\n\n*geometry* driver: auto-detecting\n*geometry* detected driver: pdftex\n*geometry* verbose mode - [ preamble ] result:\n* driver: pdftex\n* paper: a4paper\n* layout: <same size as paper>\n* layoutoffset:(h,v)=(0.0pt,0.0pt)\n* modes: \n* h-part:(L,W,R)=(89.62709pt, 418.25368pt, 89.6271pt)\n* v-part:(T,H,B)=(101.40665pt, 591.5302pt, 152.11pt)\n* \\paperwidth=597.50787pt\n* \\paperheight=845.04684pt\n* \\textwidth=418.25368pt\n* \\textheight=591.5302pt\n* \\oddsidemargin=17.3571pt\n* \\evensidemargin=17.3571pt\n* \\topmargin=-7.86334pt\n* \\headheight=12.0pt\n* \\headsep=25.0pt\n* \\topskip=10.0pt\n* \\footskip=30.0pt\n* \\marginparwidth=57.0pt\n* \\marginparsep=11.0pt\n* \\columnsep=10.0pt\n* \\skip\\footins=9.0pt plus 4.0pt minus 2.0pt\n* \\hoffset=0.0pt\n* \\voffset=0.0pt\n* \\mag=1000\n* \\@twocolumnfalse\n* \\@twosidefalse\n* \\@mparswitchfalse\n* \\@reversemarginfalse\n* (1in=72.27pt=25.4mm, 1cm=28.453pt)\n\n(/usr/share/texmf-dist/tex/context/base/mkii/supp-pdf.mkii\n[Loading MPS to PDF converter (version 2006.09.02).]\n\\scratchcounter=\\count199\n\\scratchdimen=\\dimen158\n\\scratchbox=\\box48\n\\nofMPsegments=\\count266\n\\nofMParguments=\\count267\n\\everyMPshowfont=\\toks20\n\\MPscratchCnt=\\count268\n\\MPscratchDim=\\dimen159\n\\MPnumerator=\\count269\n\\makeMPintoPDFobject=\\count270\n\\everyMPtoPDFconversion=\\toks21\n) (/usr/share/texmf-dist/tex/latex/epstopdf-pkg/epstopdf-base.sty\nPackage: epstopdf-base 2020-01-24 v2.11 Base part for package epstopdf\nPackage epstopdf-base Info: Redefining graphics rule for `.eps' on input line 4\n85.\n\n(/usr/share/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg\nFile: epstopdf-sys.cfg 2010/07/13 v1.3 Configuration of (r)epstopdf for TeX Liv\ne\n))\nPackage caption Info: Begin \\AtBeginDocument code.\nPackage caption Info: subfig package v1.3 is loaded.\nPackage caption Info: listings package is loaded.\nPackage caption Info: End \\AtBeginDocument code.\n\\c@lstlisting=\\count271\n<img/unipi.png, id=1, 1204.5pt x 1229.59375pt>\nFile: img/unipi.png Graphic file (type png)\n<use img/unipi.png>\nPackage pdftex.def Info: img/unipi.png  used on input line 78.\n(pdftex.def)             Requested size: 188.21288pt x 192.12355pt.\n [1\n\n{/var/lib/texmf/fonts/map/pdftex/updmap/pdftex.map} <./img/unipi.png>] (./JustR\necipe Doc.toc\nLaTeX Font Info:    External font `cmex10' loaded for size\n(Font)              <7> on input line 4.\nLaTeX Font Info:    External font `cmex10' loaded for size\n(Font)              <5> on input line 4.\n)\n\\tf@toc=\\write3\n [1\n\n] [2\n\n]\nChapter 1.\n[3\n\n]\nChapter 2.\n[4\n\n] [5]\n<img/UseCaseDiagram.png, id=35, 1138.2525pt x 1116.17pt>\nFile: img/UseCaseDiagram.png Graphic file (type png)\n<use img/UseCaseDiagram.png>\nPackage pdftex.def Info: img/UseCaseDiagram.png  used on input line 239.\n(pdftex.def)             Requested size: 478.0628pt x 468.78821pt.\n\nOverfull \\hbox (59.80913pt too wide) in paragraph at lines 239--240\n [][] \n []\n\n<img/ClassDiagram_generaliz.png, id=36, 734.745pt x 421.575pt>\nFile: img/ClassDiagram_generaliz.png Graphic file (type png)\n<use img/ClassDiagram_generaliz.png>\nPackage pdftex.def Info: img/ClassDiagram_generaliz.png  used on input line 265\n.\n(pdftex.def)             Requested size: 367.3716pt x 210.78697pt.\n<img/ClassDiagram.png, id=37, 667.49374pt x 421.575pt>\nFile: img/ClassDiagram.png Graphic file (type png)\n<use img/ClassDiagram.png>\nPackage pdftex.def Info: img/ClassDiagram.png  used on input line 273.\n(pdftex.def)             Requested size: 333.74606pt x 210.78697pt.\n[6] [7 <./img/UseCaseDiagram.png>] [8 <./img/ClassDiagram_generaliz.png> <./img\n/ClassDiagram.png>]\nLaTeX Font Info:    Trying to load font information for T1+cmtt on input line 2\n81.\n (/usr/share/texmf-dist/tex/latex/base/t1cmtt.fd\nFile: t1cmtt.fd 2019/12/16 v2.5j Standard LaTeX font definitions\n) [9]\n[10]\nChapter 3.\n[11\n\n] (/usr/share/texmf-dist/tex/latex/listings/lstlang1.sty\nFile: lstlang1.sty 2020/03/24 1.8d listings language file\n) [12] [13] [14]\n[15] [16] [17] [18]\nChapter 4.\n[19\n\n] (./JustRecipe Doc.aux) ) \nHere is how much of TeX's memory you used:\n 6511 strings out of 480478\n 92849 string characters out of 5905958\n 632904 words of memory out of 5000000\n 22482 multiletter control sequences out of 15000+600000\n 544390 words of font info for 41 fonts, out of 8000000 for 9000\n 1141 hyphenation exceptions out of 8191\n 47i,7n,60p,608b,1718s stack positions out of 5000i,500n,10000p,200000b,80000s\n{/usr/share/texmf-dist/fonts/enc/dvips/cm-super/cm-su\nper-t1.enc}{/usr/share/texmf-dist/fonts/enc/dvips/cm-super/cm-super-ts1.enc}</u\nsr/share/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi10.pfb></usr/share/texmf\n-dist/fonts/type1/public/amsfonts/cm/cmsy10.pfb></usr/share/texmf-dist/fonts/ty\npe1/public/cm-super/sfbx1000.pfb></usr/share/texmf-dist/fonts/type1/public/cm-s\nuper/sfbx1200.pfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfbx1440.p\nfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfbx1728.pfb></usr/share/\ntexmf-dist/fonts/type1/public/cm-super/sfbx2074.pfb></usr/share/texmf-dist/font\ns/type1/public/cm-super/sfbx2488.pfb></usr/share/texmf-dist/fonts/type1/public/\ncm-super/sfrm0700.pfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfrm10\n00.pfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfrm1200.pfb></usr/sh\nare/texmf-dist/fonts/type1/public/cm-super/sfti1000.pfb></usr/share/texmf-dist/\nfonts/type1/public/cm-super/sfti1728.pfb></usr/share/texmf-dist/fonts/type1/pub\nlic/cm-super/sftt1000.pfb>\nOutput written on \"JustRecipe Doc.pdf\" (20 pages, 669364 bytes).\nPDF statistics:\n 138 PDF objects out of 1000 (max. 8388607)\n 93 compressed objects within 1 object stream\n 0 named destinations out of 1000 (max. 500000)\n 21 words of extra memory for PDF output out of 10000 (max. 10000000)\n\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../Documents/Doc LaTex/JustRecipe Doc.log b/../Documents/Doc LaTex/JustRecipe Doc.log
--- a/../Documents/Doc LaTex/JustRecipe Doc.log	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ b/../Documents/Doc LaTex/JustRecipe Doc.log	(date 1609067369542)
@@ -1,76 +1,80 @@
-This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020/Arch Linux) (preloaded format=pdflatex 2020.12.23)  23 DEC 2020 18:47
+This is pdfTeX, Version 3.14159265-2.6-1.40.21 (TeX Live 2020/Debian) (preloaded format=pdflatex 2020.12.26)  27 DEC 2020 12:09
 entering extended mode
  restricted \write18 enabled.
  %&-line parsing enabled.
 **"JustRecipe Doc.tex"
 (./JustRecipe Doc.tex
 LaTeX2e <2020-02-02> patch level 5
-L3 programming layer <2020-06-03>
-(/usr/share/texmf-dist/tex/latex/base/report.cls
+L3 programming layer <2020-07-17>
+(/usr/share/texlive/texmf-dist/tex/latex/base/report.cls
 Document Class: report 2019/12/20 v1.4l Standard LaTeX document class
-(/usr/share/texmf-dist/tex/latex/base/size10.clo
+(/usr/share/texlive/texmf-dist/tex/latex/base/size10.clo
 File: size10.clo 2019/12/20 v1.4l Standard LaTeX file (size option)
 )
-\c@part=\count167
-\c@chapter=\count168
-\c@section=\count169
-\c@subsection=\count170
-\c@subsubsection=\count171
-\c@paragraph=\count172
-\c@subparagraph=\count173
-\c@figure=\count174
-\c@table=\count175
+\c@part=\count168
+\c@chapter=\count169
+\c@section=\count170
+\c@subsection=\count171
+\c@subsubsection=\count172
+\c@paragraph=\count173
+\c@subparagraph=\count174
+\c@figure=\count175
+\c@table=\count176
 \abovecaptionskip=\skip47
 \belowcaptionskip=\skip48
 \bibindent=\dimen134
 )
-(/usr/share/texmf-dist/tex/latex/base/fontenc.sty
+(/usr/share/texlive/texmf-dist/tex/latex/base/fontenc.sty
 Package: fontenc 2020/02/11 v2.0o Standard LaTeX package
 )
-(/usr/share/texmf-dist/tex/latex/base/inputenc.sty
+(/usr/share/texlive/texmf-dist/tex/latex/base/inputenc.sty
 Package: inputenc 2018/08/11 v1.3c Input encoding file
 \inpenc@prehook=\toks15
 \inpenc@posthook=\toks16
 )
-(/usr/share/texmf-dist/tex/generic/babel/babel.sty
-Package: babel 2020/05/13 3.44 The Babel package
+(/usr/share/texlive/texmf-dist/tex/generic/babel/babel.sty
+Package: babel 2020/07/13 3.47 The Babel package
 
-(/usr/share/texmf-dist/tex/generic/babel/babel.def
-File: babel.def 2020/05/13 3.44 Babel common definitions
-\babel@savecnt=\count176
+(/usr/share/texlive/texmf-dist/tex/generic/babel/babel.def
+File: babel.def 2020/07/13 3.47 Babel common definitions
+\babel@savecnt=\count177
 \U@D=\dimen135
-\l@babelnohyphens=\language86
+\l@babelnohyphens=\language3
 
-(/usr/share/texmf-dist/tex/generic/babel/txtbabel.def)
+(/usr/share/texlive/texmf-dist/tex/generic/babel/txtbabel.def)
 \bbl@readstream=\read2
 )
-\bbl@dirlevel=\count177
+\bbl@dirlevel=\count178
 
-(/usr/share/texmf-dist/tex/generic/babel-english/english.ldf
+(/usr/share/texlive/texmf-dist/tex/generic/babel-english/english.ldf
 Language: english 2017/06/06 v3.3r English support from the babel system
+Package babel Info: \l@british = using hyphenrules for english
+(babel)             (\language0) on input line 82.
+Package babel Info: \l@UKenglish = using hyphenrules for english
+(babel)             (\language0) on input line 83.
 Package babel Info: \l@canadian = using hyphenrules for english
 (babel)             (\language0) on input line 102.
-Package babel Info: \l@australian = using hyphenrules for ukenglish
-(babel)             (\language21) on input line 105.
-Package babel Info: \l@newzealand = using hyphenrules for ukenglish
-(babel)             (\language21) on input line 108.
+Package babel Info: \l@australian = using hyphenrules for english
+(babel)             (\language0) on input line 105.
+Package babel Info: \l@newzealand = using hyphenrules for english
+(babel)             (\language0) on input line 108.
 ))
-(/usr/share/texmf-dist/tex/latex/geometry/geometry.sty
+(/usr/share/texlive/texmf-dist/tex/latex/geometry/geometry.sty
 Package: geometry 2020/01/02 v5.9 Page Geometry
 
-(/usr/share/texmf-dist/tex/latex/graphics/keyval.sty
+(/usr/share/texlive/texmf-dist/tex/latex/graphics/keyval.sty
 Package: keyval 2014/10/28 v1.15 key=value parser (DPC)
 \KV@toks@=\toks17
 )
-(/usr/share/texmf-dist/tex/generic/iftex/ifvtex.sty
+(/usr/share/texlive/texmf-dist/tex/generic/iftex/ifvtex.sty
 Package: ifvtex 2019/10/25 v1.7 ifvtex legacy package. Use iftex instead.
 
-(/usr/share/texmf-dist/tex/generic/iftex/iftex.sty
+(/usr/share/texlive/texmf-dist/tex/generic/iftex/iftex.sty
 Package: iftex 2020/03/06 v1.0d TeX engine tests
 ))
-\Gm@cnth=\count178
-\Gm@cntv=\count179
-\c@Gm@tempcnt=\count180
+\Gm@cnth=\count179
+\Gm@cntv=\count180
+\c@Gm@tempcnt=\count181
 \Gm@bindingoffset=\dimen136
 \Gm@wd@mp=\dimen137
 \Gm@odd@mp=\dimen138
@@ -81,34 +85,34 @@
 \Gm@layoutvoffset=\dimen143
 \Gm@dimlist=\toks18
 )
-(/usr/share/texmf-dist/tex/latex/graphics/graphicx.sty
+(/usr/share/texlive/texmf-dist/tex/latex/graphics/graphicx.sty
 Package: graphicx 2019/11/30 v1.2a Enhanced LaTeX Graphics (DPC,SPQR)
 
-(/usr/share/texmf-dist/tex/latex/graphics/graphics.sty
+(/usr/share/texlive/texmf-dist/tex/latex/graphics/graphics.sty
 Package: graphics 2019/11/30 v1.4a Standard LaTeX Graphics (DPC,SPQR)
 
-(/usr/share/texmf-dist/tex/latex/graphics/trig.sty
+(/usr/share/texlive/texmf-dist/tex/latex/graphics/trig.sty
 Package: trig 2016/01/03 v1.10 sin cos tan (DPC)
 )
-(/usr/share/texmf-dist/tex/latex/graphics-cfg/graphics.cfg
+(/usr/share/texlive/texmf-dist/tex/latex/graphics-cfg/graphics.cfg
 File: graphics.cfg 2016/06/04 v1.11 sample graphics configuration
 )
 Package graphics Info: Driver file: pdftex.def on input line 105.
 
-(/usr/share/texmf-dist/tex/latex/graphics-def/pdftex.def
+(/usr/share/texlive/texmf-dist/tex/latex/graphics-def/pdftex.def
 File: pdftex.def 2018/01/08 v1.0l Graphics/color driver for pdftex
 ))
 \Gin@req@height=\dimen144
 \Gin@req@width=\dimen145
 )
-(/usr/share/texmf-dist/tex/latex/subfig/subfig.sty
+(/usr/share/texlive/texmf-dist/tex/latex/subfig/subfig.sty
 Package: subfig 2005/06/28 ver: 1.3 subfig package
 
-(/usr/share/texmf-dist/tex/latex/caption/caption.sty
-Package: caption 2020/05/10 v3.4j Customizing captions (AR)
+(/usr/share/texlive/texmf-dist/tex/latex/caption/caption.sty
+Package: caption 2020/05/30 v3.4k Customizing captions (AR)
 
-(/usr/share/texmf-dist/tex/latex/caption/caption3.sty
-Package: caption3 2020/05/10 v1.11 caption3 kernel (AR)
+(/usr/share/texlive/texmf-dist/tex/latex/caption/caption3.sty
+Package: caption3 2020/07/20 v1.12b caption3 kernel (AR)
 Package caption3 Info: TeX engine: e-TeX on input line 61.
 \captionmargin=\dimen146
 \captionmargin@=\dimen147
@@ -119,60 +123,82 @@
 \caption@hangindent=\dimen152
 Package caption Info: Standard document class detected.
 )
-\c@caption@flags=\count181
-\c@continuedfloat=\count182
+\c@caption@flags=\count182
+\c@continuedfloat=\count183
 )
-\c@KVtest=\count183
+\c@KVtest=\count184
 \sf@farskip=\skip49
 \sf@captopadj=\dimen153
 \sf@capskip=\skip50
 \sf@nearskip=\skip51
-\c@subfigure=\count184
-\c@subfigure@save=\count185
-\c@lofdepth=\count186
-\c@subtable=\count187
-\c@subtable@save=\count188
-\c@lotdepth=\count189
+\c@subfigure=\count185
+\c@subfigure@save=\count186
+\c@lofdepth=\count187
+\c@subtable=\count188
+\c@subtable@save=\count189
+\c@lotdepth=\count190
 \sf@top=\skip52
 \sf@bottom=\skip53
 )
-(/usr/share/texmf-dist/tex/latex/graphics/color.sty
+(/usr/share/texlive/texmf-dist/tex/latex/lipsum/lipsum.sty
+(/usr/share/texlive/texmf-dist/tex/latex/l3kernel/expl3.sty
+Package: expl3 2020-07-17 L3 programming layer (loader) 
+
+(/usr/share/texlive/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def
+File: l3backend-pdfmode.def 2020-06-29 L3 backend support: PDF mode
+\l__kernel_color_stack_int=\count191
+\l__pdf_internal_box=\box45
+))
+(/usr/share/texlive/texmf-dist/tex/latex/l3packages/xparse/xparse.sty
+Package: xparse 2020-05-15 L3 Experimental document command parser
+
+(/usr/share/texlive/texmf-dist/tex/latex/l3packages/xparse/xparse-generic.tex
+\l__xparse_current_arg_int=\count192
+\g__xparse_grabber_int=\count193
+\l__xparse_m_args_int=\count194
+\l__xparse_v_nesting_int=\count195
+))
+Package: lipsum 2019/01/02 v2.2 150 paragraphs of Lorem Ipsum dummy text
+(/usr/share/texlive/texmf-dist/tex/latex/lipsum/lipsum.ltd.tex
+File: lipsum.ltd.tex 2019/01/02 v2.2 The Lorem ipsum dummy text
+))
+(/usr/share/texlive/texmf-dist/tex/latex/graphics/color.sty
 Package: color 2019/11/23 v1.2a Standard LaTeX Color (DPC)
 
-(/usr/share/texmf-dist/tex/latex/graphics-cfg/color.cfg
+(/usr/share/texlive/texmf-dist/tex/latex/graphics-cfg/color.cfg
 File: color.cfg 2016/01/02 v1.6 sample color configuration
 )
 Package color Info: Driver file: pdftex.def on input line 147.
 )
-(/usr/share/texmf-dist/tex/latex/listings/listings.sty
-\lst@mode=\count190
-\lst@gtempboxa=\box45
+(/usr/share/texlive/texmf-dist/tex/latex/listings/listings.sty
+\lst@mode=\count196
+\lst@gtempboxa=\box46
 \lst@token=\toks19
-\lst@length=\count191
+\lst@length=\count197
 \lst@currlwidth=\dimen154
-\lst@column=\count192
-\lst@pos=\count193
+\lst@column=\count198
+\lst@pos=\count199
 \lst@lostspace=\dimen155
 \lst@width=\dimen156
-\lst@newlines=\count194
-\lst@lineno=\count195
+\lst@newlines=\count266
+\lst@lineno=\count267
 \lst@maxwidth=\dimen157
 
-(/usr/share/texmf-dist/tex/latex/listings/lstmisc.sty
+(/usr/share/texlive/texmf-dist/tex/latex/listings/lstmisc.sty
 File: lstmisc.sty 2020/03/24 1.8d (Carsten Heinz)
-\c@lstnumber=\count196
-\lst@skipnumbers=\count197
-\lst@framebox=\box46
+\c@lstnumber=\count268
+\lst@skipnumbers=\count269
+\lst@framebox=\box47
 )
-(/usr/share/texmf-dist/tex/latex/listings/listings.cfg
+(/usr/share/texlive/texmf-dist/tex/latex/listings/listings.cfg
 File: listings.cfg 2020/03/24 1.8d listings configuration
 ))
 Package: listings 2020/03/24 1.8d (Carsten Heinz)
 
-(/usr/share/texmf-dist/tex/latex/xcolor/xcolor.sty
+(/usr/share/texlive/texmf-dist/tex/latex/xcolor/xcolor.sty
 Package: xcolor 2016/05/11 v2.12 LaTeX color extensions (UK)
 
-(/usr/share/texmf-dist/tex/latex/graphics-cfg/color.cfg
+(/usr/share/texlive/texmf-dist/tex/latex/graphics-cfg/color.cfg
 File: color.cfg 2016/01/02 v1.6 sample color configuration
 )
 Package xcolor Info: Driver file: pdftex.def on input line 225.
@@ -187,21 +213,18 @@
 Package xcolor Info: Model `Gray' substituted by `gray' on input line 1370.
 Package xcolor Info: Model `wave' substituted by `hsb' on input line 1371.
 )
-(/usr/share/texmf-dist/tex/latex/listings/lstlang1.sty
+(/usr/share/texlive/texmf-dist/tex/latex/listings/lstlang1.sty
 File: lstlang1.sty 2020/03/24 1.8d listings language file
 )
-(/usr/share/texmf-dist/tex/latex/listings/lstlang1.sty
+(/usr/share/texlive/texmf-dist/tex/latex/listings/lstlang1.sty
 File: lstlang1.sty 2020/03/24 1.8d listings language file
 )
-(/usr/share/texmf-dist/tex/latex/listings/lstmisc.sty
+(/usr/share/texlive/texmf-dist/tex/latex/listings/lstmisc.sty
 File: lstmisc.sty 2020/03/24 1.8d (Carsten Heinz)
 )
-(/usr/share/texmf-dist/tex/latex/l3backend/l3backend-pdfmode.def
-File: l3backend-pdfmode.def 2020-06-03 L3 backend support: PDF mode
-\l__kernel_color_stack_int=\count198
-\l__pdf_internal_box=\box47
-)
 (./JustRecipe Doc.aux)
+\openout1 = `"JustRecipe Doc.aux"'.
+
 LaTeX Font Info:    Checking defaults for OML/cmm/m/it on input line 73.
 LaTeX Font Info:    ... okay on input line 73.
 LaTeX Font Info:    Checking defaults for OMS/cmsy/m/n on input line 73.
@@ -224,16 +247,17 @@
 * paper: a4paper
 * layout: <same size as paper>
 * layoutoffset:(h,v)=(0.0pt,0.0pt)
-* modes: 
-* h-part:(L,W,R)=(89.62709pt, 418.25368pt, 89.6271pt)
-* v-part:(T,H,B)=(101.40665pt, 591.5302pt, 152.11pt)
+* bindingoffset: 14.22636pt
+* modes: heightrounded 
+* h-part:(L,W,R)=(85.35826pt, 412.56499pt, 85.35826pt)
+* v-part:(T,H,B)=(71.13188pt, 702.78308pt, 71.13188pt)
 * \paperwidth=597.50787pt
 * \paperheight=845.04684pt
-* \textwidth=418.25368pt
-* \textheight=591.5302pt
-* \oddsidemargin=17.3571pt
-* \evensidemargin=17.3571pt
-* \topmargin=-7.86334pt
+* \textwidth=412.56499pt
+* \textheight=706.0pt
+* \oddsidemargin=27.31464pt
+* \evensidemargin=13.08827pt
+* \topmargin=-38.1381pt
 * \headheight=12.0pt
 * \headsep=25.0pt
 * \topskip=10.0pt
@@ -251,25 +275,25 @@
 * \@reversemarginfalse
 * (1in=72.27pt=25.4mm, 1cm=28.453pt)
 
-(/usr/share/texmf-dist/tex/context/base/mkii/supp-pdf.mkii
+(/usr/share/texlive/texmf-dist/tex/context/base/mkii/supp-pdf.mkii
 [Loading MPS to PDF converter (version 2006.09.02).]
-\scratchcounter=\count199
+\scratchcounter=\count270
 \scratchdimen=\dimen158
 \scratchbox=\box48
-\nofMPsegments=\count266
-\nofMParguments=\count267
+\nofMPsegments=\count271
+\nofMParguments=\count272
 \everyMPshowfont=\toks20
-\MPscratchCnt=\count268
+\MPscratchCnt=\count273
 \MPscratchDim=\dimen159
-\MPnumerator=\count269
-\makeMPintoPDFobject=\count270
+\MPnumerator=\count274
+\makeMPintoPDFobject=\count275
 \everyMPtoPDFconversion=\toks21
-) (/usr/share/texmf-dist/tex/latex/epstopdf-pkg/epstopdf-base.sty
+) (/usr/share/texlive/texmf-dist/tex/latex/epstopdf-pkg/epstopdf-base.sty
 Package: epstopdf-base 2020-01-24 v2.11 Base part for package epstopdf
 Package epstopdf-base Info: Redefining graphics rule for `.eps' on input line 4
 85.
 
-(/usr/share/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg
+(/usr/share/texlive/texmf-dist/tex/latex/latexconfig/epstopdf-sys.cfg
 File: epstopdf-sys.cfg 2010/07/13 v1.3 Configuration of (r)epstopdf for TeX Liv
 e
 ))
@@ -277,22 +301,25 @@
 Package caption Info: subfig package v1.3 is loaded.
 Package caption Info: listings package is loaded.
 Package caption Info: End \AtBeginDocument code.
-\c@lstlisting=\count271
+\c@lstlisting=\count276
 <img/unipi.png, id=1, 1204.5pt x 1229.59375pt>
 File: img/unipi.png Graphic file (type png)
 <use img/unipi.png>
 Package pdftex.def Info: img/unipi.png  used on input line 78.
-(pdftex.def)             Requested size: 188.21288pt x 192.12355pt.
- [1
+(pdftex.def)             Requested size: 185.65298pt x 189.51563pt.
+
+[1
 
-{/var/lib/texmf/fonts/map/pdftex/updmap/pdftex.map} <./img/unipi.png>] (./JustR
-ecipe Doc.toc
+{/var/lib/texmf/fonts/map/pdftex/updmap/pdftex.map} <./img/unipi.png>]
+(./JustRecipe Doc.toc
 LaTeX Font Info:    External font `cmex10' loaded for size
 (Font)              <7> on input line 4.
 LaTeX Font Info:    External font `cmex10' loaded for size
 (Font)              <5> on input line 4.
 )
 \tf@toc=\write3
+\openout3 = `"JustRecipe Doc.toc"'.
+
  [1
 
 ] [2
@@ -305,73 +332,76 @@
 Chapter 2.
 [4
 
-] [5]
-<img/UseCaseDiagram.png, id=35, 1138.2525pt x 1116.17pt>
+]
+<img/UseCaseDiagram.png, id=32, 1138.2525pt x 1116.17pt>
 File: img/UseCaseDiagram.png Graphic file (type png)
 <use img/UseCaseDiagram.png>
 Package pdftex.def Info: img/UseCaseDiagram.png  used on input line 239.
 (pdftex.def)             Requested size: 478.0628pt x 468.78821pt.
 
-Overfull \hbox (59.80913pt too wide) in paragraph at lines 239--240
+Overfull \hbox (65.49782pt too wide) in paragraph at lines 239--240
  [][] 
  []
 
-<img/ClassDiagram_generaliz.png, id=36, 734.745pt x 421.575pt>
+[5] [6 <./img/UseCaseDiagram.png>]
+<img/ClassDiagram_generaliz.png, id=41, 734.745pt x 421.575pt>
 File: img/ClassDiagram_generaliz.png Graphic file (type png)
 <use img/ClassDiagram_generaliz.png>
 Package pdftex.def Info: img/ClassDiagram_generaliz.png  used on input line 265
 .
 (pdftex.def)             Requested size: 367.3716pt x 210.78697pt.
-<img/ClassDiagram.png, id=37, 667.49374pt x 421.575pt>
+<img/ClassDiagram.png, id=42, 667.49374pt x 421.575pt>
 File: img/ClassDiagram.png Graphic file (type png)
 <use img/ClassDiagram.png>
 Package pdftex.def Info: img/ClassDiagram.png  used on input line 273.
 (pdftex.def)             Requested size: 333.74606pt x 210.78697pt.
-[6] [7 <./img/UseCaseDiagram.png>] [8 <./img/ClassDiagram_generaliz.png> <./img
-/ClassDiagram.png>]
+ [7 <./img/ClassDiagram_generaliz.png> <./img/ClassDiagram.png>]
 LaTeX Font Info:    Trying to load font information for T1+cmtt on input line 2
 81.
- (/usr/share/texmf-dist/tex/latex/base/t1cmtt.fd
+ (/usr/share/texlive/texmf-dist/tex/latex/base/t1cmtt.fd
 File: t1cmtt.fd 2019/12/16 v2.5j Standard LaTeX font definitions
-) [9]
-[10]
+)
+[8] [9]
 Chapter 3.
-[11
+[10
 
-] (/usr/share/texmf-dist/tex/latex/listings/lstlang1.sty
+] (/usr/share/texlive/texmf-dist/tex/latex/listings/lstlang1.sty
 File: lstlang1.sty 2020/03/24 1.8d listings language file
-) [12] [13] [14]
-[15] [16] [17] [18]
+) [11]
+[12] [13] [14] [15] [16] [17]
 Chapter 4.
-[19
+[18
 
 ] (./JustRecipe Doc.aux) ) 
 Here is how much of TeX's memory you used:
- 6511 strings out of 480478
- 92849 string characters out of 5905958
- 632904 words of memory out of 5000000
- 22482 multiletter control sequences out of 15000+600000
- 544390 words of font info for 41 fonts, out of 8000000 for 9000
- 1141 hyphenation exceptions out of 8191
+ 7119 strings out of 482854
+ 110335 string characters out of 5956880
+ 770580 words of memory out of 5000000
+ 22393 multiletter control sequences out of 15000+600000
+ 547140 words of font info for 46 fonts, out of 8000000 for 9000
+ 14 hyphenation exceptions out of 8191
  47i,7n,60p,608b,1718s stack positions out of 5000i,500n,10000p,200000b,80000s
-{/usr/share/texmf-dist/fonts/enc/dvips/cm-super/cm-su
-per-t1.enc}{/usr/share/texmf-dist/fonts/enc/dvips/cm-super/cm-super-ts1.enc}</u
-sr/share/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi10.pfb></usr/share/texmf
--dist/fonts/type1/public/amsfonts/cm/cmsy10.pfb></usr/share/texmf-dist/fonts/ty
-pe1/public/cm-super/sfbx1000.pfb></usr/share/texmf-dist/fonts/type1/public/cm-s
-uper/sfbx1200.pfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfbx1440.p
-fb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfbx1728.pfb></usr/share/
-texmf-dist/fonts/type1/public/cm-super/sfbx2074.pfb></usr/share/texmf-dist/font
-s/type1/public/cm-super/sfbx2488.pfb></usr/share/texmf-dist/fonts/type1/public/
-cm-super/sfrm0700.pfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfrm10
-00.pfb></usr/share/texmf-dist/fonts/type1/public/cm-super/sfrm1200.pfb></usr/sh
-are/texmf-dist/fonts/type1/public/cm-super/sfti1000.pfb></usr/share/texmf-dist/
-fonts/type1/public/cm-super/sfti1728.pfb></usr/share/texmf-dist/fonts/type1/pub
-lic/cm-super/sftt1000.pfb>
-Output written on "JustRecipe Doc.pdf" (20 pages, 669364 bytes).
+ </home/francesco/.texlive2020/texmf-var/fonts/pk/ljf
+our/jknappen/ec/ectt1000.600pk> </home/francesco/.texlive2020/texmf-var/fonts/p
+k/ljfour/jknappen/ec/ecrm0700.600pk> </home/francesco/.texlive2020/texmf-var/fo
+nts/pk/ljfour/jknappen/ec/tcrm1000.600pk> </home/francesco/.texlive2020/texmf-v
+ar/fonts/pk/ljfour/jknappen/ec/ecbx1200.600pk> </home/francesco/.texlive2020/te
+xmf-var/fonts/pk/ljfour/jknappen/ec/ecbx1440.600pk> </home/francesco/.texlive20
+20/texmf-var/fonts/pk/ljfour/jknappen/ec/ecti1000.600pk> </home/francesco/.texl
+ive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecbx2074.600pk> </home/francesco/
+.texlive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecrm1000.600pk> </home/franc
+esco/.texlive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecbx1000.600pk> </home/
+francesco/.texlive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecbx2488.600pk> </
+home/francesco/.texlive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecrm1200.600p
+k> </home/francesco/.texlive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecti1728
+.600pk> </home/francesco/.texlive2020/texmf-var/fonts/pk/ljfour/jknappen/ec/ecb
+x1728.600pk></usr/share/texlive/texmf-dist/fonts/type1/public/amsfonts/cm/cmmi1
+0.pfb></usr/share/texlive/texmf-dist/fonts/type1/public/amsfonts/cm/cmsy10.pfb>
+
+Output written on "JustRecipe Doc.pdf" (19 pages, 571632 bytes).
 PDF statistics:
- 138 PDF objects out of 1000 (max. 8388607)
- 93 compressed objects within 1 object stream
+ 559 PDF objects out of 1000 (max. 8388607)
+ 103 compressed objects within 2 object streams
  0 named destinations out of 1000 (max. 500000)
  21 words of extra memory for PDF output out of 10000 (max. 10000000)
 
Index: ../Documents/Doc LaTex/JustRecipe Doc.toc
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\\babel@toc {english}{}\n\\contentsline {chapter}{\\numberline {1}Dataset}{3}%\n\\contentsline {chapter}{\\numberline {2}Design}{4}%\n\\contentsline {section}{\\numberline {2.1}Introduction To The Application}{4}%\n\\contentsline {section}{\\numberline {2.2}Requirements}{4}%\n\\contentsline {subsection}{\\numberline {2.2.1}Main Actors}{4}%\n\\contentsline {subsection}{\\numberline {2.2.2}Functional Requirements}{5}%\n\\contentsline {subsubsection}{Features offered to the Unregistered User}{5}%\n\\contentsline {subsubsection}{Features offered to the Registered User}{5}%\n\\contentsline {subsubsection}{Features offered to the Moderator}{6}%\n\\contentsline {subsubsection}{Features offered to the Administrator}{6}%\n\\contentsline {subsection}{\\numberline {2.2.3}Non-Functional Requirements}{6}%\n\\contentsline {subsection}{\\numberline {2.2.4}Actors and Use Cases}{6}%\n\\contentsline {section}{\\numberline {2.3}UML Class Diagram}{6}%\n\\contentsline {section}{\\numberline {2.4}Data Model}{9}%\n\\contentsline {subsection}{\\numberline {2.4.1}DocumentDB}{9}%\n\\contentsline {subsection}{\\numberline {2.4.2}GraphDB}{10}%\n\\contentsline {section}{\\numberline {2.5}Distributed Database Design}{10}%\n\\contentsline {subsection}{\\numberline {2.5.1}Replicas}{10}%\n\\contentsline {subsection}{\\numberline {2.5.2}Sharding}{10}%\n\\contentsline {section}{\\numberline {2.6}Software Architecture}{10}%\n\\contentsline {chapter}{\\numberline {3}Implementation and Test}{11}%\n\\contentsline {section}{\\numberline {3.1}Main Modules}{11}%\n\\contentsline {section}{\\numberline {3.2}Main Packages and Classes}{11}%\n\\contentsline {section}{\\numberline {3.3}Most Relevant Queries}{11}%\n\\contentsline {subsection}{\\numberline {3.3.1}MongoDB}{11}%\n\\contentsline {subsubsection}{Recipes of the user}{11}%\n\\contentsline {subsubsection}{Search for recipe title}{12}%\n\\contentsline {subsubsection}{Search for recipe category}{13}%\n\\contentsline {subsubsection}{Search for recipe ingredients}{14}%\n\\contentsline {subsubsection}{Most common recipe categories}{14}%\n\\contentsline {subsubsection}{Last Comments}{15}%\n\\contentsline {subsection}{\\numberline {3.3.2}Neo4J}{16}%\n\\contentsline {subsubsection}{Suggested Recipes}{16}%\n\\contentsline {subsubsection}{Recipes of following users}{16}%\n\\contentsline {subsubsection}{Most followed and active users}{17}%\n\\contentsline {subsubsection}{Top Commentators}{17}%\n\\contentsline {subsubsection}{Most liked users}{17}%\n\\contentsline {subsubsection}{Best Recipes}{17}%\n\\contentsline {subsubsection}{Search for username}{17}%\n\\contentsline {subsubsection}{Search for user's full-name}{17}%\n\\contentsline {section}{\\numberline {3.4}Unit Test}{18}%\n\\contentsline {section}{\\numberline {3.5}Tests and Statistical Analysis}{18}%\n\\contentsline {chapter}{\\numberline {4}User Manual}{19}%\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../Documents/Doc LaTex/JustRecipe Doc.toc b/../Documents/Doc LaTex/JustRecipe Doc.toc
--- a/../Documents/Doc LaTex/JustRecipe Doc.toc	(revision 9beedbb6c514844a8e573853eddfe21d52820d9e)
+++ b/../Documents/Doc LaTex/JustRecipe Doc.toc	(date 1609067369514)
@@ -7,38 +7,39 @@
 \contentsline {subsection}{\numberline {2.2.2}Functional Requirements}{5}%
 \contentsline {subsubsection}{Features offered to the Unregistered User}{5}%
 \contentsline {subsubsection}{Features offered to the Registered User}{5}%
-\contentsline {subsubsection}{Features offered to the Moderator}{6}%
-\contentsline {subsubsection}{Features offered to the Administrator}{6}%
+\contentsline {subsubsection}{Features offered to the Moderator}{5}%
+\contentsline {subsubsection}{Features offered to the Administrator}{5}%
 \contentsline {subsection}{\numberline {2.2.3}Non-Functional Requirements}{6}%
 \contentsline {subsection}{\numberline {2.2.4}Actors and Use Cases}{6}%
-\contentsline {section}{\numberline {2.3}UML Class Diagram}{6}%
-\contentsline {section}{\numberline {2.4}Data Model}{9}%
-\contentsline {subsection}{\numberline {2.4.1}DocumentDB}{9}%
-\contentsline {subsection}{\numberline {2.4.2}GraphDB}{10}%
-\contentsline {section}{\numberline {2.5}Distributed Database Design}{10}%
-\contentsline {subsection}{\numberline {2.5.1}Replicas}{10}%
-\contentsline {subsection}{\numberline {2.5.2}Sharding}{10}%
-\contentsline {section}{\numberline {2.6}Software Architecture}{10}%
-\contentsline {chapter}{\numberline {3}Implementation and Test}{11}%
-\contentsline {section}{\numberline {3.1}Main Modules}{11}%
-\contentsline {section}{\numberline {3.2}Main Packages and Classes}{11}%
-\contentsline {section}{\numberline {3.3}Most Relevant Queries}{11}%
-\contentsline {subsection}{\numberline {3.3.1}MongoDB}{11}%
-\contentsline {subsubsection}{Recipes of the user}{11}%
-\contentsline {subsubsection}{Search for recipe title}{12}%
-\contentsline {subsubsection}{Search for recipe category}{13}%
-\contentsline {subsubsection}{Search for recipe ingredients}{14}%
-\contentsline {subsubsection}{Most common recipe categories}{14}%
-\contentsline {subsubsection}{Last Comments}{15}%
-\contentsline {subsection}{\numberline {3.3.2}Neo4J}{16}%
-\contentsline {subsubsection}{Suggested Recipes}{16}%
-\contentsline {subsubsection}{Recipes of following users}{16}%
-\contentsline {subsubsection}{Most followed and active users}{17}%
-\contentsline {subsubsection}{Top Commentators}{17}%
-\contentsline {subsubsection}{Most liked users}{17}%
-\contentsline {subsubsection}{Best Recipes}{17}%
-\contentsline {subsubsection}{Search for username}{17}%
-\contentsline {subsubsection}{Search for user's full-name}{17}%
-\contentsline {section}{\numberline {3.4}Unit Test}{18}%
-\contentsline {section}{\numberline {3.5}Tests and Statistical Analysis}{18}%
-\contentsline {chapter}{\numberline {4}User Manual}{19}%
+\contentsline {section}{\numberline {2.3}UML Class Diagram}{7}%
+\contentsline {section}{\numberline {2.4}Data Model}{8}%
+\contentsline {subsection}{\numberline {2.4.1}DocumentDB}{8}%
+\contentsline {subsection}{\numberline {2.4.2}GraphDB}{9}%
+\contentsline {section}{\numberline {2.5}Distributed Database Design}{9}%
+\contentsline {subsection}{\numberline {2.5.1}Replicas}{9}%
+\contentsline {subsection}{\numberline {2.5.2}Sharding}{9}%
+\contentsline {section}{\numberline {2.6}Software Architecture}{9}%
+\contentsline {chapter}{\numberline {3}Implementation and Test}{10}%
+\contentsline {section}{\numberline {3.1}Main Modules}{10}%
+\contentsline {section}{\numberline {3.2}Main Packages and Classes}{10}%
+\contentsline {section}{\numberline {3.3}Most Relevant Queries}{10}%
+\contentsline {subsection}{\numberline {3.3.1}MongoDB}{10}%
+\contentsline {subsubsection}{Recipes of the user}{10}%
+\contentsline {subsubsection}{Search for recipe title}{11}%
+\contentsline {subsubsection}{Search for recipe category}{11}%
+\contentsline {subsubsection}{Search for recipe ingredients}{12}%
+\contentsline {subsubsection}{Most common recipe categories}{13}%
+\contentsline {subsubsection}{Recipes with below average calories - TO DO}{13}%
+\contentsline {subsubsection}{Last Comments}{13}%
+\contentsline {subsection}{\numberline {3.3.2}Neo4J}{14}%
+\contentsline {subsubsection}{Suggested Recipes - MANCA CODICE}{14}%
+\contentsline {subsubsection}{Recipes of following users}{14}%
+\contentsline {subsubsection}{Most followed and active users}{15}%
+\contentsline {subsubsection}{Top Commentators - TO DO}{15}%
+\contentsline {subsubsection}{Most liked users}{15}%
+\contentsline {subsubsection}{Best Recipes}{15}%
+\contentsline {subsubsection}{Search for username}{16}%
+\contentsline {subsubsection}{Search for user's full-name}{16}%
+\contentsline {section}{\numberline {3.4}Unit Test}{17}%
+\contentsline {section}{\numberline {3.5}Tests and Statistical Analysis}{17}%
+\contentsline {chapter}{\numberline {4}User Manual}{18}%
